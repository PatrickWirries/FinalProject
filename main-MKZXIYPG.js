var _P=Object.defineProperty,IP=Object.defineProperties;var EP=Object.getOwnPropertyDescriptors;var Vw=Object.getOwnPropertySymbols,wP=Object.getPrototypeOf,DP=Object.prototype.hasOwnProperty,CP=Object.prototype.propertyIsEnumerable,bP=Reflect.get;var jw=(n,e,t)=>e in n?_P(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})DP.call(e,t)&&jw(n,t,e[t]);if(Vw)for(var t of Vw(e))CP.call(e,t)&&jw(n,t,e[t]);return n},ce=(n,e)=>IP(n,EP(e));var Pr=(n,e,t)=>bP(wP(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Tp(n,e){return Object.is(n,e)}var We=null,ju=!1,Sp=1,Yt=Symbol("SIGNAL");function re(n){let e=We;return We=n,e}function Ap(){return We}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wa(n){if(ju)throw new Error("");if(We===null)return;We.consumerOnSignalRead(n);let e=We.nextProducerIndex++;if(Hu(We),e<We.producerNode.length&&We.producerNode[e]!==n&&Ia(We)){let t=We.producerNode[e];$u(t,We.producerIndexOfThis[e])}We.producerNode[e]!==n&&(We.producerNode[e]=n,We.producerIndexOfThis[e]=Ia(We)?Bw(n,We,e):0),We.producerLastReadVersion[e]=n.version}function Uw(){Sp++}function Rp(n){if(!(Ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sp)){if(!n.producerMustRecompute(n)&&!xp(n)){bp(n);return}n.producerRecomputeValue(n),bp(n)}}function Mp(n){if(n.liveConsumerNode===void 0)return;let e=ju;ju=!0;try{for(let t of n.liveConsumerNode)t.dirty||TP(t)}finally{ju=e}}function Np(){return We?.consumerAllowSignalWrites!==!1}function TP(n){n.dirty=!0,Mp(n),n.consumerMarkedDirty?.(n)}function bp(n){n.dirty=!1,n.lastCleanEpoch=Sp}function Bu(n){return n&&(n.nextProducerIndex=0),re(n)}function Pp(n,e){if(re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)$u(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xp(n){Hu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Rp(t),r!==t.version))return!0}return!1}function kp(n){if(Hu(n),Ia(n))for(let e=0;e<n.producerNode.length;e++)$u(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Bw(n,e,t){if($w(n),n.liveConsumerNode.length===0&&Hw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Bw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function $u(n,e){if($w(n),n.liveConsumerNode.length===1&&Hw(n))for(let r=0;r<n.producerNode.length;r++)$u(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Hu(i),i.producerIndexOfThis[r]=e}}function Ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function $w(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Hw(n){return n.producerNode!==void 0}function Op(n,e){let t=Object.create(SP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Rp(t),wa(t),t.value===Uu)throw t.error;return t.value};return r[Yt]=t,r}var Dp=Symbol("UNSET"),Cp=Symbol("COMPUTING"),Uu=Symbol("ERRORED"),SP=ce(F({},Ea),{value:Dp,dirty:!0,error:null,equal:Tp,kind:"computed",producerMustRecompute(n){return n.value===Dp||n.value===Cp},producerRecomputeValue(n){if(n.value===Cp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Cp;let t=Bu(n),r,i=!1;try{r=n.computation(),re(null),i=e!==Dp&&e!==Uu&&r!==Uu&&n.equal(e,r)}catch(o){r=Uu,n.error=o}finally{Pp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function AP(){throw new Error}var zw=AP;function qw(n){zw(n)}function Fp(n){zw=n}var RP=null;function Lp(n,e){let t=Object.create(zu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(wa(t),t.value);return r[Yt]=t,r}function Da(n,e){Np()||qw(n),n.equal(n.value,e)||(n.value=e,MP(n))}function Vp(n,e){Np()||qw(n),Da(n,e(n.value))}var zu=ce(F({},Ea),{equal:Tp,value:void 0,kind:"signal"});function MP(n){n.version++,Uw(),Mp(n),RP?.()}function jp(n){let e=re(null);try{return n()}finally{re(e)}}var Up;function Ca(){return Up}function Jn(n){let e=Up;return Up=n,e}var qu=Symbol("NotFound");function J(n){return typeof n=="function"}function Co(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Gu=Co(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Di(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Oe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof Gu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gw(o)}catch(s){e=e??[],s instanceof Gu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Gu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Di(t,e)}remove(e){let{_finalizers:t}=this;t&&Di(t,e),e instanceof n&&e._removeParent(this)}};Oe.EMPTY=(()=>{let n=new Oe;return n.closed=!0,n})();var Bp=Oe.EMPTY;function Wu(n){return n instanceof Oe||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function Gw(n){J(n)?n():n.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bo={setTimeout(n,e,...t){let{delegate:r}=bo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ku(n){bo.setTimeout(()=>{let{onUnhandledError:e}=dn;if(e)e(n);else throw n})}function ba(){}var Ww=$p("C",void 0,void 0);function Kw(n){return $p("E",void 0,n)}function Qw(n){return $p("N",n,void 0)}function $p(n,e,t){return{kind:n,value:e,error:t}}var Ci=null;function To(n){if(dn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ci;if(Ci=null,t)throw r}}else n()}function Yw(n){dn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=n)}var bi=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wu(e)&&e.add(this)):this.destination=FP}static create(e,t,r){return new So(e,t,r)}next(e){this.isStopped?zp(Qw(e),this):this._next(e)}error(e){this.isStopped?zp(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zp(Ww,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kP=Function.prototype.bind;function Hp(n,e){return kP.call(n,e)}var qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Qu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Qu(r)}else Qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qu(t)}}},So=class extends bi{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&dn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hp(e.next,o),error:e.error&&Hp(e.error,o),complete:e.complete&&Hp(e.complete,o)}):i=e}this.destination=new qp(i)}};function Qu(n){dn.useDeprecatedSynchronousErrorHandling?Yw(n):Ku(n)}function OP(n){throw n}function zp(n,e){let{onStoppedNotification:t}=dn;t&&bo.setTimeout(()=>t(n,e))}var FP={closed:!0,next:ba,error:OP,complete:ba};var Ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(n){return n}function Yu(...n){return Gp(n)}function Gp(n){return n.length===0?Ut:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=VP(t)?t:new So(t,r,i);return To(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Zw(r),new r((i,o)=>{let s=new So({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ao](){return this}pipe(...t){return Gp(t)(this)}toPromise(t){return t=Zw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Zw(n){var e;return(e=n??dn.Promise)!==null&&e!==void 0?e:Promise}function LP(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function VP(n){return n&&n instanceof bi||LP(n)&&Wu(n)}function Wp(n){return J(n?.lift)}function me(n){return e=>{if(Wp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,i){return new Kp(n,e,t,r,i)}var Kp=class extends bi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ro(){return me((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Mo=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return Ro()(this)}};var Jw=Co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Zu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Jw}next(t){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bp:(this.currentObservers=null,o.push(t),new Oe(()=>{this.currentObservers=null,Di(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Zu(e,t),n})(),Zu=class extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Bp}};var ct=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qp={now(){return(Qp.delegate||Date).now()},delegate:void 0};var Ju=class extends Oe{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:r}=Ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var No=class extends Ju{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Po.now=Qp.now;var xo=class extends Po{constructor(e,t=Po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Yp=new xo(No);var Xu=class extends No{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var el=class extends xo{};var Zp=new el(Xu);var Nt=new ue(n=>n.complete());function Xw(n){return n&&J(n.schedule)}function eD(n){return n[n.length-1]}function tl(n){return J(eD(n))?n.pop():void 0}function xr(n){return Xw(eD(n))?n.pop():void 0}function Jp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function nD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function tD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(n){return this instanceof Ti?(this.v=n,this):new Ti(n)}function rD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,p)}}function a(m,D){r[m]&&(i[m]=function(M){return new Promise(function(R,j){o.push([m,M,R,j])>1||u(m,M)})},D&&(i[m]=D(i[m])))}function u(m,D){try{l(r[m](D))}catch(M){y(o[0][3],M)}}function l(m){m.value instanceof Ti?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,D){m(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function iD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tD=="function"?tD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var nl=n=>n&&typeof n.length=="number"&&typeof n!="function";function rl(n){return J(n?.then)}function il(n){return J(n[Ao])}function ol(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function sl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var al=jP();function cl(n){return J(n?.[al])}function ul(n){return rD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ti(t.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{t.releaseLock()}})}function ll(n){return J(n?.getReader)}function je(n){if(n instanceof ue)return n;if(n!=null){if(il(n))return UP(n);if(nl(n))return BP(n);if(rl(n))return $P(n);if(ol(n))return oD(n);if(cl(n))return HP(n);if(ll(n))return zP(n)}throw sl(n)}function UP(n){return new ue(e=>{let t=n[Ao]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BP(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function $P(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ku)})}function HP(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function oD(n){return new ue(e=>{qP(n,e).catch(t=>e.error(t))})}function zP(n){return oD(ul(n))}function qP(n,e){var t,r,i,o;return nD(this,void 0,void 0,function*(){try{for(t=iD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kr(n,e=0){return me((t,r)=>{t.subscribe(fe(r,i=>Pt(r,n,()=>r.next(i),e),()=>Pt(r,n,()=>r.complete(),e),i=>Pt(r,n,()=>r.error(i),e)))})}function Or(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sD(n,e){return je(n).pipe(Or(e),kr(e))}function aD(n,e){return je(n).pipe(Or(e),kr(e))}function cD(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function uD(n,e){return new ue(t=>{let r;return Pt(t,e,()=>{r=n[al](),Pt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function dl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{Pt(t,e,()=>{let r=n[Symbol.asyncIterator]();Pt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lD(n,e){return dl(ul(n),e)}function dD(n,e){if(n!=null){if(il(n))return sD(n,e);if(nl(n))return cD(n,e);if(rl(n))return aD(n,e);if(ol(n))return dl(n,e);if(cl(n))return uD(n,e);if(ll(n))return lD(n,e)}throw sl(n)}function Pe(n,e){return e?dD(n,e):je(n)}function Y(...n){let e=xr(n);return Pe(n,e)}function ko(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Xp(n){return!!n&&(n instanceof ue||J(n.lift)&&J(n.subscribe))}var Xn=Co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return me((t,r)=>{let i=0;t.subscribe(fe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:GP}=Array;function WP(n,e){return GP(e)?n(...e):n(e)}function hl(n){return le(e=>WP(n,e))}var{isArray:KP}=Array,{getPrototypeOf:QP,prototype:YP,keys:ZP}=Object;function fl(n){if(n.length===1){let e=n[0];if(KP(e))return{args:e,keys:null};if(JP(e)){let t=ZP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function JP(n){return n&&typeof n=="object"&&QP(n)===YP}function pl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Sa(...n){let e=xr(n),t=tl(n),{args:r,keys:i}=fl(n);if(r.length===0)return Pe([],e);let o=new ue(XP(r,e,i?s=>pl(i,s):Ut));return t?o.pipe(hl(t)):o}function XP(n,e,t=Ut){return r=>{hD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hD(e,()=>{let l=Pe(n[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hD(n,e,t){n?Pt(t,n,e):e()}function fD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=M=>l<r?D(M):u.push(M),D=M=>{o&&e.next(M),l++;let R=!1;je(t(M,h++)).subscribe(fe(e,j=>{i?.(j),o?m(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?Pt(e,s,()=>D(j)):D(j)}y()}catch(j){e.error(j)}}))};return n.subscribe(fe(e,m,()=>{p=!0,y()})),()=>{a?.()}}function Ke(n,e,t=1/0){return J(e)?Ke((r,i)=>le((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>fD(r,i,n,t)))}function pD(n=1/0){return Ke(Ut,n)}function gD(){return pD(1)}function Oo(...n){return gD()(Pe(n,xr(n)))}function gl(n){return new ue(e=>{je(n()).subscribe(e)})}function eg(...n){let e=tl(n),{args:t,keys:r}=fl(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;je(t[h]).subscribe(fe(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?pl(r,a):a),o.complete())}))}});return e?i.pipe(hl(e)):i}function Zt(n,e){return me((t,r)=>{let i=0;t.subscribe(fe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Fr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(fe(t,void 0,void 0,s=>{o=je(n(s,Fr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function mD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Fo(n,e){return J(e)?Ke(n,e,1):Ke(n,1)}function Lr(n){return me((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function er(n){return n<=0?()=>Nt:me((e,t)=>{let r=0;e.subscribe(fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ml(n=ex){return me((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ex(){return new Xn}function Aa(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function tr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Zt((i,o)=>n(i,o,r)):Ut,er(1),t?Lr(e):ml(()=>new Xn))}function Lo(n){return n<=0?()=>Nt:me((e,t)=>{let r=[];e.subscribe(fe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Zt((i,o)=>n(i,o,r)):Ut,Lo(1),t?Lr(e):ml(()=>new Xn))}function yl(n,e){return me(mD(n,e,arguments.length>=2,!0))}function vl(...n){let e=xr(n);return me((t,r)=>{(e?Oo(n,t,e):Oo(n,t)).subscribe(r)})}function Jt(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;je(n(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ng(n){return me((e,t)=>{je(n).subscribe(fe(t,()=>t.complete(),ba)),!t.closed&&e.subscribe(t)})}function ut(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ut}var oC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(nx(e,t)),this.code=e}};function tx(n){return`NG0${Math.abs(n)}`}function nx(n,e){return`${tx(n)}${e?": "+e:""}`}var sC=Symbol("InputSignalNode#UNSET"),rx=ce(F({},zu),{transformFn:void 0,applyValueToInputSignal(n,e){Da(n,e)}});function aC(n,e){let t=Object.create(rx);t.value=n,t.transformFn=e?.transform;function r(){if(wa(t),t.value===sC){let i=null;throw new $(-950,i)}return t.value}return r[Yt]=t,r}function Ha(n){return{toString:n}.toString()}var _l="__parameters__";function ix(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function cC(n,e,t){return Ha(()=>{let r=ix(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_l)?u[_l]:Object.defineProperty(u,_l,{value:[]})[_l];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vg=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function ox(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(kt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function yD(n,e){return n?e?`${n} ${e}`:n:e||""}var sx=Te({__forward_ref__:Te});function Vi(n){return n.__forward_ref__=Vi,n.toString=function(){return kt(this())},n}function Ct(n){return uC(n)?n():n}function uC(n){return typeof n=="function"&&n.hasOwnProperty(sx)&&n.__forward_ref__===Vi}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ur(n){return{providers:n.providers||[],imports:n.imports||[]}}function ed(n){return vD(n,dC)||vD(n,hC)}function lC(n){return ed(n)!==null}function vD(n,e){return n.hasOwnProperty(e)?n[e]:null}function ax(n){let e=n&&(n[dC]||n[hC]);return e||null}function _D(n){return n&&(n.hasOwnProperty(ID)||n.hasOwnProperty(cx))?n[ID]:null}var dC=Te({\u0275prov:Te}),ID=Te({\u0275inj:Te}),hC=Te({ngInjectableDef:Te}),cx=Te({ngInjectorDef:Te}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fC(n){return n&&!!n.\u0275providers}var ux=Te({\u0275cmp:Te}),lx=Te({\u0275dir:Te}),dx=Te({\u0275pipe:Te}),hx=Te({\u0275mod:Te}),Sl=Te({\u0275fac:Te}),Pa=Te({__NG_ELEMENT_ID__:Te}),ED=Te({__NG_ENV_ID__:Te});function td(n){return typeof n=="string"?n:n==null?"":String(n)}function fx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():td(n)}function pC(n,e){throw new $(-200,n)}function dm(n,e){throw new $(-201,!1)}var oe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(oe||{}),_g;function gC(){return _g}function xt(n){let e=_g;return _g=n,e}function mC(n,e,t){let r=ed(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&oe.Optional)return null;if(e!==void 0)return e;dm(n,"Injector")}var px={},Si=px,Ig="__NG_DI_FLAG__",Al=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?qu:Si,r)}},Rl="ngTempTokenPath",gx="ngTokenPath",mx=/\n/gm,yx="\u0275",wD="__source";function vx(n,e=oe.Default){if(Ca()===void 0)throw new $(-203,!1);if(Ca()===null)return mC(n,void 0,e);{let t=Ca(),r;return t instanceof Al?r=t.injector:r=t,r.get(n,e&oe.Optional?null:void 0,e)}}function ie(n,e=oe.Default){return(gC()||vx)(Ct(n),e)}function N(n,e=oe.Default){return ie(n,nd(e))}function nd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Eg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){let a=r[s],u=_x(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function yC(n,e){return n[Ig]=e,n.prototype[Ig]=e,n}function _x(n){return n[Ig]}function Ix(n,e,t,r){let i=n[Rl];throw e[wD]&&i.unshift(e[wD]),n.message=Ex(`
`+n.message,i,t,r),n[gx]=i,n[Rl]=null,n}function Ex(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==yx?n.slice(2):n;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(mx,`
  `)}`}var Bt=yC(cC("Optional"),8);var wx=yC(cC("SkipSelf"),4);function Ri(n,e){let t=n.hasOwnProperty(Sl);return t?n[Sl]:null}function hm(n,e){n.forEach(t=>Array.isArray(t)?hm(t,e):e(t))}function vC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ml(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Dx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Cx(n,e,t){let r=za(n,e);return r>=0?n[r|1]=t:(r=~r,Dx(n,r,e,t)),r}function rg(n,e){let t=za(n,e);if(t>=0)return n[t|1]}function za(n,e){return bx(n,e,1)}function bx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Mi={},Xt=[],xa=new H(""),_C=new H("",-1),IC=new H(""),Nl=class{get(e,t=Si){if(t===Si){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return t}};function EC(n,e){let t=n[hx]||null;if(!t&&e===!0)throw new Error(`Type ${kt(n)} does not have '\u0275mod' property.`);return t}function Ni(n){return n[ux]||null}function Tx(n){return n[lx]||null}function Sx(n){return n[dx]||null}function or(n){return{\u0275providers:n}}function Ax(...n){return{\u0275providers:wC(!0,n),\u0275fromNgModule:!0}}function wC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return hm(e,s=>{let a=s;wg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DC(i,o),t}function DC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];fm(i,o=>{e(o,r)})}}function wg(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=_D(n),s=!o&&Ni(n);if(!o&&!s){let u=n.ngModule;if(o=_D(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)wg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{hm(o.imports,h=>{wg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DC(l,e)}if(!a){let l=Ri(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:IC,useValue:i,multi:!0},i),e({provide:xa,useValue:()=>ie(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;fm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function fm(n,e){for(let t of n)fC(t)&&(t=t.\u0275providers),Array.isArray(t)?fm(t,e):e(t)}var Rx=Te({provide:String,useValue:Te});function CC(n){return n!==null&&typeof n=="object"&&Rx in n}function Mx(n){return!!(n&&n.useExisting)}function Nx(n){return!!(n&&n.useFactory)}function $o(n){return typeof n=="function"}function Px(n){return!!n.useClass}var rd=new H(""),wl={},DD={},ig;function pm(){return ig===void 0&&(ig=new Nl),ig}var Tt=class{},ka=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Cg(e,s=>this.processProvider(s)),this.records.set(_C,Vo(void 0,this)),i.has("environment")&&this.records.set(Tt,Vo(void 0,this));let o=this.records.get(rd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IC,Xt,oe.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?qu:Si,r)}destroy(){Ma(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return Ma(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ma(this);let t=Jn(this),r=xt(void 0),i;try{return e()}finally{Jn(t),xt(r)}}get(e,t=Si,r=oe.Default){if(Ma(this),e.hasOwnProperty(ED))return e[ED](this);r=nd(r);let i,o=Jn(this),s=xt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Lx(e)&&ed(e);l&&this.injectableDefInScope(l)?u=Vo(Dg(e),wl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?pm():this.parent;return t=r&oe.Optional&&t===Si?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Rl]=a[Rl]||[]).unshift(kt(e)),o)throw a;return Ix(a,e,"R3InjectorError",this.source)}else throw a}finally{xt(s),Jn(o)}}resolveInjectorInitializers(){let e=re(null),t=Jn(this),r=xt(void 0),i;try{let o=this.get(xa,Xt,oe.Self);for(let s of o)s()}finally{Jn(t),xt(r),re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=$o(e)?e:Ct(e&&e.provide),r=kx(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Vo(void 0,wl,!0),i.factory=()=>Eg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=re(null);try{return t.value===DD?pC(kt(e)):t.value===wl&&(t.value=DD,t.value=t.factory()),typeof t.value=="object"&&t.value&&Fx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Dg(n){let e=ed(n),t=e!==null?e.factory:Ri(n);if(t!==null)return t;if(n instanceof H)throw new $(204,!1);if(n instanceof Function)return xx(n);throw new $(204,!1)}function xx(n){if(n.length>0)throw new $(204,!1);let t=ax(n);return t!==null?()=>t.factory(n):()=>new n}function kx(n){if(CC(n))return Vo(void 0,n.useValue);{let e=bC(n);return Vo(e,wl)}}function bC(n,e,t){let r;if($o(n)){let i=Ct(n);return Ri(i)||Dg(i)}else if(CC(n))r=()=>Ct(n.useValue);else if(Nx(n))r=()=>n.useFactory(...Eg(n.deps||[]));else if(Mx(n))r=()=>ie(Ct(n.useExisting));else{let i=Ct(n&&(n.useClass||n.provide));if(Ox(n))r=()=>new i(...Eg(n.deps));else return Ri(i)||Dg(i)}return r}function Ma(n){if(n.destroyed)throw new $(205,!1)}function Vo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ox(n){return!!n.deps}function Fx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Lx(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function Cg(n,e){for(let t of n)Array.isArray(t)?Cg(t,e):t&&fC(t)?Cg(t.\u0275providers,e):e(t)}function At(n,e){let t;n instanceof ka?(Ma(n),t=n):t=new Al(n);let r,i=Jn(t),o=xt(void 0);try{return e()}finally{Jn(i),xt(o)}}function TC(){return gC()!==void 0||Ca()!=null}function SC(n){if(!TC())throw new $(-203,!1)}function Vx(n){return typeof n=="function"}var sr=0,se=1,ee=2,St=3,fn=4,gn=5,Oa=6,Pl=7,Ye=8,Ho=9,nr=10,Ze=11,Fa=12,CD=13,Xo=14,pn=15,zo=16,jo=17,qo=18,id=19,AC=20,Vr=21,og=22,xl=23,en=24,sg=25,Ot=26,RC=1;var Pi=7,kl=8,Ol=9,bt=10;function jr(n){return Array.isArray(n)&&typeof n[RC]=="object"}function ar(n){return Array.isArray(n)&&n[RC]===!0}function MC(n){return(n.flags&4)!==0}function es(n){return n.componentOffset>-1}function gm(n){return(n.flags&1)===1}function Sn(n){return!!n.template}function Fl(n){return(n[ee]&512)!==0}function qa(n){return(n[ee]&256)===256}var bg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function NC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Br=(()=>{let n=()=>PC;return n.ngInherit=!0,n})();function PC(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ux),jx}function jx(){let n=kC(this),e=n?.current;if(e){let t=n.previous;if(t===Mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Ux(n,e,t,r,i){let o=this.declaredInputs[r],s=kC(n)||Bx(n,{previous:Mi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new bg(l&&l.currentValue,t,u===Mi),NC(n,e,i,t)}var xC="__ngSimpleChanges__";function kC(n){return n[xC]||null}function Bx(n,e){return n[xC]=e}var bD=null;var Ae=function(n,e=null,t){bD?.(n,e,t)},$x="svg",Hx="math";function An(n){for(;Array.isArray(n);)n=n[sr];return n}function OC(n,e){return An(e[n])}function Nn(n,e){return An(e[n.index])}function mm(n,e){return n.data[e]}function zx(n,e){return n[e]}function Rn(n,e){let t=e[n];return jr(t)?t:t[sr]}function ym(n){return(n[ee]&128)===128}function qx(n){return ar(n[St])}function Go(n,e){return e==null?null:n[e]}function FC(n){n[jo]=0}function LC(n){n[ee]&1024||(n[ee]|=1024,ym(n)&&sd(n))}function Gx(n,e){for(;n>0;)e=e[Xo],n--;return e}function od(n){return!!(n[ee]&9216||n[en]?.dirty)}function Tg(n){n[nr].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),od(n)&&sd(n)}function sd(n){n[nr].changeDetectionScheduler?.notify(0);let e=xi(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!ym(e)));)e=xi(e)}function VC(n,e){if(qa(n))throw new $(911,!1);n[Vr]===null&&(n[Vr]=[]),n[Vr].push(e)}function Wx(n,e){if(n[Vr]===null)return;let t=n[Vr].indexOf(e);t!==-1&&n[Vr].splice(t,1)}function xi(n){let e=n[St];return ar(e)?e[St]:e}function jC(n){return n[Pl]??=[]}function UC(n){return n.cleanup??=[]}var de={lFrame:KC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sg=!1;function Kx(){return de.lFrame.elementDepthCount}function Qx(){de.lFrame.elementDepthCount++}function Yx(){de.lFrame.elementDepthCount--}function BC(){return de.bindingsEnabled}function Zx(){return de.skipHydrationRootTNode!==null}function Jx(n){return de.skipHydrationRootTNode===n}function Xx(){de.skipHydrationRootTNode=null}function Ee(){return de.lFrame.lView}function Rt(){return de.lFrame.tView}function tn(n){return de.lFrame.contextLView=n,n[Ye]}function nn(n){return de.lFrame.contextLView=null,n}function $t(){let n=$C();for(;n!==null&&n.type===64;)n=n.parent;return n}function $C(){return de.lFrame.currentTNode}function ek(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ga(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function HC(){return de.lFrame.isParent}function tk(){de.lFrame.isParent=!1}function zC(){return Sg}function TD(n){let e=Sg;return Sg=n,e}function nk(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rk(n){return de.lFrame.bindingIndex=n}function ts(){return de.lFrame.bindingIndex++}function ik(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ok(){return de.lFrame.inI18n}function sk(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ag(e)}function ak(){return de.lFrame.currentDirectiveIndex}function Ag(n){de.lFrame.currentDirectiveIndex=n}function ck(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qC(n){de.lFrame.currentQueryIndex=n}function uk(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[gn]:null}function GC(n,e,t){if(t&oe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&oe.Host);)if(i=uk(o),i===null||(o=o[Xo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=WC();return r.currentTNode=e,r.lView=n,!0}function vm(n){let e=WC(),t=n[se];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WC(){let n=de.lFrame,e=n===null?null:n.child;return e===null?KC(n):e}function KC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QC(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var YC=QC;function _m(){let n=QC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lk(n){return(de.lFrame.contextLView=Gx(n,de.lFrame.contextLView))[Ye]}function ji(){return de.lFrame.selectedIndex}function ki(n){de.lFrame.selectedIndex=n}function Im(){let n=de.lFrame;return mm(n.tView,n.selectedIndex)}function dk(){return de.lFrame.currentNamespace}var ZC=!0;function Em(){return ZC}function wm(n){ZC=n}function hk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=PC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function JC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Dl(n,e,t){XC(n,e,3,t)}function Cl(n,e,t,r){(n[ee]&3)===t&&XC(n,e,t,r)}function ag(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function XC(n,e,t,r){let i=r!==void 0?n[jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[jo]+=65536),(a<o||o==-1)&&(fk(n,t,e,u),n[jo]=(n[jo]&4294901760)+u+2),u++}function SD(n,e){Ae(4,n,e);let t=re(null);try{e.call(n)}finally{re(t),Ae(5,n,e)}}function fk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[jo]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,SD(a,o)):SD(a,o)}var Bo=-1,Oi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function pk(n){return(n.flags&8)!==0}function gk(n){return(n.flags&16)!==0}function mk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];yk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function eb(n){return n===3||n===4||n===6}function yk(n){return n.charCodeAt(0)===64}function La(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AD(n,t,i,null,e[++r]):AD(n,t,i,null,null))}}return n}function AD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function tb(n){return n!==Bo}function Ll(n){return n&32767}function vk(n){return n>>16}function Vl(n,e){let t=vk(n),r=e;for(;t>0;)r=r[Xo],t--;return r}var Rg=!0;function jl(n){let e=Rg;return Rg=n,e}var _k=256,nb=_k-1,rb=5,Ik=0,Tn={};function Ek(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Pa)&&(r=t[Pa]),r==null&&(r=t[Pa]=Ik++);let i=r&nb,o=1<<i;e.data[n+(i>>rb)]|=o}function Ul(n,e){let t=ib(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,cg(r.data,n),cg(e,null),cg(r.blueprint,null));let i=Dm(n,e),o=n.injectorIndex;if(tb(i)){let s=Ll(i),a=Vl(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function cg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ib(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Dm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ub(i),r===null)return Bo;if(t++,i=i[Xo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Bo}function Mg(n,e,t){Ek(n,e,t)}function wk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(eb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ob(n,e,t){if(t&oe.Optional||n!==void 0)return n;dm(e,"NodeInjector")}function sb(n,e,t,r){if(t&oe.Optional&&r===void 0&&(r=null),(t&(oe.Self|oe.Host))===0){let i=n[Ho],o=xt(void 0);try{return i?i.get(e,r,t&oe.Optional):mC(e,r,t&oe.Optional)}finally{xt(o)}}return ob(r,e,t)}function ab(n,e,t,r=oe.Default,i){if(n!==null){if(e[ee]&2048&&!(r&oe.Self)){let s=Sk(n,e,t,r,Tn);if(s!==Tn)return s}let o=cb(n,e,t,r,Tn);if(o!==Tn)return o}return sb(e,t,r,i)}function cb(n,e,t,r,i){let o=bk(t);if(typeof o=="function"){if(!GC(e,n,r))return r&oe.Host?ob(i,t,r):sb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&oe.Optional))dm(t);else return s}finally{YC()}}else if(typeof o=="number"){let s=null,a=ib(n,e),u=Bo,l=r&oe.Host?e[pn][gn]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?Dm(n,e):e[a+8],u===Bo||!MD(r,!1)?a=-1:(s=e[se],a=Ll(u),e=Vl(u,e)));a!==-1;){let h=e[se];if(RD(o,a,h.data)){let p=Dk(a,e,t,s,r,l);if(p!==Tn)return p}u=e[a+8],u!==Bo&&MD(r,e[se].data[a+8]===l)&&RD(o,a,e)?(s=h,a=Ll(u),e=Vl(u,e)):a=-1}}return i}function Dk(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?es(a)&&Rg:r!=s&&(a.type&3)!==0,l=i&oe.Host&&o===a,h=Ck(a,s,t,u,l);return h!==null?Bl(e,s,h,a):Tn}function Ck(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let D=s[m];if(m<u&&t===D||m>=u&&D.type===t)return m}if(i){let m=s[u];if(m&&Sn(m)&&m.type===t)return u}return null}function Bl(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Oi){let s=i;s.resolving&&pC(fx(o[t]));let a=jl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?xt(s.injectImpl):null,h=GC(n,r,oe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&hk(t,o[t],e)}finally{l!==null&&xt(l),jl(a),s.resolving=!1,YC()}}return i}function bk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Pa)?n[Pa]:void 0;return typeof e=="number"?e>=0?e&nb:Tk:e}function RD(n,e,t){let r=1<<n;return!!(t[e+(n>>rb)]&r)}function MD(n,e){return!(n&oe.Self)&&!(n&oe.Host&&e)}var Ai=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ab(this._tNode,this._lView,e,nd(r),t)}};function Tk(){return new Ai($t(),Ee())}function ns(n){return Ha(()=>{let e=n.prototype.constructor,t=e[Sl]||Ng(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Sl]||Ng(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ng(n){return uC(n)?()=>{let e=Ng(Ct(n));return e&&e()}:Ri(n)}function Sk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!Fl(s);){let a=cb(o,s,t,r|oe.Self,Tn);if(a!==Tn)return a;let u=o.parent;if(!u){let l=s[AC];if(l){let h=l.get(t,Tn,r);if(h!==Tn)return h}u=ub(s),s=s[Xo]}o=u}return i}function ub(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[gn]:null}function Cm(n){return wk($t(),n)}function ND(n,e=null,t=null,r){let i=lb(n,e,t,r);return i.resolveInjectorInitializers(),i}function lb(n,e=null,t=null,r,i=new Set){let o=[t||Xt,Ax(n)];return r=r||(typeof n=="object"?void 0:kt(n)),new ka(o,e||pm(),r||null,i)}var lt=class n{static THROW_IF_NOT_FOUND=Si;static NULL=new Nl;static create(e,t){if(Array.isArray(e))return ND({name:""},t,e,"");{let r=e.name??"";return ND({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>ie(_C)});static __NG_ELEMENT_ID__=-1};var Ak=new H("");Ak.__NG_ELEMENT_ID__=n=>{let e=$t();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&oe.Optional)return null;throw new $(204,!1)};var db=!1,Wa=(()=>{class n{static __NG_ELEMENT_ID__=Rk;static __NG_ENV_ID__=t=>t}return n})(),Pg=class extends Wa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return VC(this._lView,e),()=>Wx(this._lView,e)}};function Rk(){return new Pg(Ee())}var Wo=class{},bm=new H("",{providedIn:"root",factory:()=>!1});var hb=new H(""),fb=new H(""),Ui=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),ad=(()=>{class n{internalPendingTasks=N(Ui);scheduler=N(Wo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),xg=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,TC()&&(this.destroyRef=N(Wa,{optional:!0})??void 0,this.pendingTasks=N(Ui,{optional:!0})??void 0)}emit(e){let t=re(null);try{super.next(e)}finally{re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=xg;function $l(...n){}function pb(n){let e,t;function r(){n=$l;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function PD(n){return queueMicrotask(()=>n()),()=>{n=$l}}var Tm="isAngularZone",Hl=Tm+"_ID",Mk=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=db}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Nk,$l,$l);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Nk={};function Sm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Pk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pb(()=>{n.callbackScheduled=!1,kg(n),n.isCheckStableRunning=!0,Sm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kg(n)}function xk(n){let e=()=>{Pk(n)},t=Mk++;n._inner=n._inner.fork({name:"angular",properties:{[Tm]:!0,[Hl]:t,[Hl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(kk(u))return r.invokeTask(o,s,a,u);try{return xD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return xD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Ok(u)&&e(),kD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kg(n),Sm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kD(n){n._nesting--,Sm(n)}var Og=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function kk(n){return gb(n,"__ignore_ng_zone__")}function Ok(n){return gb(n,"__scheduler_tick__")}function gb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var rr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Fk=new H("",{providedIn:"root",factory:()=>{let n=N(Ce),e=N(rr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function OD(n,e){return aC(n,e)}function Lk(n){return aC(sC,n)}var mb=(OD.required=Lk,OD);function Vk(){return cd($t(),Ee())}function cd(n,e){return new Bi(Nn(n,e))}var Bi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Vk}return n})();function jk(n){return typeof n=="function"&&n[Yt]!==void 0}function $r(n,e){let t=Lp(n,e?.equal),r=t[Yt];return t.set=i=>Da(r,i),t.update=i=>Vp(r,i),t.asReadonly=Uk.bind(t),t}function Uk(){let n=this[Yt];if(n.readonlyFn===void 0){let e=()=>this();e[Yt]=n,n.readonlyFn=e}return n.readonlyFn}function yb(n){return jk(n)&&typeof n.set=="function"}function vb(n){return(n.flags&128)===128}var _b=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_b||{}),Ib=new Map,Bk=0;function $k(){return Bk++}function Hk(n){Ib.set(n[id],n)}function Fg(n){Ib.delete(n[id])}var FD="__ngContext__";function Ka(n,e){jr(e)?(n[FD]=e[id],Hk(e)):n[FD]=e}function Eb(n){return Db(n[Fa])}function wb(n){return Db(n[fn])}function Db(n){for(;n!==null&&!ar(n);)n=n[fn];return n}var Lg;function Cb(n){Lg=n}function zk(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new $(210,!1)}var Am=new H("",{providedIn:"root",factory:()=>qk}),qk="ng",Rm=new H(""),$i=new H("",{providedIn:"platform",factory:()=>"unknown"});var Mm=new H("",{providedIn:"root",factory:()=>zk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Gk="h",Wk="b";var bb=!1,Kk=new H("",{providedIn:"root",factory:()=>bb});var Tb=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Tb||{}),ud=new H(""),LD=new Set;function Qa(n){LD.has(n)||(LD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Qk=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();var Yk=()=>null;function Sb(n,e,t=!1){return Yk(n,e,t)}function Ab(n,e){let t=n.contentQueries;if(t!==null){let r=re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];qC(o),a.contentQueries(2,e[s],s)}}}finally{re(r)}}}function Vg(n,e,t){qC(0);let r=re(null);try{e(n,t)}finally{re(r)}}function Rb(n,e,t){if(MC(e)){let r=re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{re(r)}}}var Mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mn||{});var Il;function Zk(){if(Il===void 0&&(Il=null,vg.trustedTypes))try{Il=vg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Il}function VD(n){return Zk()?.createScriptURL(n)||n}var zl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oC})`}};function Nm(n){return n instanceof zl?n.changingThisBreaksApplicationSecurity:n}function Mb(n,e){let t=Jk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${oC})`)}return t===e}function Jk(n){return n instanceof zl&&n.getTypeName()||null}var Xk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eO(n){return n=String(n),n.match(Xk)?n:"unsafe:"+n}var Pm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pm||{});function tO(n){let e=Pb();return e?e.sanitize(Pm.URL,n)||"":Mb(n,"URL")?Nm(n):eO(td(n))}function nO(n){let e=Pb();if(e)return VD(e.sanitize(Pm.RESOURCE_URL,n)||"");if(Mb(n,"ResourceURL"))return VD(Nm(n));throw new $(904,!1)}function rO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?nO:tO}function Nb(n,e,t){return rO(e,t)(n)}function Pb(){let n=Ee();return n&&n[nr].sanitizer}function xb(n){return n instanceof Function?n():n}function iO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var kb="ng-template";function oO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function xm(n){return n.type===4&&n.value!==kb}function sO(n,e,t){let r=n.type===4&&!t?kb:n.value;return e===r}function aO(n,e,t){let r=4,i=n.attrs,o=i!==null?lO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!hn(r)&&!hn(u))return!1;if(s&&hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!sO(n,u,t)||u===""&&e.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(i===null||!oO(n,i,u,t)){if(hn(r))return!1;s=!0}}else{let l=e[++a],h=cO(u,i,xm(n),t);if(h===-1){if(hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(n){return(n&1)===0}function cO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dO(e,n)}function uO(n,e,t=!1){for(let r=0;r<e.length;r++)if(aO(n,e[r],t))return!0;return!1}function lO(n){for(let e=0;e<n.length;e++){let t=n[e];if(eb(t))return e}return n.length}function dO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function jD(n,e){return n?":not("+e.trim()+")":e}function hO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(e+=jD(o,i),i=""),r=s,o=o||!hn(r);t++}return i!==""&&(e+=jD(o,i)),e}function fO(n){return n.map(hO).join(",")}function pO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!hn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Hr={};function gO(n,e){return n.createText(e)}function mO(n,e,t){n.setValue(e,t)}function Ob(n,e,t){return n.createElement(e,t)}function ql(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Fb(n,e,t){n.appendChild(e,t)}function UD(n,e,t,r,i){r!==null?ql(n,e,t,r,i):Fb(n,e,t)}function yO(n,e,t){n.removeChild(null,e,t)}function vO(n,e,t){n.setAttribute(e,"style",t)}function _O(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Lb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mk(n,e,r),i!==null&&_O(n,e,i),o!==null&&vO(n,e,o)}function km(n,e,t,r,i,o,s,a,u,l,h){let p=Ot+r,y=p+i,m=IO(p,y),D=typeof l=="function"?l():l;return m[se]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function IO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hr);return t}function EO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=km(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Om(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sr]=i,p[ee]=r|4|128|8|64|1024,(l!==null||n&&n[ee]&2048)&&(p[ee]|=2048),FC(p),p[St]=p[Xo]=n,p[Ye]=t,p[nr]=s||n&&n[nr],p[Ze]=a||n&&n[Ze],p[Ho]=u||n&&n[Ho]||null,p[gn]=o,p[id]=$k(),p[Oa]=h,p[AC]=l,p[pn]=e.type==2?n[pn]:p,p}function wO(n,e,t){let r=Nn(e,n),i=EO(t),o=n[nr].rendererFactory,s=Fm(n,Om(n,i,null,Vb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Vb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fm(n,e){return n[Fa]?n[CD][fn]=e:n[Fa]=e,n[CD]=e,e}function q(n=1){Ub(Rt(),Ee(),ji()+n,!1)}function Ub(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Dl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Cl(e,o,0,t)}ki(t)}var ld=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ld||{});function jg(n,e,t,r){let i=re(null);try{let[o,s,a]=n.inputs[t],u=null;(s&ld.SignalBased)!==0&&(u=e[o][Yt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):NC(e,u,o,r)}finally{re(i)}}function Bb(n,e,t,r,i){let o=ji(),s=r&2;try{ki(-1),s&&e.length>Ot&&Ub(n,e,Ot,!1),Ae(s?2:0,i),t(r,i)}finally{ki(o),Ae(s?3:1,i)}}function Lm(n,e,t){AO(n,e,t),(t.flags&64)===64&&RO(n,e,t)}function $b(n,e,t=Nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DO(n,e,t,r){let o=r.get(Kk,bb)||t===Mn.ShadowDom,s=n.selectRootElement(e,o);return CO(s),s}function CO(n){bO(n)}var bO=()=>null;function TO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Hb(n,e,t,r,i,o,s,a){if(!a&&Vm(e,n,t,r,i)){es(e)&&SO(t,e.index);return}if(e.type&3){let u=Nn(e,t);r=TO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function SO(n,e){let t=Rn(e,n);t[ee]&16||(t[ee]|=64)}function AO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;es(t)&&wO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ul(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Bl(e,n,s,t);if(Ka(u,e),o!==null&&xO(e,s-r,u,a,t,o),Sn(a)){let l=Rn(t.index,e);l[Ye]=Bl(e,n,s,t)}}}function RO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ak();try{ki(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Ag(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&MO(u,l)}}finally{ki(-1),Ag(s)}}function MO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];uO(e,o.selectors,!1)&&(r??=[],Sn(o)?r.unshift(o):r.push(o))}return r}function NO(n,e,t,r,i,o){let s=Nn(n,e);PO(e[Ze],s,o,n.value,t,r,i)}function PO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?td(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function xO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];jg(r,t,u,l)}}function kO(n,e){let t=n[Ho],r=t?t.get(rr,null):null;r&&r.handleError(e)}function Vm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];jg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];jg(h,l,r,i),a=!0}return a}function OO(n,e){let t=Rn(e,n),r=t[se];FO(r,t);let i=t[sr];i!==null&&t[Oa]===null&&(t[Oa]=Sb(i,t[Ho])),Ae(18),jm(r,t,t[Ye]),Ae(19,t[Ye])}function FO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jm(n,e,t){vm(e);try{let r=n.viewQuery;r!==null&&Vg(1,r,t);let i=n.template;i!==null&&Bb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[qo]?.finishViewCreation(n),n.staticContentQueries&&Ab(n,e),n.staticViewQueries&&Vg(2,n.viewQuery,t);let o=n.components;o!==null&&LO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,_m()}}function LO(n,e){for(let t=0;t<e.length;t++)OO(n,e[t])}function dd(n,e,t,r){let i=re(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=Om(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[zo]=l;let h=n[qo];return h!==null&&(u[qo]=h.createEmbeddedView(o)),jm(o,u,t),u}finally{re(i)}}function Va(n,e){return!e||e.firstChild===null||vb(n)}var VO;function Um(n,e){return VO(n,e)}var ir=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ir||{});function qb(n){return(n.flags&32)===32}function Uo(n,e,t,r,i){if(r!=null){let o,s=!1;ar(r)?o=r:jr(r)&&(s=!0,r=r[sr]);let a=An(r);n===0&&t!==null?i==null?Fb(e,t,a):ql(e,t,a,i||null,!0):n===1&&t!==null?ql(e,t,a,i||null,!0):n===2?yO(e,a,s):n===3&&e.destroyNode(a),o!=null&&YO(e,n,o,t,i)}}function jO(n,e){Gb(n,e),e[sr]=null,e[gn]=null}function UO(n,e,t,r,i,o){r[sr]=i,r[gn]=e,fd(n,r,t,1,i,o)}function Gb(n,e){e[nr].changeDetectionScheduler?.notify(9),fd(n,e,e[Ze],2,null,null)}function BO(n){let e=n[Fa];if(!e)return ug(n[se],n);for(;e;){let t=null;if(jr(e))t=e[Fa];else{let r=e[bt];r&&(t=r)}if(!t){for(;e&&!e[fn]&&e!==n;)jr(e)&&ug(e[se],e),e=e[St];e===null&&(e=n),jr(e)&&ug(e[se],e),t=e&&e[fn]}e=t}}function Bm(n,e){let t=n[Ol],r=t.indexOf(e);t.splice(r,1)}function hd(n,e){if(qa(e))return;let t=e[Ze];t.destroyNode&&fd(n,e,t,3,null,null),BO(e)}function ug(n,e){if(qa(e))return;let t=re(null);try{e[ee]&=-129,e[ee]|=256,e[en]&&kp(e[en]),HO(n,e),$O(n,e),e[se].type===1&&e[Ze].destroy();let r=e[zo];if(r!==null&&ar(e[St])){r!==e[St]&&Bm(r,e);let i=e[qo];i!==null&&i.detachView(n)}Fg(e)}finally{re(t)}}function $O(n,e){let t=n.cleanup,r=e[Pl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Pl]=null);let i=e[Vr];if(i!==null){e[Vr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[xl];if(o!==null){e[xl]=null;for(let s of o)s.destroy()}}function HO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Oi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ae(4,a,u);try{u.call(a)}finally{Ae(5,a,u)}}else{Ae(4,i,o);try{o.call(i)}finally{Ae(5,i,o)}}}}}function zO(n,e,t){return qO(n,e.parent,t)}function qO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[sr];if(es(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Mn.None||i===Mn.Emulated)return null}return Nn(r,t)}function GO(n,e,t){return KO(n,e,t)}function WO(n,e,t){return n.type&40?Nn(n,t):null}var KO=WO,BD;function $m(n,e,t,r){let i=zO(n,r,e),o=e[Ze],s=r.parent||e[gn],a=GO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)UD(o,i,t[u],a,!1);else UD(o,i,t,a,!1);BD!==void 0&&BD(o,r,e,t,i)}function Na(n,e){if(e!==null){let t=e.type;if(t&3)return Nn(e,n);if(t&4)return Ug(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Na(n,r);{let i=n[e.index];return ar(i)?Ug(-1,i):An(i)}}else{if(t&128)return Na(n,e.next);if(t&32)return Um(e,n)()||An(n[e.index]);{let r=Wb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xi(n[pn]);return Na(i,r)}else return Na(n,e.next)}}}return null}function Wb(n,e){if(e!==null){let r=n[pn][gn],i=e.projection;return r.projection[i]}return null}function Ug(n,e){let t=bt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return Na(r,i)}return e[Pi]}function Hm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ka(An(a),r),t.flags|=2),!qb(t))if(u&8)Hm(n,e,t.child,r,i,o,!1),Uo(e,n,i,a,o);else if(u&32){let l=Um(t,r),h;for(;h=l();)Uo(e,n,i,h,o);Uo(e,n,i,a,o)}else u&16?QO(n,e,r,t,i,o):Uo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function fd(n,e,t,r,i,o){Hm(t,r,n.firstChild,e,i,o,!1)}function QO(n,e,t,r,i,o){let s=t[pn],u=s[gn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Uo(e,n,i,h,o)}else{let l=u,h=s[St];vb(r)&&(l.flags|=128),Hm(n,e,l,h,i,o,!0)}}function YO(n,e,t,r,i){let o=t[Pi],s=An(t);o!==s&&Uo(e,n,r,o,i);for(let a=bt;a<t.length;a++){let u=t[a];fd(u[se],u,n,e,r,o)}}function ZO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ir.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ir.Important),n.setStyle(t,r,i,o))}}function Gl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(An(o)),ar(o)&&JO(o,r);let s=t.type;if(s&8)Gl(n,e,t.child,r);else if(s&32){let a=Um(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Wb(e,t);if(Array.isArray(a))r.push(...a);else{let u=xi(e[pn]);Gl(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JO(n,e){for(let t=bt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Gl(r[se],r,i,e)}n[Pi]!==n[sr]&&e.push(n[Pi])}function Kb(n){if(n[sg]!==null){for(let e of n[sg])e.impl.addSequence(e);n[sg].length=0}}var Qb=[];function XO(n){return n[en]??e1(n)}function e1(n){let e=Qb.pop()??Object.create(n1);return e.lView=n,e}function t1(n){n.lView[en]!==n&&(n.lView=null,Qb.push(n))}var n1=ce(F({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{sd(n.lView)},consumerOnSignalRead(){this.lView[en]=this}});function r1(n){let e=n[en]??Object.create(i1);return e.lView=n,e}var i1=ce(F({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xi(n.lView);for(;e&&!Yb(e[se]);)e=xi(e);e&&LC(e)},consumerOnSignalRead(){this.lView[en]=this}});function Yb(n){return n.type!==2}function Zb(n){if(n[xl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[xl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ee]&8192)}}var o1=100;function Jb(n,e=!0,t=0){let i=n[nr].rendererFactory,o=!1;o||i.begin?.();try{s1(n,t)}catch(s){throw e&&kO(n,s),s}finally{o||i.end?.()}}function s1(n,e){let t=zC();try{TD(!0),Bg(n,e);let r=0;for(;od(n);){if(r===o1)throw new $(103,!1);r++,Bg(n,1)}}finally{TD(t)}}function a1(n,e,t,r){if(qa(e))return;let i=e[ee],o=!1,s=!1;vm(e);let a=!0,u=null,l=null;o||(Yb(n)?(l=XO(e),u=Bu(l)):Ap()===null?(a=!1,l=r1(e),u=Bu(l)):e[en]&&(kp(e[en]),e[en]=null));try{FC(e),rk(n.bindingStartIndex),t!==null&&Bb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Dl(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Cl(e,m,0,null),ag(e,0)}if(s||c1(e),Zb(e),Xb(e,0),n.contentQueries!==null&&Ab(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Dl(e,m)}else{let m=n.contentHooks;m!==null&&Cl(e,m,1),ag(e,1)}l1(n,e);let p=n.components;p!==null&&tT(e,p,0);let y=n.viewQuery;if(y!==null&&Vg(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Dl(e,m)}else{let m=n.viewHooks;m!==null&&Cl(e,m,2),ag(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[og]){for(let m of e[og])m();e[og]=null}o||(Kb(e),e[ee]&=-73)}catch(h){throw o||sd(e),h}finally{l!==null&&(Pp(l,u),a&&t1(l)),_m()}}function Xb(n,e){for(let t=Eb(n);t!==null;t=wb(t))for(let r=bt;r<t.length;r++){let i=t[r];eT(i,e)}}function c1(n){for(let e=Eb(n);e!==null;e=wb(e)){if(!(e[ee]&2))continue;let t=e[Ol];for(let r=0;r<t.length;r++){let i=t[r];LC(i)}}}function u1(n,e,t){Ae(18);let r=Rn(e,n);eT(r,t),Ae(19,r[Ye])}function eT(n,e){ym(n)&&Bg(n,e)}function Bg(n,e){let r=n[se],i=n[ee],o=n[en],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xp(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)a1(r,n,r.template,n[Ye]);else if(i&8192){Zb(n),Xb(n,1);let a=r.components;a!==null&&tT(n,a,1),Kb(n)}}function tT(n,e,t){for(let r=0;r<e.length;r++)u1(n,e[r],t)}function l1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ki(~i);else{let o=i,s=t[++r],a=t[++r];sk(s,o);let u=e[o];Ae(24,u),a(2,u),Ae(25,u)}}}finally{ki(-1)}}function zm(n,e){let t=zC()?64:1088;for(n[nr].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let r=xi(n);if(Fl(n)&&!r)return n;n=r}return null}function nT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rT(n,e){let t=bt+e;if(t<n.length)return n[t]}function pd(n,e,t,r=!0){let i=e[se];if(d1(i,e,n,t),r){let s=Ug(t,n),a=e[Ze],u=a.parentNode(n[Pi]);u!==null&&UO(i,n[gn],a,e,u,s)}let o=e[Oa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function iT(n,e){let t=ja(n,e);return t!==void 0&&hd(t[se],t),t}function ja(n,e){if(n.length<=bt)return;let t=bt+e,r=n[t];if(r){let i=r[zo];i!==null&&i!==n&&Bm(i,r),e>0&&(n[t-1][fn]=r[fn]);let o=Ml(n,bt+e);jO(r[se],r);let s=o[qo];s!==null&&s.detachView(o[se]),r[St]=null,r[fn]=null,r[ee]&=-129}return r}function d1(n,e,t,r){let i=bt+r,o=t.length;r>0&&(t[i-1][fn]=e),r<o-bt?(e[fn]=t[i],vC(t,bt+r,e)):(t.push(e),e[fn]=null),e[St]=t;let s=e[zo];s!==null&&t!==s&&oT(s,e);let a=e[qo];a!==null&&a.insertView(n),Tg(e),e[ee]|=128}function oT(n,e){let t=n[Ol],r=e[St];if(jr(r))n[ee]|=2;else{let i=r[St][pn];e[pn]!==i&&(n[ee]|=2)}t===null?n[Ol]=[e]:t.push(e)}var Ua=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[se];return Gl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return qa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(ar(e)){let t=e[kl],r=t?t.indexOf(this):-1;r>-1&&(ja(e,r),Ml(t,r))}this._attachedToViewContainer=!1}hd(this._lView[se],this._lView)}onDestroy(e){VC(this._lView,e)}markForCheck(){zm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Tg(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,Jb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fl(this._lView),t=this._lView[zo];t!==null&&!e&&Bm(t,this._lView),Gb(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Fl(this._lView),r=this._lView[zo];r!==null&&!t&&oT(r,this._lView),Tg(this._lView)}};var gd=(()=>{class n{static __NG_ELEMENT_ID__=p1}return n})(),h1=gd,f1=class extends h1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=dd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ua(i)}};function p1(){return g1($t(),Ee())}function g1(n,e){return n.type&4?new f1(e,n,cd(n,e)):null}function qm(n,e,t,r,i){let o=n.data[e];if(o===null)o=m1(n,e,t,r,i),ok()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ek();o.injectorIndex=s===null?-1:s.injectorIndex}return Ga(o,!0),o}function m1(n,e,t,r,i){let o=$C(),s=HC(),a=s?o:o&&o.parent,u=n.data[e]=v1(n,a,t,e,r,i);return y1(n,u,o,s),u}function y1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function v1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Zx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var A5=new RegExp(`^(\\d+)*(${Wk}|${Gk})*(.*)`);var _1=()=>null;function Ba(n,e){return _1(n,e)}var I1=class{},sT=class{},$g=class{resolveComponentFactory(e){throw Error(`No component factory found for ${kt(e)}.`)}},md=class{static NULL=new $g},Ko=class{},rs=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>E1()}return n})();function E1(){let n=Ee(),e=$t(),t=Rn(e.index,n);return(jr(t)?t:n)[Ze]}var w1=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var lg={},Hg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=nd(r);let i=this.injector.get(e,lg,r);return i!==lg||t===lg?i:this.parentInjector.get(e,t,r)}};function $D(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=yD(i,a);else if(o==2){let u=a,l=e[++s];r=yD(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pe(n,e=oe.Default){let t=Ee();if(t===null)return ie(n,e);let r=$t();return ab(r,t,Ct(n),e)}function aT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=C1(s);h===null?a=s:[a,u,l]=h,S1(n,e,t,a,o,u,l)}o!==null&&r!==null&&D1(t,r,o)}function D1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function C1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Sn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,b1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function b1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function T1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Sn(m)&&(u=!0,T1(n,t,y)),Mg(Ul(t,e),n,m.type)}x1(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=jb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=La(t.mergedAttrs,m.hostAttrs),R1(n,t,e,p,m),P1(p,m,i),s!==null&&s.has(m)){let[M,R]=s.get(m);t.directiveToIndex.set(m.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}A1(n,t,o)}function A1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))HD(0,e,i,r),HD(1,e,i,r),qD(e,r,!1);else{let o=t.get(i);zD(0,e,o,r),zD(1,e,o,r),qD(e,r,!0)}}}function HD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),cT(e,o)}}function zD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),cT(e,s)}}function cT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function qD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||xm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function R1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new Oi(o,Sn(i),pe);n.blueprint[r]=s,t[r]=s,M1(n,e,r,jb(n,t,i.hostVars,Hr),i)}function M1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;N1(s)!=a&&s.push(a),s.push(t,r,o)}}function N1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function P1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Sn(e)&&(t[""]=n)}}function x1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function uT(n,e,t,r,i,o,s,a){let u=e.consts,l=Go(u,s),h=qm(e,n,2,r,l);return o&&aT(e,t,h,Go(u,a),i),h.mergedAttrs=La(h.mergedAttrs,h.attrs),h.attrs!==null&&$D(h,h.attrs,!1),h.mergedAttrs!==null&&$D(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function lT(n,e){JC(n,e),MC(e)&&n.queries.elementEnd(e)}var Wl=class extends md{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ni(e);return new Qo(t,this.ngModule)}};function k1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ld.SignalBased)!==0};return i&&(o.transform=i),o})}function O1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function F1(n,e,t){let r=e instanceof Tt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Hg(t,r):t}function L1(n){let e=n.get(Ko,null);if(e===null)throw new $(407,!1);let t=n.get(w1,null),r=n.get(Wo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function V1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Ob(e,t,t==="svg"?$x:t==="math"?Hx:null)}var Qo=class extends sT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=k1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=O1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=fO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ae(22);let o=re(null);try{let s=this.componentDef,a=r?["ng-version","19.2.8"]:pO(this.componentDef.selectors[0]),u=km(0,null,null,1,0,null,null,null,null,[a],null),l=F1(s,i||this.ngModule,e),h=L1(l),p=h.rendererFactory.createRenderer(null,s),y=r?DO(p,r,s.encapsulation,l):V1(s,p),m=Om(null,u,null,512|Vb(s),null,null,h,p,l,null,Sb(y,l,!0));m[Ot]=y,vm(m);let D=null;try{let M=uT(Ot,u,m,"#host",()=>[this.componentDef],!0,0);y&&(Lb(p,y,M),Ka(y,m)),Lm(u,m,M),Rb(u,M,m),lT(u,M),t!==void 0&&j1(M,this.ngContentSelectors,t),D=Rn(M.index,m),m[Ye]=D[Ye],jm(u,m,null)}catch(M){throw D!==null&&Fg(D),Fg(m),M}finally{Ae(23),_m()}return new zg(this.componentType,m)}finally{re(o)}}},zg=class extends I1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=mm(t[se],Ot),this.location=cd(this._tNode,t),this.instance=Rn(this._tNode.index,t)[Ye],this.hostView=this.changeDetectorRef=new Ua(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Vm(r,i[se],i,e,t);this.previousInputValues.set(e,t);let s=Rn(r.index,i);zm(s,1)}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function j1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var is=(()=>{class n{static __NG_ELEMENT_ID__=U1}return n})();function U1(){let n=$t();return $1(n,Ee())}var B1=is,dT=class extends B1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dm(this._hostTNode,this._hostLView);if(tb(e)){let t=Vl(e,this._hostLView),r=Ll(e),i=t[se].data[r+8];return new Ai(i,t)}else return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ba(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Va(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Vx(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new Qo(Ni(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Tt,null);M&&(o=M)}let h=Ni(u.componentType??{}),p=Ba(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,Va(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(qx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new dT(u,u[gn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return pd(s,i,o,r),e.attachToViewContainerRef(),vC(dg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ja(this._lContainer,t);r&&(Ml(dg(this._lContainer),t),hd(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=ja(this._lContainer,t);return r&&Ml(dg(this._lContainer),t)!=null?new Ua(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GD(n){return n[kl]}function dg(n){return n[kl]||(n[kl]=[])}function $1(n,e){let t,r=e[n.index];return ar(r)?t=r:(t=nT(r,e,null,n),e[n.index]=t,Fm(e,t)),z1(t,e,n,r),new dT(t,n,e)}function H1(n,e){let t=n[Ze],r=t.createComment(""),i=Nn(e,n),o=t.parentNode(i);return ql(t,o,r,t.nextSibling(i),!1),r}var z1=W1,q1=()=>!1;function G1(n,e,t){return q1(n,e,t)}function W1(n,e,t,r){if(n[Pi])return;let i;t.type&8?i=An(r):i=H1(e,t),n[Pi]=i}var Yo=class{},Gm=class{};var qg=class extends Yo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=EC(e);this._bootstrapComponents=xb(o.bootstrap),this._r3Injector=lb(e,t,[{provide:Yo,useValue:this},{provide:md,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gg=class extends Gm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new qg(this.moduleType,e,[])}};var Kl=class extends Yo{injector;componentFactoryResolver=new Wl(this);instance=null;constructor(e){super();let t=new ka([...e.providers,{provide:Yo,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],e.parent||pm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yd(n,e,t=null){return new Kl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var K1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=wC(!1,t.type),i=r.length>0?yd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(ie(Tt))})}return n})();function Ue(n){return Ha(()=>{let e=fT(n),t=ce(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_b.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(K1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qa("NgStandalone"),pT(t);let r=n.dependencies;return t.directiveDefs=WD(r,!1),t.pipeDefs=WD(r,!0),t.id=X1(t),t})}function Q1(n){return Ni(n)||Tx(n)}function Y1(n){return n!==null}function zr(n){return Ha(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Z1(n,e){if(n==null)return Mi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ld.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function J1(n){if(n==null)return Mi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function tt(n){return Ha(()=>{let e=fT(n);return pT(e),e})}function hT(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function fT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Z1(n.inputs,e),outputs:J1(n.outputs),debugInfo:null}}function pT(n){n.features?.forEach(e=>e(n))}function WD(n,e){if(!n)return null;let t=e?Sx:Q1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Y1)}function X1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function eF(n){return Object.getPrototypeOf(n.prototype).constructor}function cr(n){let e=eF(n.type),t=!0,r=[n];for(;e;){let i;if(Sn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=hg(n.inputs),s.declaredInputs=hg(n.declaredInputs),s.outputs=hg(n.outputs);let a=i.hostBindings;a&&oF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&rF(n,u),l&&iF(n,l),tF(n,i),ox(n.outputs,i.outputs),Sn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===cr&&(t=!1)}}e=Object.getPrototypeOf(e)}nF(r)}function tF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function nF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=La(i.hostAttrs,t=La(t,i.hostAttrs))}}function hg(n){return n===Mi?{}:n===Xt?[]:n}function rF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function iF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function oF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function gT(n){return aF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function sF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function aF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function cF(n,e,t){return n[e]=t}function qr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=qm(e,n,4,s||null,a||null);BC()&&aT(e,t,h,Go(l,u),zb),h.mergedAttrs=La(h.mergedAttrs,h.attrs),JC(e,h);let p=h.tView=km(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Wg(n,e,t,r,i,o,s,a,u,l){let h=t+Ot,p=e.firstCreatePass?uF(h,e,n,r,i,o,s,a,u):e.data[h];Ga(p,!1);let y=lF(e,n,p,t);Em()&&$m(e,n,y,p),Ka(y,n);let m=nT(y,n,y,p);return n[h]=m,Fm(n,m),G1(m,p,n),gm(p)&&Lm(e,n,p),u!=null&&$b(n,p,l),p}function rn(n,e,t,r,i,o,s,a){let u=Ee(),l=Rt(),h=Go(l.consts,o);return Wg(u,l,n,e,t,r,i,h,s,a),rn}var lF=dF;function dF(n,e,t,r){return wm(!0),e[Ze].createComment("")}var mT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var yT=new H("");var hF=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new Kg})}return n})(),Kg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Gr(n){return!!n&&typeof n.then=="function"}function Wm(n){return!!n&&typeof n.subscribe=="function"}var fF=new H("");var vT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(fF,{optional:!0})??[];injector=N(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=At(this.injector,i);if(Gr(o))t.push(o);else if(Wm(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Km=new H("");function pF(){Fp(()=>{throw new $(600,!1)})}function gF(n){return n.isBoundToModule}var mF=10;var Fi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Fk);afterRenderManager=N(Qk);zonelessEnabled=N(bm);rootEffectScheduler=N(hF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ve;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(Ui).hasPendingTasks.pipe(le(t=>!t));constructor(){N(ud,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=lt.NULL){Ae(10);let o=t instanceof sT;if(!this._injector.get(vT).done){let m="";throw new $(405,m)}let a;o?a=t:a=this._injector.get(md).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=gF(a)?void 0:this._injector.get(Yo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(yT,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),bl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Ae(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Tb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(t),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ko,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<mF;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)yF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>od(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Km,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yF(n,e,t,r){if(!t&&!od(n))return;Jb(n,e,t&&!r?0:1)}function Ya(n,e,t,r){let i=Ee(),o=ts();if(qr(i,o,e)){let s=Rt(),a=Im();NO(a,i,n,e,t,r)}return Ya}function vF(n,e,t,r){return qr(n,ts(),t)?e+td(t)+r:Hr}function El(n,e){return n<<17|e<<2}function Li(n){return n>>17&32767}function _F(n){return(n&2)==2}function IF(n,e){return n&131071|e<<17}function Qg(n){return n|2}function Zo(n){return(n&131068)>>2}function fg(n,e){return n&-131069|e<<2}function EF(n){return(n&1)===1}function Yg(n){return n|1}function wF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Li(s),u=Zo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||za(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=Li(n[a+1]);n[r+1]=El(y,a),y!==0&&(n[y+1]=fg(n[y+1],r)),n[a+1]=IF(n[a+1],r)}else n[r+1]=El(a,0),a!==0&&(n[a+1]=fg(n[a+1],r)),a=r;else n[r+1]=El(u,0),a===0?a=r:n[u+1]=fg(n[u+1],r),u=r;l&&(n[r+1]=Qg(n[r+1])),KD(n,h,r,!0),KD(n,h,r,!1),DF(e,h,n,r,o),s=El(a,u),o?e.classBindings=s:e.styleBindings=s}function DF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&za(o,e)>=0&&(t[r+1]=Yg(t[r+1]))}function KD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Li(i):Zo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];CF(u,e)&&(a=!0,n[s+1]=r?Yg(l):Qg(l)),s=r?Li(l):Zo(l)}a&&(n[t+1]=r?Qg(i):Yg(i))}function CF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?za(n,e)>=0:!1}function mn(n,e,t){let r=Ee(),i=ts();if(qr(r,i,e)){let o=Rt(),s=Im();Hb(o,s,r,n,e,r[Ze],t,!1)}return mn}function QD(n,e,t,r,i){Vm(e,n,t,i?"class":"style",r)}function on(n,e){return bF(n,e,null,!0),on}function bF(n,e,t,r){let i=Ee(),o=Rt(),s=ik(2);if(o.firstUpdatePass&&SF(o,n,s,r),e!==Hr&&qr(i,s,e)){let a=o.data[ji()];PF(o,a,i,i[Ze],n,i[s+1]=xF(e,t),r,s)}}function TF(n,e){return e>=n.expandoStartIndex}function SF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ji()],s=TF(n,t);kF(o,r)&&e===null&&!s&&(e=!1),e=AF(i,o,e,r),wF(i,o,e,t,s,r)}}function AF(n,e,t,r){let i=ck(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pg(null,n,e,t,r),t=$a(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pg(i,n,e,t,r),o===null){let u=RF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=pg(null,n,e,u[1],r),u=$a(u,e.attrs,r),MF(n,e,r,u))}else o=NF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function RF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Zo(r)!==0)return n[Li(r)]}function MF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Li(i)]=r}function NF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=$a(r,s,t)}return $a(r,e.attrs,t)}function pg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=$a(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function $a(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Cx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function PF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=EF(l)?YD(u,e,t,i,Zo(l),s):void 0;if(!Ql(h)){Ql(o)||_F(l)&&(o=YD(u,null,t,i,a,s));let p=OC(ji(),t);ZO(r,s,p,i,o)}}function YD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Hr&&(y=p?Xt:void 0);let m=p?rg(y,r):h===r?y:void 0;if(l&&!Ql(m)&&(m=rg(u,r)),Ql(m)&&(a=m,s))return a;let D=n[i+1];i=s?Li(D):Zo(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=rg(u,r))}return a}function Ql(n){return n!==void 0}function xF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=kt(Nm(n)))),n}function kF(n,e){return(n.flags&(e?8:16))!==0}var Zg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function gg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function OF(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=gg(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let y=n.at(s),m=e[u],D=gg(s,y,u,m,t);if(D!==0){D<0&&n.updateValue(s,m),s--,u--;continue}let M=t(o,l),R=t(s,y),j=t(o,h);if(Object.is(j,R)){let Q=t(u,m);Object.is(Q,M)?(n.swap(o,s),n.updateValue(s,m),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Yl,i??=JD(n,o,s,t),Jg(n,r,o,j))n.updateValue(o,h),o++,s++;else if(i.has(j))r.set(M,n.detach(o)),s--;else{let Q=n.create(o,e[o]);n.attach(o,Q),o++,s++}}for(;o<=u;)ZD(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,y=gg(o,h,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Yl,i??=JD(n,o,s,t);let m=t(o,p);if(Jg(n,r,o,m))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let D=t(o,h);r.set(D,n.detach(o)),s--}}}for(;!l.done;)ZD(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function Jg(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function ZD(n,e,t,r,i){if(Jg(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function JD(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Yl=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Hi(n,e){Qa("NgControlFlow");let t=Ee(),r=ts(),i=t[r]!==Hr?t[r]:-1,o=i!==-1?Zl(t,Ot+i):void 0,s=0;if(qr(t,r,n)){let a=re(null);try{if(o!==void 0&&iT(o,s),n!==-1){let u=Ot+n,l=Zl(t,u),h=nm(t[se],u),p=Ba(l,h.tView.ssrId),y=dd(t,h,e,{dehydratedView:p});pd(l,y,s,Va(h,p))}}finally{re(a)}}else if(o!==void 0){let a=rT(o,s);a!==void 0&&(a[Ye]=e)}}var Xg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-bt}};function Qm(n,e){return e}var em=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ym(n,e,t,r,i,o,s,a,u,l,h,p,y){Qa("NgControlFlow");let m=Ee(),D=Rt(),M=u!==void 0,R=Ee(),j=a?s.bind(R[pn][Ye]):s,Q=new em(M,j);R[Ot+n]=Q,Wg(m,D,n+1,e,t,r,i,Go(D.consts,o)),M&&Wg(m,D,n+2,u,l,h,p,Go(D.consts,y))}var tm=class extends Zg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-bt}at(e){return this.getLView(e)[Ye].$implicit}attach(e,t){let r=t[Oa];this.needsIndexUpdate||=e!==this.length,pd(this.lContainer,t,e,Va(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,FF(this.lContainer,e)}create(e,t){let r=Ba(this.lContainer,this.templateTNode.tView.ssrId),i=dd(this.hostLView,this.templateTNode,new Xg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){hd(e[se],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ye].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ye].$index=e}getLView(e){return LF(this.lContainer,e)}};function Zm(n){let e=re(null),t=ji();try{let r=Ee(),i=r[se],o=r[t],s=t+1,a=Zl(r,s);if(o.liveCollection===void 0){let l=nm(i,s);o.liveCollection=new tm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(OF(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ts(),h=u.length===0;if(qr(r,l,h)){let p=t+2,y=Zl(r,p);if(h){let m=nm(i,p),D=Ba(y,m.tView.ssrId),M=dd(r,m,void 0,{dehydratedView:D});pd(y,M,0,Va(m,D))}else iT(y,0)}}}finally{re(e)}}function Zl(n,e){return n[e]}function FF(n,e){return ja(n,e)}function LF(n,e){return rT(n,e)}function nm(n,e){return mm(n,e)}function k(n,e,t,r){let i=Ee(),o=Rt(),s=Ot+n,a=i[Ze],u=o.firstCreatePass?uT(s,o,i,e,zb,BC(),t,r):o.data[s],l=VF(o,i,u,a,e,n);i[s]=l;let h=gm(u);return Ga(u,!0),Lb(a,l,u),!qb(u)&&Em()&&$m(o,i,l,u),(Kx()===0||h)&&Ka(l,i),Qx(),h&&(Lm(o,i,u),Rb(o,u,i)),r!==null&&$b(i,u),k}function P(){let n=$t();HC()?tk():(n=n.parent,Ga(n,!1));let e=n;Jx(e)&&Xx(),Yx();let t=Rt();return t.firstCreatePass&&lT(t,e),e.classesWithoutHost!=null&&pk(e)&&QD(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gk(e)&&QD(t,e,Ee(),e.stylesWithoutHost,!1),P}function Se(n,e,t,r){return k(n,e,t,r),P(),Se}var VF=(n,e,t,r,i,o)=>(wm(!0),Ob(r,i,dk()));function ur(){return Ee()}var Jl="en-US";var jF=Jl;function UF(n){typeof n=="string"&&(jF=n.toLowerCase().replace(/_/g,"-"))}function XD(n,e,t){return function r(i){if(i===Function)return t;let o=es(n)?Rn(n.index,e):e;zm(o,5);let s=e[Ye],a=eC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=eC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function eC(n,e,t,r){let i=re(null);try{return Ae(6,e,t),t(r)!==!1}catch(o){return BF(n,o),!1}finally{Ae(7,e,t),re(i)}}function BF(n,e){let t=n[Ho],r=t?t.get(rr,null):null;r&&r.handleError(e)}function tC(n,e,t,r,i,o){let s=e[t],a=e[se],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?UC(a):null,y=jC(e),m=h.subscribe(o),D=y.length;y.push(o,m),p&&p.push(i,n.index,D,-(D+1))}var $F=(n,e,t)=>{};function _e(n,e,t,r){let i=Ee(),o=Rt(),s=$t();return _T(o,i,i[Ze],s,n,e,r),_e}function HF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Pl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function _T(n,e,t,r,i,o,s){let a=gm(r),l=n.firstCreatePass?UC(n):null,h=jC(e),p=!0;if(r.type&3||s){let y=Nn(r,e),m=s?s(y):y,D=h.length,M=s?j=>s(An(j[r.index])):r.index,R=null;if(!s&&a&&(R=HF(n,e,i,r.index)),R!==null){let j=R.__ngLastListenerFn__||R;j.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=XD(r,e,o),$F(m,i,o);let j=t.listen(m,i,o);h.push(o,j),l&&l.push(i,M,D,D+1)}}else o=XD(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let D=0;D<m.length;D+=2){let M=m[D],R=m[D+1];tC(r,e,M,R,i,o)}if(y&&y.length)for(let D of y)tC(r,e,D,i,i,o)}}function Ht(n=1){return lk(n)}function zF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function V(n,e=""){let t=Ee(),r=Rt(),i=n+Ot,o=r.firstCreatePass?qm(r,i,1,e,null):r.data[i],s=qF(r,t,o,e,n);t[i]=s,Em()&&$m(r,t,s,o),Ga(o,!1)}var qF=(n,e,t,r,i)=>(wm(!0),gO(e[Ze],r));function Ft(n){return lr("",n,""),Ft}function lr(n,e,t){let r=Ee(),i=vF(r,n,e,t);return i!==Hr&&GF(r,ji(),i),lr}function GF(n,e,t){let r=OC(e,n);mO(n[Ze],r,t)}function Je(n,e,t){yb(e)&&(e=e());let r=Ee(),i=ts();if(qr(r,i,e)){let o=Rt(),s=Im();Hb(o,s,r,n,e,r[Ze],t,!1)}return Je}function nt(n,e){let t=yb(n);return t&&n.set(e),t}function Xe(n,e){let t=Ee(),r=Rt(),i=$t();return _T(r,t,t[Ze],i,n,e),Xe}function WF(n,e,t){let r=Rt();if(r.firstCreatePass){let i=Sn(n);rm(t,r.data,r.blueprint,i,!0),rm(e,r.data,r.blueprint,i,!1)}}function rm(n,e,t,r,i){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)rm(n[o],e,t,r,i);else{let o=Rt(),s=Ee(),a=$t(),u=$o(n)?n:Ct(n.provide),l=bC(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if($o(n)||!n.multi){let m=new Oi(l,i,pe),D=yg(u,e,i?h:h+y,p);D===-1?(Mg(Ul(a,s),o,u),mg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{let m=yg(u,e,h+y,p),D=yg(u,e,h,h+y),M=m>=0&&t[m],R=D>=0&&t[D];if(i&&!R||!i&&!M){Mg(Ul(a,s),o,u);let j=YF(i?QF:KF,t.length,i,r,l);!i&&R&&(t[D].providerFactory=j),mg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=IT(t[i?D:m],l,!i&&r);mg(o,n,m>-1?m:D,j)}!i&&r&&R&&t[D].componentProviders++}}}function mg(n,e,t,r){let i=$o(e),o=Px(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function IT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function yg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function KF(n,e,t,r){return im(this.multi,[])}function QF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Bl(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),im(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],im(i,o);return o}function im(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function YF(n,e,t,r,i){let o=new Oi(n,t,pe);return o.multi=[],o.index=e,o.componentProviders=0,IT(o,i,r&&!t),o}function Za(n,e=[]){return t=>{t.providersResolver=(r,i)=>WF(r,i?i(n):n,e)}}function ZF(n,e){let t=n[e];return t===Hr?void 0:t}function JF(n,e,t,r,i,o){let s=e+t;return qr(n,s,i)?cF(n,s+1,o?r.call(o,i):r(i)):ZF(n,s+1)}function ET(n,e){let t=Rt(),r,i=n+Ot;t.firstCreatePass?(r=XF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ri(r.type,!0)),s,a=xt(pe);try{let u=jl(!1),l=o();return jl(u),zF(t,Ee(),i,l),l}finally{xt(a)}}function XF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wT(n,e,t){let r=n+Ot,i=Ee(),o=zx(i,r);return eL(i,r)?JF(i,nk(),e,o.transform,t,o):o.transform(t)}function eL(n,e){return n[se].data[e].pure}var Jo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},DT=new Jo("19.2.8"),om=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},CT=(()=>{class n{compileModuleSync(t){return new Gg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=EC(t),o=xb(i.declarations).reduce((s,a)=>{let u=Ni(a);return u&&s.push(new Qo(u)),s},[]);return new om(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tL=(()=>{class n{zone=N(Ce);changeDetectionScheduler=N(Wo);applicationRef=N(Fi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nL=new H("",{factory:()=>!1});function bT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(ce(F({},ST()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:xa,multi:!0,useFactory:()=>{let r=N(tL,{optional:!0});return()=>r.initialize()}},{provide:xa,multi:!0,useFactory:()=>{let r=N(rL);return()=>{r.initialize()}}},e===!0?{provide:hb,useValue:!0}:[],{provide:fb,useValue:t??db}]}function TT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=bT({ngZoneFactory:()=>{let i=ST(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Qa("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return or([{provide:nL,useValue:!0},{provide:bm,useValue:!1},r])}function ST(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rL=(()=>{class n{subscription=new Oe;initialized=!1;zone=N(Ce);pendingTasks=N(Ui);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iL=(()=>{class n{appRef=N(Fi);taskService=N(Ui);ngZone=N(Ce);zonelessEnabled=N(bm);tracing=N(ud,{optional:!0});disableScheduling=N(hb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(fb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Og||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?PD:pb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oL(){return typeof $localize<"u"&&$localize.locale||Jl}var Jm=new H("",{providedIn:"root",factory:()=>N(Jm,oe.Optional|oe.SkipSelf)||oL()});var sm=new H(""),sL=new H("");function Ra(n){return!n.moduleRef}function aL(n){let e=Ra(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{Ra(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(rr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ra(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sm);s.add(o),n.moduleRef.onDestroy(()=>{bl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return uL(r,t,()=>{let o=e.get(vT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Jm,Jl);if(UF(s||Jl),!e.get(sL,!0))return Ra(n)?e.get(Fi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ra(n)){let u=e.get(Fi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return cL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function cL(n,e){let t=n.injector.get(Fi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function uL(n,e,t){try{let r=t();return Gr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Tl=null;function lL(n=[],e){return lt.create({name:e,providers:[{provide:rd,useValue:"platform"},{provide:sm,useValue:new Set([()=>Tl=null])},...n]})}function dL(n=[]){if(Tl)return Tl;let e=lL(n);return Tl=e,pF(),hL(e),e}function hL(n){let e=n.get(Rm,null);At(n,()=>{e?.forEach(t=>t())})}function Xm(){return!1}var zi=(()=>{class n{static __NG_ELEMENT_ID__=fL}return n})();function fL(n){return pL($t(),Ee(),(n&16)===16)}function pL(n,e,t){if(es(n)&&!t){let r=Rn(n.index,e);return new Ua(r,r)}else if(n.type&175){let r=e[pn];return new Ua(r,e)}return null}var am=class{constructor(){}supports(e){return gT(e)}create(e){return new cm(e)}},gL=(n,e)=>e,cm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||gL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<nC(r,i,o)?t:r,a=nC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,D=m+y;h<=D&&D<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,sF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new um(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},lm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Xl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function rC(){return new ey([new am])}var ey=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:rC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rC()),deps:[[n,new wx,new Bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function AT(n){Ae(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=dL(r),o=[bT({}),{provide:Wo,useExisting:iL},...t||[]],s=new Kl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return aL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ae(9)}}function qi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function sn(n){return jp(n)}function os(n,e){return Op(n,e?.equal)}var iC=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};function RT(n){let e=Ni(n);if(!e)return null;let t=new Qo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mt=new H("");var PT=null;function an(){return PT}function ty(n){PT??=n}var Ja=class{},ny=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(xT),providedIn:"platform"})}return n})();var xT=(()=>{class n extends ny{_location;_history;_doc=N(mt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(t){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function kT(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function MT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Wr(n){return n&&n[0]!=="?"?`?${n}`:n}var ss=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(FT),providedIn:"root"})}return n})(),OT=new H(""),FT=(()=>{class n extends ss{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kT(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Wr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Wr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ie(ny),ie(OT,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),as=(()=>{class n{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=vL(MT(NT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wr(r))}normalize(t){return n.stripTrailingSlash(yL(this._basePath,NT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wr;static joinWithSlash=kT;static stripTrailingSlash=MT;static \u0275fac=function(r){return new(r||n)(ie(ss))};static \u0275prov=z({token:n,factory:()=>mL(),providedIn:"root"})}return n})();function mL(){return new as(ie(ss))}function yL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function NT(n){return n.replace(/\/index.html$/,"")}function vL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var vd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cs=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),LT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);LT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(is),pe(gd),pe(ey))};static \u0275dir=tt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function LT(n,e){n.context.$implicit=e.item}var oy=(()=>{class n{_viewContainer;_context=new _d;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){VT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){VT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(is),pe(gd))};static \u0275dir=tt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),_d=class{$implicit=null;ngIf=null};function VT(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}function _L(n,e){return new $(2100,!1)}var ry=class{createSubscription(e,t){return sn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){sn(()=>e.unsubscribe())}},iy=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},IL=new iy,EL=new ry,sy=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Gr(t))return IL;if(Wm(t))return EL;throw _L(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(pe(zi,16))};static \u0275pipe=hT({name:"async",type:n,pure:!1})}return n})();var Kr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zr({type:n});static \u0275inj=Ur({})}return n})();function ay(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var cy="browser",jT="server";function Id(n){return n===jT}var Xa=class{};var Dd=new H(""),fy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ie(Dd),ie(Ce))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ec=class{_doc;constructor(e){this._doc=e}manager},Ed="ng-app-id";function UT(n){for(let e of n)e.remove()}function BT(n,e){let t=e.createElement("style");return t.textContent=n,t}function wL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ed}="${e}"],link[${Ed}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ed),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function dy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var py=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Id(o),wL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,BT);r?.forEach(i=>this.addUsage(i,this.external,dy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(UT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])UT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,BT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,dy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ed,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ie(mt),ie(Am),ie(Mm,8),ie($i))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gy=/%COMP%/g;var HT="%COMP%",DL=`_nghost-${HT}`,CL=`_ngcontent-${HT}`,bL=!0,TL=new H("",{providedIn:"root",factory:()=>bL});function SL(n){return CL.replace(gy,n)}function AL(n){return DL.replace(gy,n)}function zT(n,e){return e.map(t=>t.replace(gy,n))}var my=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Id(a),this.defaultRenderer=new tc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mn.ShadowDom&&(r=ce(F({},r),{encapsulation:Mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof wd?i.applyToHost(t):i instanceof nc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Mn.Emulated:o=new wd(u,l,r,this.appId,h,s,a,p,y);break;case Mn.ShadowDom:return new hy(u,l,t,r,s,a,this.nonce,p,y);default:o=new nc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ie(fy),ie(py),ie(Am),ie(TL),ie(mt),ie($i),ie(Ce),ie(Mm),ie(ud,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ly[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($T(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($T(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ly[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ly[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ir.DashCase|ir.Important)?e.style.setProperty(t,r,i&ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=an().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function $T(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hy=class extends tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=zT(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=dy(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nc=class extends tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?zT(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wd=class extends nc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=SL(h),this.hostAttr=AL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cd=class n extends Ja{supportsDOMEvents=!0;static makeCurrent(){ty(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RL();return t==null?null:ML(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ay(document.cookie,e)}},rc=null;function RL(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}function ML(n){return new URL(n,document.baseURI).pathname}var NL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),GT=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ie(mt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),qT=["alt","control","meta","shift"],PL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WT=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=PL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qT.forEach(s=>{if(s!==i){let a=xL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ie(mt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function yy(n,e){return AT(F({rootComponent:n},kL(e)))}function kL(n){return{appProviders:[...jL,...n?.providers??[]],platformProviders:VL}}function OL(){Cd.makeCurrent()}function FL(){return new rr}function LL(){return Cb(document),document}var VL=[{provide:$i,useValue:cy},{provide:Rm,useValue:OL,multi:!0},{provide:mt,useFactory:LL}];var jL=[{provide:rd,useValue:"root"},{provide:rr,useFactory:FL},{provide:Dd,useClass:GT,multi:!0,deps:[mt]},{provide:Dd,useClass:WT,multi:!0,deps:[mt]},my,py,fy,{provide:Ko,useExisting:my},{provide:Xa,useClass:NL},[]];var KT=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ie(mt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",yc=Symbol("RouteTitle"),wy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ki(n){return new wy(n)}function n0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function BL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}function Pn(n,e){let t=n?Dy(n):void 0,r=e?Dy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!r0(n[i],e[i]))return!1;return!0}function Dy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function r0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function i0(n){return n.length>0?n[n.length-1]:null}function Zr(n){return Xp(n)?n:Gr(n)?Pe(Promise.resolve(n)):Y(n)}var $L={exact:s0,subset:a0},o0={exact:HL,subset:zL,ignored:()=>!0};function QT(n,e,t){return $L[t.paths](n.root,e.root,t.matrixParams)&&o0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function HL(n,e){return Pn(n,e)}function s0(n,e,t){if(!Gi(n.segments,e.segments)||!Sd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!s0(n.children[r],e.children[r],t))return!1;return!0}function zL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>r0(n[t],e[t]))}function a0(n,e,t){return c0(n,e,e.segments,t)}function c0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!Sd(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!Sd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!a0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!Sd(n.segments,i,r)||!n.children[te]?!1:c0(n.children[te],e,o,r)}}function Sd(n,e,t){return e.every((r,i)=>o0[t](n[i].parameters,r.parameters))}var kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return WL.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ad(this)}},Qr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return l0(this)}};function qL(n,e){return Gi(n,e)&&n.every((t,r)=>Pn(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function GL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var vc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Qi,providedIn:"root"})}return n})(),Qi=class{parse(e){let t=new by(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ic(e.root,!0)}`,r=YL(e.queryParams),i=typeof e.fragment=="string"?`#${KL(e.fragment)}`:"";return`${t}${r}${i}`}},WL=new Qi;function Ad(n){return n.segments.map(e=>l0(e)).join("/")}function ic(n,e){if(!n.hasChildren())return Ad(n);if(e){let t=n.children[te]?ic(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${ic(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=GL(n,(r,i)=>i===te?[ic(n.children[te],!1)]:[`${i}:${ic(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${Ad(n)}/${t[0]}`:`${Ad(n)}/(${t.join("//")})`}}function u0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(n){return u0(n).replace(/%3B/gi,";")}function KL(n){return encodeURI(n)}function Cy(n){return u0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rd(n){return decodeURIComponent(n)}function YT(n){return Rd(n.replace(/\+/g,"%20"))}function l0(n){return`${Cy(n.path)}${QL(n.parameters)}`}function QL(n){return Object.entries(n).map(([e,t])=>`;${Cy(e)}=${Cy(t)}`).join("")}function YL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bd(t)}=${bd(i)}`).join("&"):`${bd(t)}=${bd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ZL=/^[^\/()?;#]+/;function vy(n){let e=n.match(ZL);return e?e[0]:""}var JL=/^[^\/()?;=#]+/;function XL(n){let e=n.match(JL);return e?e[0]:""}var eV=/^[^=?&#]+/;function tV(n){let e=n.match(eV);return e?e[0]:""}var nV=/^[^&#]+/;function rV(n){let e=n.match(nV);return e?e[0]:""}var by=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new Ie(e,t)),r}parseSegment(){let e=vy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Qr(Rd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=XL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=vy(this.remaining);i&&(r=i,this.capture(r))}e[Rd(t)]=Rd(r)}parseQueryParam(e){let t=tV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=rV(this.remaining);s&&(r=s,this.capture(r))}let i=YT(t),o=YT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function d0(n){return n.segments.length>0?new Ie([],{[te]:n}):n}function h0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=h0(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return iV(t)}function iV(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Yr(n){return n instanceof kn}function f0(n,e,t=null,r=null){let i=p0(n);return g0(i,e,t,r)}function p0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=d0(r);return e??i}function g0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return _y(i,i,i,t,r);let o=oV(e);if(o.toRoot())return _y(i,i,new Ie([],{}),t,r);let s=sV(o,i,n),a=s.processChildren?sc(s.segmentGroup,s.index,o.commands):y0(s.segmentGroup,s.index,o.commands);return _y(i,s.segmentGroup,a,t,r)}function Nd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cc(n){return typeof n=="object"&&n!=null&&n.outlets}function _y(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=m0(n,e,t);let a=d0(h0(s));return new kn(a,o,i)}function m0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=m0(o,e,t)}),new Ie(n.segments,r)}var Pd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nd(r[0]))throw new $(4003,!1);let i=r.find(cc);if(i&&i!==i0(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pd(t,e,r)}var ds=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function sV(n,e,t){if(n.isAbsolute)return new ds(e,!0,0);if(!t)return new ds(e,!1,NaN);if(t.parent===null)return new ds(t,!0,0);let r=Nd(n.commands[0])?0:1,i=t.segments.length-1+r;return aV(t,i,n.numberOfDoubleDots)}function aV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new ds(r,!1,i-o)}function cV(n){return cc(n[0])?n[0].outlets:{[te]:n}}function y0(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return sc(n,e,t);let r=uV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ie(n.segments.slice(r.pathIndex),n.children),sc(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Ty(n,e,t):r.match?sc(n,0,i):Ty(n,e,t)}function sc(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=cV(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=sc(n.children[te],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=y0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function uV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(cc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!JT(u,l,s))return o;r+=2}else{if(!JT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ty(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(cc(o)){let u=lV(o.outlets);return new Ie(r,u)}if(i===0&&Nd(t[0])){let u=n.segments[e];r.push(new Qr(u.path,ZT(t[0]))),i++;continue}let s=cc(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Nd(a)?(r.push(new Qr(s,ZT(a))),i+=2):(r.push(new Qr(s,{})),i++)}return new Ie(r,{})}function lV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ty(new Ie([],{}),0,r))}),e}function ZT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function JT(n,e,t){return n==t.path&&Pn(e,t.parameters)}var Md="imperative",rt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rt||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yi=class extends qt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends qt{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lt||{}),uc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(uc||{}),xn=class extends qt{reason;code;type=rt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends qt{reason;code;type=rt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},fs=class extends qt{error;target;type=rt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lc=class extends qt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xd=class extends qt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends qt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Od=class extends qt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class extends qt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vd=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jd=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$d=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dc=class{},ps=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function dV(n,e){return n.providers&&!n._injector&&(n._injector=yd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yn(n){return n.outlet||te}function hV(n,e){let t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}function _c(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _c(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ys(this.rootInjector)}},ys=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Hd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ie(Tt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Sy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Sy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ay(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ay(e,this._root).map(t=>t.value)}};function Sy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Sy(n,t);if(r)return r}return null}function Ay(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ay(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ls(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hc=class extends zd{snapshot;constructor(e,t){super(e),this.snapshot=t,Fy(this,e)}toString(){return this.snapshot.toString()}};function v0(n){let e=fV(n),t=new ct([new Qr("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new hr(t,r,o,s,i,te,n,e.root);return a.snapshot=e.root,new hc(new zt(a,[]),e)}function fV(n){let e={},t={},r={},i="",o=new Wi([],e,r,i,t,te,n,null,{});return new fc("",new zt(o,[]))}var hr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[yc]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&I0(i)&&(r.resolve[yc]=i.title),r}var Wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fc=class extends zd{url;constructor(e,t){super(t),this.url=e,Fy(this,t)}toString(){return _0(this._root)}};function Fy(n,e){e.value._routerState=n,e.children.forEach(t=>Fy(n,t))}function _0(n){let e=n.children.length>0?` { ${n.children.map(_0).join(", ")} } `:"";return`${n.value}${e}`}function Iy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pn(e.params,t.params)||n.paramsSubject.next(t.params),BL(e.url,t.url)||n.urlSubject.next(t.url),Pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ry(n,e){let t=Pn(n.params,e.params)&&qL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ry(n.parent,e.parent))}function I0(n){return typeof n.title=="string"||n.title===null}var E0=new H(""),Ic=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=mb(void 0);parentContexts=N(ys);location=N(is);changeDetector=N(zi);inputBinder=N(Ec,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new My(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Br]})}return n})(),My=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===hr?this.route:e===ys?this.childContexts:e===E0?this.outletData:this.parent.get(e,t)}},Ec=new H(""),Ly=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Sa([r.queryParams,r.params,r.data]).pipe(Jt(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=RT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function pV(n,e,t){let r=pc(n,e._root,t?t._root:void 0);return new hc(r,e)}function pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=gV(n,e,t);return new zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pc(n,a)),s}}let r=mV(e.value),i=e.children.map(o=>pc(n,o));return new zt(r,i)}}function gV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pc(n,r,i);return pc(n,r)})}function mV(n){return new hr(new ct(n.url),new ct(n.params),new ct(n.queryParams),new ct(n.fragment),new ct(n.data),n.outlet,n.component,n)}var gs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},w0="ngNavigationCancelingError";function Gd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=D0(!1,Lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function D0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[w0]=!0,t.cancellationCode=e,t}function yV(n){return C0(n)&&Yr(n.url)}function C0(n){return!!n&&n[w0]}var vV=(n,e,t,r)=>le(i=>(new Ny(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ny=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ls(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ls(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $d(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ud(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Iy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Wd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function _V(n,e,t){let r=n._root,i=e?e._root:null;return oc(r,i,t,[r.value])}function IV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!lC(n)?n:e.get(n):r}function oc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ls(e);return n.children.forEach(s=>{EV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ac(a,t.getContext(s),i)),i}function EV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=wV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Wd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?oc(n,e,a?a.children:null,r,i):oc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hs(a.outlet.component,s))}else s&&ac(e,a,i),i.canActivateChecks.push(new Wd(r)),o.component?oc(n,null,a?a.children:null,r,i):oc(n,null,t,r,i);return i}function wV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(n,e)||!Pn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ry(n,e)}}function ac(n,e,t){let r=ls(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ac(s,e.children.getContext(o),t):ac(s,null,t):ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hs(e.outlet.component,i)):t.canDeactivateChecks.push(new hs(null,i)):t.canDeactivateChecks.push(new hs(null,i))}function wc(n){return typeof n=="function"}function DV(n){return typeof n=="boolean"}function CV(n){return n&&wc(n.canLoad)}function bV(n){return n&&wc(n.canActivate)}function TV(n){return n&&wc(n.canActivateChild)}function SV(n){return n&&wc(n.canDeactivate)}function AV(n){return n&&wc(n.canMatch)}function b0(n){return n instanceof Xn||n?.name==="EmptyError"}var Td=Symbol("INITIAL_VALUE");function ms(){return Jt(n=>Sa(n.map(e=>e.pipe(er(1),vl(Td)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===Td)return Td;if(t===!1||RV(t))return t}return!0}),Zt(e=>e!==Td),er(1)))}function RV(n){return Yr(n)||n instanceof gs}function MV(n,e){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(ce(F({},t),{guardsResult:!0})):NV(s,r,i,n).pipe(Ke(a=>a&&DV(a)?PV(r,o,n,e):Y(a)),le(a=>ce(F({},t),{guardsResult:a})))})}function NV(n,e,t,r){return Pe(n).pipe(Ke(i=>LV(i.component,i.route,t,e,r)),tr(i=>i!==!0,!0))}function PV(n,e,t,r){return Pe(e).pipe(Fo(i=>Oo(kV(i.route.parent,r),xV(i.route,r),FV(n,i.path,t),OV(n,i.route,t))),tr(i=>i!==!0,!0))}function xV(n,e){return n!==null&&e&&e(new Bd(n)),Y(!0)}function kV(n,e){return n!==null&&e&&e(new jd(n)),Y(!0)}function OV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>gl(()=>{let s=_c(e)??t,a=vs(o,s),u=bV(a)?a.canActivate(e,n):At(s,()=>a(e,n));return Zr(u).pipe(tr())}));return Y(i).pipe(ms())}function FV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IV(s)).filter(s=>s!==null).map(s=>gl(()=>{let a=s.guards.map(u=>{let l=_c(s.node)??t,h=vs(u,l),p=TV(h)?h.canActivateChild(r,n):At(l,()=>h(r,n));return Zr(p).pipe(tr())});return Y(a).pipe(ms())}));return Y(o).pipe(ms())}function LV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=_c(e)??i,l=vs(a,u),h=SV(l)?l.canDeactivate(n,e,t,r):At(u,()=>l(n,e,t,r));return Zr(h).pipe(tr())});return Y(s).pipe(ms())}function VV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=vs(s,n),u=CV(a)?a.canLoad(e,t):At(n,()=>a(e,t));return Zr(u)});return Y(o).pipe(ms(),T0(r))}function T0(n){return Yu(ut(e=>{if(typeof e!="boolean")throw Gd(n,e)}),le(e=>e===!0))}function jV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=vs(s,n),u=AV(a)?a.canMatch(e,t):At(n,()=>a(e,t));return Zr(u)});return Y(o).pipe(ms(),T0(r))}var gc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},mc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function us(n){return ko(new gc(n))}function UV(n){return ko(new $(4e3,!1))}function BV(n){return ko(D0(!1,Lt.GuardRejected))}var Py=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[te])return UV(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:D,title:M}=i,R=At(o,()=>a({params:m,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof kn)throw new mc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new mc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new kn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},xy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $V(n,e,t,r,i){let o=S0(n,e,t);return o.matched?(r=dV(e,r),jV(r,e,t,i).pipe(le(s=>s===!0?o:F({},xy)))):Y(o)}function S0(n,e,t){if(e.path==="**")return HV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},xy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||n0)(t,n,e);if(!i)return F({},xy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HV(n){return{matched:!0,parameters:n.length>0?i0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XT(n,e,t,r){return t.length>0&&GV(n,t,r)?{segmentGroup:new Ie(e,qV(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&WV(n,t,r)?{segmentGroup:new Ie(n.segments,zV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function zV(n,e,t,r){let i={};for(let o of t)if(Qd(n,e,o)&&!r[yn(o)]){let s=new Ie([],{});i[yn(o)]=s}return F(F({},r),i)}function qV(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&yn(r)!==te){let i=new Ie([],{});t[yn(r)]=i}return t}function GV(n,e,t){return t.some(r=>Qd(n,e,r)&&yn(r)!==te)}function WV(n,e,t){return t.some(r=>Qd(n,e,r))}function Qd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function KV(n,e,t){return e.length===0&&!n.children[t]}var ky=class{};function QV(n,e,t,r,i,o,s="emptyOnly"){return new Oy(n,e,t,r,i,s,o).recognize()}var YV=31,Oy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Py(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=XT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new zt(r,t),o=new fc("",i),s=f0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Wi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(le(r=>({children:r,rootSnapshot:t})),Fr(r=>{if(r instanceof mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof zt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Fo(s=>{let a=r.children[s],u=hV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),yl((s,a)=>(s.push(...a),s)),Lr(null),tg(),Ke(s=>{if(s===null)return us(r);let a=A0(s);return ZV(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return Pe(t).pipe(Fo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Fr(l=>{if(l instanceof gc)return Y(null);throw l}))),tr(u=>!!u),Fr(u=>{if(b0(u))return KV(r,i,o)?Y(new ky):us(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return yn(r)!==s&&(s===te||!Qd(i,o,r))?us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):us(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=S0(t,i,o);if(!u)return us(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YV&&(this.allowRedirects=!1));let m=new Wi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,e0(i),yn(i),i.component??i._loadedComponent??null,i,t0(i)),D=qd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ke(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$V(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,D=new Wi(y,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,e0(r),yn(r),r.component??r._loadedComponent??null,r,t0(r)),M=qd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:j}=XT(t,y,m,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,D).pipe(le(ne=>new zt(D,ne)));if(l.length===0&&j.length===0)return Y(new zt(D,[]));let Q=yn(r)===o;return this.processSegment(h,l,R,j,Q?te:o,!0,D).pipe(le(ne=>new zt(D,ne instanceof zt?[ne]:[])))}))):us(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):VV(e,t,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,t).pipe(ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):BV(t))):Y({routes:[],injector:e})}};function ZV(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function JV(n){let e=n.value.routeConfig;return e&&e.path===""}function A0(n){let e=[],t=new Set;for(let r of n){if(!JV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=A0(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!t.has(r))}function e0(n){return n.data||{}}function t0(n){return n.resolve||{}}function XV(n,e,t,r,i,o){return Ke(s=>QV(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>ce(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function e2(n,e){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of R0(u))s.add(l);let a=0;return Pe(s).pipe(Fo(u=>o.has(u)?t2(u,r,n,e):(u.data=qd(u,u.parent,n).resolve,Y(void 0))),ut(()=>a++),Lo(1),Ke(u=>a===s.size?Y(t):Nt))})}function R0(n){let e=n.children.map(t=>R0(t)).flat();return[n,...e]}function t2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!I0(i)&&(o[yc]=i.title),n2(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=qd(n,n.parent,t).resolve,null)))}function n2(n,e,t,r){let i=Dy(n);if(i.length===0)return Y({});let o={};return Pe(i).pipe(Ke(s=>r2(n[s],e,t,r).pipe(tr(),ut(a=>{if(a instanceof gs)throw Gd(new Qi,a);o[s]=a}))),Lo(1),le(()=>o),Fr(s=>b0(s)?Nt:ko(s)))}function r2(n,e,t,r){let i=_c(e)??r,o=vs(n,i),s=o.resolve?o.resolve(e,t):At(i,()=>o(e,t));return Zr(s)}function Ey(n){return Jt(e=>{let t=n(e);return t?Pe(t).pipe(le(()=>e)):Y(e)})}var Vy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[yc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(M0),providedIn:"root"})}return n})(),M0=(()=>{class n extends Vy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ie(KT))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dc=new H("",{providedIn:"root",factory:()=>({})}),jy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ue({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[Ic],encapsulation:2})}return n})();function Uy(n){let e=n.children&&n.children.map(Uy),t=e?ce(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=jy),t}var Cc=new H(""),N0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(CT);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zr(t.loadComponent()).pipe(le(x0),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Aa(()=>{this.componentLoaders.delete(t)})),i=new Mo(r,()=>new Ve).pipe(Ro());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=P0(r,this.compiler,t,this.onLoadEndListener).pipe(Aa(()=>{this.childrenLoaders.delete(r)})),s=new Mo(o,()=>new Ve).pipe(Ro());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P0(n,e,t,r){return Zr(n.loadChildren()).pipe(le(x0),Ke(i=>i instanceof Gm||Array.isArray(i)?Y(i):Pe(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Cc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uy),injector:o}}))}function i2(n){return n&&typeof n=="object"&&"default"in n}function x0(n){return i2(n)?n.default:n}var Yd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(o2),providedIn:"root"})}return n})(),o2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k0=new H("");var O0=new H(""),F0=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortSubject=new Ve;configLoader=N(N0);environmentInjector=N(Tt);destroyRef=N(Wa);urlSerializer=N(vc);rootContexts=N(ys);location=N(as);inputBindingEnabled=N(Ec,{optional:!0})!==null;titleStrategy=N(Vy);options=N(Dc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Yd);createViewTransition=N(k0,{optional:!0});navigationErrorHandler=N(O0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ld(i)),r=i=>this.events.next(new Vd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ct(null),this.transitions.pipe(Zt(r=>r!==null),Jt(r=>{let i=!1,o=!1;return Y(r).pipe(Jt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),Nt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ce(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.rawUrl),l,uc.IgnoredSameUrlNavigation)),s.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe(Jt(l=>(this.events.next(new Yi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Nt:Promise.resolve(l))),XV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ce(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new lc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,D=new Yi(l,this.urlSerializer.serialize(h),p,y);this.events.next(D);let M=v0(this.rootComponentType).snapshot;return this.currentTransition=r=ce(F({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:ce(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Y(r)}else{let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,uc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Nt}}),ut(s=>{let a=new xd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>(this.currentTransition=r=ce(F({},s),{guards:_V(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),MV(this.environmentInjector,s=>this.events.next(s)),ut(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Gd(this.urlSerializer,s.guardsResult);let a=new kd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Zt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Lt.GuardRejected),!1)),Ey(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(ut(a=>{let u=new Od(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Jt(a=>{let u=!1;return Y(a).pipe(e2(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Lt.NoDataFromResolver)}}))}),ut(a=>{let u=new Fd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ey(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ut(h=>{u.component=h}),le(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Sa(a(s.targetSnapshot.root)).pipe(Lr(null),er(1))}),Ey(()=>this.afterPreactivation()),Jt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Pe(u).pipe(le(()=>r)):Y(r)}),le(s=>{let a=pV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ce(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ut(()=>{this.events.next(new dc)}),vV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),er(1),ut({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ng(this.transitionAbortSubject.pipe(ut(s=>{throw s}))),Aa(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fr(s=>{if(this.destroyed)return r.resolve(!1),Nt;if(o=!0,C0(s))this.events.next(new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),yV(s)?this.events.next(new ps(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new fs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=At(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof gs){let{message:l,cancellationCode:h}=Gd(this.urlSerializer,u);this.events.next(new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ps(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Nt}))}))}cancelNavigationTransition(t,r,i){let o=new xn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s2(n){return n!==Md}var L0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(a2),providedIn:"root"})}return n})(),Kd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},a2=(()=>{class n extends Kd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V0=(()=>{class n{urlSerializer=N(vc);options=N(Dc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(as);urlHandlingStrategy=N(Yd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=v0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(c2),providedIn:"root"})}return n})(),c2=(()=>{class n extends V0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yi?this.updateStateMemento():t instanceof dr?this.commitTransition(r):t instanceof lc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xn&&(t.code===Lt.GuardRejected||t.code===Lt.NoDataFromResolver)?this.restoreHistory(r):t instanceof fs?this.restoreHistory(r,!0):t instanceof On&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function By(n,e){n.events.pipe(Zt(t=>t instanceof On||t instanceof xn||t instanceof fs||t instanceof dr),le(t=>t instanceof On||t instanceof dr?0:(t instanceof xn?t.code===Lt.Redirect||t.code===Lt.SupersededByNewNavigation:!1)?2:1),Zt(t=>t!==2),er(1)).subscribe(()=>{e()})}var u2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},et=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(mT);stateManager=N(V0);options=N(Dc,{optional:!0})||{};pendingTasks=N(Ui);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(F0);urlSerializer=N(vc);location=N(as);urlHandlingStrategy=N(Yd);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(L0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Cc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Ec,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xn&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof On)this.navigated=!0;else if(r instanceof ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||s2(i.source)},s);this.scheduleNavigation(a,Md,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}h2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Md,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=p0(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return g0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Md,null,r)}navigate(t,r={skipLocationChange:!1}){return d2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},u2):r===!1?i=F({},l2):i=r,Yr(t))return QT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return QT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return By(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function h2(n){return!(n instanceof dc)&&!(n instanceof ps)}var Jr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Nb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(pe(et),pe(hr),Cm("tabindex"),pe(rs),pe(Bi),pe(ss))};static \u0275dir=tt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&_e("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ya("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qi],replaceUrl:[2,"replaceUrl","replaceUrl",qi],routerLink:"routerLink"},features:[Br]})}return n})();var p2=new H("");function $y(n,...e){return or([{provide:Cc,multi:!0,useValue:n},[],{provide:hr,useFactory:g2,deps:[et]},{provide:Km,multi:!0,useFactory:y2},e.map(t=>t.\u0275providers)])}function g2(n){return n.routerState.root}function m2(n,e){return{\u0275kind:n,\u0275providers:e}}function y2(){let n=N(lt);return e=>{let t=n.get(Fi);if(e!==t.components[0])return;let r=n.get(et),i=n.get(v2);n.get(_2)===1&&r.initialNavigation(),n.get(I2,null,oe.Optional)?.setUpPreloading(),n.get(p2,null,oe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var v2=new H("",{factory:()=>new Ve}),_2=new H("",{providedIn:"root",factory:()=>1});var I2=new H("");function Hy(){return m2(8,[Ly,{provide:Ec,useExisting:Ly}])}var j0=()=>{};var B0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},E2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(B0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):E2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new qy;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},qy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},w2=function(n){let e=B0(n);return Zd.encodeByteArray(e,!0)},bc=function(n){return w2(n).replace(/\./g,"")},Jd=function(n){try{return Zd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var D2=()=>Wy().__FIREBASE_DEFAULTS__,C2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},b2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Jd(n[1]);return e&&JSON.parse(e)},Xd=()=>{try{return j0()||D2()||C2()||b2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ky=n=>{var e,t;return(t=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$0=n=>{let e=Ky(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Qy=()=>{var n;return(n=Xd())===null||n===void 0?void 0:n.config},Yy=n=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${n}`]};var Zi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function H0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bc(JSON.stringify(t)),bc(JSON.stringify(s)),""].join(".")}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function T2(){var n;let e=(n=Xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function W0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K0(){let n=it();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Q0(){return!T2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tc(){try{return typeof indexedDB=="object"}catch{return!1}}function Y0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var S2="FirebaseError",Gt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=S2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}},vn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?A2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function A2(n,e){return n.replace(R2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var R2=/\{\$([^}]+)}/g;function Z0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(U0(o)&&U0(s)){if(!Fn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function U0(n){return n!==null&&typeof n=="object"}function Sc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _s(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Is(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function J0(n,e){let t=new Gy(n,e);return t.subscribe.bind(t)}var Gy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zy),i.error===void 0&&(i.error=zy),i.complete===void 0&&(i.complete=zy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function M2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zy(){}var rQ=4*60*60*1e3;function $e(n){return n&&n._delegate?n._delegate:n}var Mt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ji="[DEFAULT]";var Zy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N2(n){return n===Ji?void 0:n}function P2(n){return n.instantiationMode==="EAGER"}var eh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Zy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var x2=[],he=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(he||{}),k2={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},O2=he.INFO,F2={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},L2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=F2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ln=class{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=L2,this._userLogHandler=null,x2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var V2=(n,e)=>e.some(t=>n instanceof t),X0,eS;function j2(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U2(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tS=new WeakMap,Xy=new WeakMap,nS=new WeakMap,Jy=new WeakMap,tv=new WeakMap;function B2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Vn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tS.set(t,n)}).catch(()=>{}),tv.set(e,n),e}function $2(n){if(Xy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Xy.set(n,e)}var ev={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rS(n){ev=n(ev)}function H2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(th(this),e,...t);return nS.set(r,e.sort?e.sort():[e]),Vn(r)}:U2().includes(n)?function(...e){return n.apply(th(this),e),Vn(tS.get(this))}:function(...e){return Vn(n.apply(th(this),e))}}function z2(n){return typeof n=="function"?H2(n):(n instanceof IDBTransaction&&$2(n),V2(n,j2())?new Proxy(n,ev):n)}function Vn(n){if(n instanceof IDBRequest)return B2(n);if(Jy.has(n))return Jy.get(n);let e=z2(n);return e!==n&&(Jy.set(n,e),tv.set(e,n)),e}var th=n=>tv.get(n);function oS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vn(s.result),u.oldVersion,u.newVersion,Vn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var q2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],nv=new Map;function iS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=G2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q2.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return nv.set(e,o),o}rS(n=>ce(F({},n),{get:(e,t,r)=>iS(e,t)||n.get(e,t,r),has:(e,t)=>!!iS(e,t)||n.has(e,t)}));var iv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(W2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function W2(n){let e=n.getComponent();return e?.type==="VERSION"}var ov="@firebase/app",sS="0.11.5";var fr=new Ln("@firebase/app"),K2="@firebase/app-compat",Q2="@firebase/analytics-compat",Y2="@firebase/analytics",Z2="@firebase/app-check-compat",J2="@firebase/app-check",X2="@firebase/auth",ej="@firebase/auth-compat",tj="@firebase/database",nj="@firebase/data-connect",rj="@firebase/database-compat",ij="@firebase/functions",oj="@firebase/functions-compat",sj="@firebase/installations",aj="@firebase/installations-compat",cj="@firebase/messaging",uj="@firebase/messaging-compat",lj="@firebase/performance",dj="@firebase/performance-compat",hj="@firebase/remote-config",fj="@firebase/remote-config-compat",pj="@firebase/storage",gj="@firebase/storage-compat",mj="@firebase/firestore",yj="@firebase/vertexai",vj="@firebase/firestore-compat",_j="firebase",Ij="11.6.1";var sv="[DEFAULT]",Ej={[ov]:"fire-core",[K2]:"fire-core-compat",[Y2]:"fire-analytics",[Q2]:"fire-analytics-compat",[J2]:"fire-app-check",[Z2]:"fire-app-check-compat",[X2]:"fire-auth",[ej]:"fire-auth-compat",[tj]:"fire-rtdb",[nj]:"fire-data-connect",[rj]:"fire-rtdb-compat",[ij]:"fire-fn",[oj]:"fire-fn-compat",[sj]:"fire-iid",[aj]:"fire-iid-compat",[cj]:"fire-fcm",[uj]:"fire-fcm-compat",[lj]:"fire-perf",[dj]:"fire-perf-compat",[hj]:"fire-rc",[fj]:"fire-rc-compat",[pj]:"fire-gcs",[gj]:"fire-gcs-compat",[mj]:"fire-fst",[vj]:"fire-fst-compat",[yj]:"fire-vertex","fire-js":"fire-js",[_j]:"fire-js-all"};var Ac=new Map,wj=new Map,av=new Map;function aS(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _n(n){let e=n.name;if(av.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;av.set(e,n);for(let t of Ac.values())aS(t,n);for(let t of wj.values())aS(t,n);return!0}function Es(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wt(n){return n==null?!1:n.settings!==void 0}var Dj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new vn("app","Firebase",Dj);var cv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var ei=Ij;function dv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=Qy()),!t)throw Xr.create("no-options");let o=Ac.get(i);if(o){if(Fn(t,o.options)&&Fn(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new eh(i);for(let u of av.values())s.addComponent(u);let a=new cv(t,r,s);return Ac.set(i,a),a}function Xi(n=sv){let e=Ac.get(n);if(!e&&n===sv&&Qy())return dv();if(!e)throw Xr.create("no-app",{appName:n});return e}function nh(){return Array.from(Ac.values())}function Fe(n,e,t){var r;let i=(r=Ej[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}_n(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Cj="firebase-heartbeat-database",bj=1,Rc="firebase-heartbeat-store",rv=null;function dS(){return rv||(rv=oS(Cj,bj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),rv}function Tj(n){return v(this,null,function*(){try{let t=(yield dS()).transaction(Rc),r=yield t.objectStore(Rc).get(hS(n));return yield t.done,r}catch(e){if(e instanceof Gt)fr.warn(e.message);else{let t=Xr.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}})}function cS(n,e){return v(this,null,function*(){try{let r=(yield dS()).transaction(Rc,"readwrite");yield r.objectStore(Rc).put(e,hS(n)),yield r.done}catch(t){if(t instanceof Gt)fr.warn(t.message);else{let r=Xr.create("idb-set",{originalErrorMessage:t?.message});fr.warn(r.message)}}})}function hS(n){return`${n.name}!${n.options.appId}`}var Sj=1024,Aj=30,uv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new lv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Aj){let s=Mj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=uS(),{heartbeatsToSend:r,unsentEntries:i}=Rj(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fr.warn(t),""}})}};function uS(){return new Date().toISOString().substring(0,10)}function Rj(n,e=Sj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var lv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Tc()?Y0().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Tj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lS(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}function Mj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Nj(n){_n(new Mt("platform-logger",e=>new iv(e),"PRIVATE")),_n(new Mt("heartbeat",e=>new uv(e),"PRIVATE")),Fe(ov,sS,n),Fe(ov,sS,"esm2017"),Fe("fire-js","")}Nj("");var Pj="firebase",xj="11.6.1";Fe(Pj,xj,"app");function hv(n){n===void 0&&(SC(hv),n=N(lt));let e=n.get(ad);return t=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ti=new Jo("ANGULARFIRE2_VERSION");function Mc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ds=(n,e)=>{let t=e?[e]:nh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ws=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ws||{}),fS=Xm()&&typeof Zone<"u"?ws.WARN:ws.SILENT;var rh=class{zone;delegate;constructor(e,t=Zp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ni=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Ce);this.outsideAngular=t.runOutsideAngular(()=>new rh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new rh(typeof Zone>"u"?void 0:Zone.current,Yp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pS=!1;function kj(n,e){!pS&&(fS>ws.SILENT||Xm())&&(pS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),fS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Oj(n){let e=N(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function eo(n){let e=N(Ce,{optional:!0});return e?e.run(()=>n()):n()}var Fj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),At(t,()=>eo(()=>n.apply(void 0,r)))),He=(n,e,t)=>(t||=e?ws.WARN:ws.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(ni),s=N(ad),a=N(Tt)}catch{return kj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=eo(()=>s.add())),i[l]=Fj(i[l],r,a));let u=Oj(()=>n.apply(this,i));return e?u instanceof ue?u.pipe(Or(o.outsideAngular),kr(o.insideAngular),hv(a)):u instanceof Promise?eo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>At(a,()=>eo(()=>l(p))),p=>At(a,()=>eo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:eo(()=>u):u instanceof ue?u.pipe(Or(o.outsideAngular),kr(o.insideAngular)):eo(()=>u)});var pr=class{constructor(e){return e}},to=class{constructor(){return nh()}};function Lj(n){return n&&n.length===1?n[0]:new pr(Xi())}var fv=new H("angularfire2._apps"),Vj={provide:pr,useFactory:Lj,deps:[[new Bt,fv]]},jj={provide:to,deps:[[new Bt,fv]]};function Uj(n){return(e,t)=>{let r=t.get($i);Fe("angularfire",ti.full,"core"),Fe("angularfire",ti.full,"app"),Fe("angular",DT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new pr(i)}}function gS(n,...e){return or([Vj,jj,{provide:fv,useFactory:Uj(n),multi:!0,deps:[Ce,lt,ni,...e]}])}var mS=He(dv,!0);var Bj=new Map,$j={activated:!1,tokenObservers:[]},Hj={initialized:!1,enabled:!1};function In(n){return Bj.get(n)||Object.assign({},$j)}function IS(){return Hj}var zj="https://content-firebaseappcheck.googleapis.com/v1";var qj="exchangeDebugToken",yS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},cY=24*60*60*1e3;var mv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Zi,this.pending.promise.catch(t=>{}),yield Gj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Gj(n){return new Promise(e=>{setTimeout(e,n)})}var Wj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ri=new vn("appCheck","AppCheck",Wj);function ES(n){if(!In(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function wS(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw ri.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ri.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ri.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function DS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${zj}/projects/${t}/apps/${r}:${qj}?key=${i}`,body:{debug_token:e}}}var Kj="firebase-app-check-database",Qj=1,yv="firebase-app-check-store";var ih=null;function Yj(){return ih||(ih=new Promise((n,e)=>{try{let t=indexedDB.open(Kj,Qj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ri.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yv,{keyPath:"compositeKey"})}}}catch(t){e(ri.create("storage-open",{originalErrorMessage:t?.message}))}}),ih)}function Zj(n,e){return Jj(Xj(n),e)}function Jj(n,e){return v(this,null,function*(){let r=(yield Yj()).transaction(yv,"readwrite"),o=r.objectStore(yv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ri.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function Xj(n){return`${n.options.appId}-${n.name}`}var Nc=new Ln("@firebase/app-check");function pv(n,e){return Tc()?Zj(n,e).catch(t=>{Nc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CS(){return IS().enabled}function bS(){return v(this,null,function*(){let n=IS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var eU={error:"UNKNOWN_ERROR"};function tU(n){return Zd.encodeString(JSON.stringify(n),!1)}function vv(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;ES(r);let i=In(r),o=i.token,s;if(o&&!Pc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Pc(l)?o=l:yield pv(r,void 0))}if(!e&&o&&Pc(o))return{token:o.token};let a=!1;if(CS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=wS(DS(r,yield bS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield pv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Nc.warn(l.message):t&&Nc.error(l),gv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield In(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Nc.warn(l.message):t&&Nc.error(l),s=l}let u;return o?s?Pc(o)?u={token:o.token,internalError:s}:u=gv(s):(u={token:o.token},i.token=o,yield pv(r,o)):u=gv(s),a&&oU(r,u),u})}function nU(n){return v(this,null,function*(){let e=n.app;ES(e);let{provider:t}=In(e);if(CS()){let r=yield bS(),{token:i}=yield wS(DS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function rU(n,e,t,r){let{app:i}=n,o=In(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Pc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),vS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>vS(n))}function TS(n,e){let t=In(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function vS(n){let{app:e}=n,t=In(e),r=t.tokenRefresher;r||(r=iU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iU(n){let{app:e}=n;return new mv(()=>v(this,null,function*(){let t=In(e),r;if(t.token?r=yield vv(n,!0):r=yield vv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=In(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},yS.RETRIAL_MIN_WAIT,yS.RETRIAL_MAX_WAIT)}function oU(n,e){let t=In(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pc(n){return n.expireTimeMillis-Date.now()>0}function gv(n){return{token:tU(eU),error:n}}var _v=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=In(this.app);for(let t of e)TS(this.app,t.next);return Promise.resolve()}};function sU(n,e){return new _v(n,e)}function aU(n){return{getToken:e=>vv(n,e),getLimitedUseToken:()=>nU(n),addTokenListener:e=>rU(n,"INTERNAL",e),removeTokenListener:e=>TS(n.app,e)}}var cU="@firebase/app-check",uU="0.8.13";var lU="app-check",_S="app-check-internal";function dU(){_n(new Mt(lU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return sU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_S).initialize()})),_n(new Mt(_S,n=>{let e=n.getProvider("app-check").getImmediate();return aU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Fe(cU,uU)}dU();var hU="app-check";var Cs=class{constructor(){return Ds(hU)}};var fU=["localhost","0.0.0.0","127.0.0.1"],EY=typeof window<"u"&&fU.includes(window.location.hostname);function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HS=$S,zS=new vn("auth","Firebase",$S());var lh=new Ln("@firebase/auth");function pU(n,...e){lh.logLevel<=he.WARN&&lh.warn(`Auth (${ei}): ${n}`,...e)}function sh(n,...e){lh.logLevel<=he.ERROR&&lh.error(`Auth (${ei}): ${n}`,...e)}function Un(n,...e){throw zv(n,...e)}function no(n,...e){return zv(n,...e)}function qS(n,e,t){let r=Object.assign(Object.assign({},HS()),{[e]:t});return new vn("auth","Firebase",r).create(e,{appName:n.name})}function si(n){return qS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zS.create(n,...e)}function G(n,e,...t){if(!n)throw zv(e,...t)}function gr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw sh(e),new Error(e)}function ai(n,e){n||gr(e)}function Dv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function gU(){return SS()==="http:"||SS()==="https:"}function SS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function mU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gU()||G0()||"connection"in navigator)?navigator.onLine:!0}function yU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ro=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=z0()||W0()}get(){return mU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qv(n,e){ai(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var dh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _U=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IU=new ro(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yr(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return GS(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Sc(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return q0()||(m.referrerPolicy="no-referrer"),dh.fetch()(yield WS(n,n.config.apiHost,t,p),m)}))})}function GS(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},vU),e);try{let i=new Cv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw oh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw oh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qS(n,h,l);Un(n,h)}}catch(i){if(i instanceof Gt)throw i;Un(n,"network-request-failed",{message:String(i)})}})}function wh(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield yr(n,e,t,r,i);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function WS(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?qv(n.config,i):`${n.config.apiScheme}://${i}`;return _U.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function EU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Cv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),IU.get())})}};function oh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=no(n,e,r);return i.customData._tokenResponse=t,i}function AS(n){return n!==void 0&&n.enterprise!==void 0}var bv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function wU(n,e){return v(this,null,function*(){return yr(n,"GET","/v2/recaptchaConfig",ci(n,e))})}function DU(n,e){return v(this,null,function*(){return yr(n,"POST","/v1/accounts:delete",e)})}function hh(n,e){return v(this,null,function*(){return yr(n,"POST","/v1/accounts:lookup",e)})}function kc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gv(n,e=!1){return v(this,null,function*(){let t=$e(n),r=yield t.getIdToken(e),i=Wv(r);G(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:kc(Iv(i.auth_time)),issuedAtTime:kc(Iv(i.iat)),expirationTime:kc(Iv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Iv(n){return Number(n)*1e3}function Wv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jd(t);return i?JSON.parse(i):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RS(n){let e=Wv(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gt&&CU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function CU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Tv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fh(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Fc(n,hh(t,{idToken:r}));G(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KS(o.providerUserInfo):[],a=bU(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Lc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Kv(n){return v(this,null,function*(){let e=$e(n);yield fh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KS(n){return n.map(e=>{var{providerId:t}=e,r=Jp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TU(n,e){return v(this,null,function*(){let t=yield GS(n,{},()=>v(this,null,function*(){let r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield WS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function SU(n,e){return v(this,null,function*(){return yr(n,"POST","/v2/accounts:revokeToken",ci(n,e))})}var Oc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");let t=RS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield TU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gr("not implemented")}};function ii(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var oi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Fc(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Gv(this,e)}reload(){return Kv(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Wt(this.auth.app))return Promise.reject(si(this.auth));let e=yield this.getIdToken();return yield Fc(this,DU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:Re,isAnonymous:Et,providerData:De,stsTokenManager:C}=t;G(ne&&C,e,"internal-error");let _=Oc.fromJSON(this.name,C);G(typeof ne=="string",e,"internal-error"),ii(p,e.name),ii(y,e.name),G(typeof Re=="boolean",e,"internal-error"),G(typeof Et=="boolean",e,"internal-error"),ii(m,e.name),ii(D,e.name),ii(M,e.name),ii(R,e.name),ii(j,e.name),ii(Q,e.name);let E=new n({uid:ne,auth:e,email:y,emailVerified:Re,displayName:p,isAnonymous:Et,photoURL:D,phoneNumber:m,tenantId:M,stsTokenManager:_,createdAt:j,lastLoginAt:Q});return De&&Array.isArray(De)&&(E.providerData=De.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Oc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Oc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var MS=new Map;function mr(n){ai(n instanceof Function,"Expected a class definition");let e=MS.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,MS.set(n,e),e)}var AU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Sv=AU;function ah(n,e,t){return`firebase:${n}:${e}:${t}`}var ph=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield hh(this.auth,{idToken:e}).catch(()=>{});return t?oi._fromGetAccountInfoResponse(this.auth,t,e):null}return oi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(mr(Sv),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||mr(Sv),s=ah(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield hh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield oi._fromGetAccountInfoResponse(e,y,h)}else p=oi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function NS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eA(e))return"Blackberry";if(tA(e))return"Webos";if(YS(e))return"Safari";if((e.includes("chrome/")||ZS(e))&&!e.includes("edge/"))return"Chrome";if(XS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function QS(n=it()){return/firefox\//i.test(n)}function YS(n=it()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZS(n=it()){return/crios\//i.test(n)}function JS(n=it()){return/iemobile/i.test(n)}function XS(n=it()){return/android/i.test(n)}function eA(n=it()){return/blackberry/i.test(n)}function tA(n=it()){return/webos/i.test(n)}function Qv(n=it()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RU(n=it()){var e;return Qv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MU(){return K0()&&document.documentMode===10}function nA(n=it()){return Qv(n)||XS(n)||tA(n)||eA(n)||/windows phone/i.test(n)||JS(n)}function rA(n,e=[]){let t;switch(n){case"Browser":t=NS(it());break;case"Worker":t=`${NS(it())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ei}/${r}`}var Av=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NU(t){return v(this,arguments,function*(n,e={}){return yr(n,"GET","/v2/passwordPolicy",ci(n,e))})}var PU=6,Rv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:PU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Mv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gh(this),this.idTokenSubscription=new gh(this),this.beforeStateQueue=new Av(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ph.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield hh(this,{idToken:e}),r=yield oi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield fh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yU()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Wt(this.app))return Promise.reject(si(this));let t=e?$e(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Wt(this.app)?Promise.reject(si(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wt(this.app)?Promise.reject(si(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield NU(this),t=new Rv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mr(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=yield ph.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&pU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function oo(n){return $e(n)}var gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=J0(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xU(n){Dh=n}function iA(n){return Dh.loadJS(n)}function kU(){return Dh.recaptchaEnterpriseScript}function OU(){return Dh.gapiScript}function oA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Nv=class{constructor(){this.enterprise=new Pv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Pv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var FU="recaptcha-enterprise",sA="NO_RECAPTCHA",xv=class{constructor(e){this.type=FU,this.auth=oo(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){wU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new bv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;AS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&AS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kU();u.length!==0&&(u+=a),iA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function xc(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new xv(n),s;if(i)s=sA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function kv(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield xc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield xc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield xc(n,e,t);return r(n,a).catch(u=>v(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield xc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield xc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Yv(n,e){let t=Es(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Fn(o,e??{}))return i;Un(i,"already-initialized")}return t.initialize({options:e})}function LU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zv(n,e,t){let r=oo(n);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=aA(e),{host:s,port:a}=VU(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Fn(l,r.config.emulator)&&Fn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||jU()}function aA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VU(n){let e=aA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:PS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:PS(s)}}}function PS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function jU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Vc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}};function UU(n,e){return v(this,null,function*(){return yr(n,"POST","/v1/accounts:signUp",e)})}function BU(n,e){return v(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))})}function $U(n,e){return v(this,null,function*(){return yr(n,"POST","/v1/accounts:sendOobCode",ci(n,e))})}function HU(n,e){return v(this,null,function*(){return $U(n,e)})}function zU(n,e){return v(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))})}function qU(n,e){return v(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))})}var jc=class n extends Vc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,t,"signInWithPassword",BU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zU(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,r,"signUpPassword",UU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qU(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ev(n,e){return v(this,null,function*(){return wh(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))})}function GU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WU(n){let e=_s(Is(n)).link,t=e?_s(Is(e)).deep_link_id:null,r=_s(Is(n)).deep_link_id;return(r?_s(Is(r)).link:null)||r||t||e||n}var mh=class n{constructor(e){var t,r,i,o,s,a;let u=_s(Is(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=GU((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=WU(e);try{return new n(t)}catch{return null}}};var cA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return jc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=mh.parseLink(r);return G(i,"argument-error"),jc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),yh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ov=class extends yh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Uc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield oi._fromIdTokenResponse(e,r,i),s=xS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function xS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Fv=class n extends Gt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fv._fromErrorAndOperation(n,o,e,r):o})}function KU(n,e,t=!1){return v(this,null,function*(){let r=yield Fc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Uc._forOperation(n,"link",r)})}function QU(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Wt(r.app))return Promise.reject(si(r));let i="reauthenticate";try{let o=yield Fc(n,uA(r,i,e,n),t);G(o.idToken,r,"internal-error");let s=Wv(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(n.uid===a,r,"user-mismatch"),Uc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Un(r,"user-mismatch"),o}})}function lA(n,e,t=!1){return v(this,null,function*(){if(Wt(n.app))return Promise.reject(si(n));let r="signIn",i=yield uA(n,r,e),o=yield Uc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Jv(n,e){return v(this,null,function*(){return lA(oo(n),e)})}function YU(n,e,t){var r;G(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),G(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),G(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(G(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(G(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ZU(n){return v(this,null,function*(){let e=oo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Xv(n,e,t){return v(this,null,function*(){let r=oo(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&YU(r,i,t),yield kv(r,i,"getOobCode",HU,"EMAIL_PASSWORD_PROVIDER")})}function e_(n,e,t){return Wt(n.app)?Promise.reject(si(n)):Jv($e(n),cA.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ZU(n),r}))}function t_(n,e,t,r){return $e(n).onIdTokenChanged(e,t,r)}function n_(n,e,t){return $e(n).beforeAuthStateChanged(e,t)}var vh="__sak";var _h=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var JU=1e3,XU=10,eB=(()=>{class n extends _h{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);MU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},JU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Pr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Pr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Pr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),dA=eB;var tB=(()=>{class n extends _h{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),r_=tB;function nB(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var rB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield nB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function hA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Lv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=hA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function jn(){return window}function iB(n){jn().location.href=n}function fA(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}function oB(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aB(){return fA()?self:null}var pA="firebaseLocalStorageDb",cB=1,Ih="firebaseLocalStorage",gA="fbase_key",io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ch(n,e){return n.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function uB(){let n=indexedDB.deleteDatabase(pA);return new io(n).toPromise()}function Vv(){let n=indexedDB.open(pA,cB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ih,{keyPath:gA})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),yield uB(),e(yield Vv()))}))})}function kS(n,e,t){return v(this,null,function*(){let r=Ch(n,!0).put({[gA]:e,value:t});return new io(r).toPromise()})}function lB(n,e){return v(this,null,function*(){let t=Ch(n,!1).get(e),r=yield new io(t).toPromise();return r===void 0?null:r.value})}function OS(n,e){let t=Ch(n,!0).delete(e);return new io(t).toPromise()}var dB=800,hB=3,fB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Vv(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>hB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return fA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=rB._getInstance(aB()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield oB(),!this.activeServiceWorker)return;this.sender=new Lv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Vv();return yield kS(t,vh,"1"),yield OS(t,vh),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>kS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>lB(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>OS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ch(o,!1).getAll();return new io(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),mA=fB;var RY=oA("rcb"),MY=new ro(3e4,6e4);function pB(n,e){return e?mr(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Bc=class extends Vc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ev(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ev(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ev(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function gB(n){return lA(n.auth,new Bc(n),n.bypassAuthState)}function mB(n){let{auth:e,user:t}=n;return G(t,e,"internal-error"),QU(t,new Bc(n),n.bypassAuthState)}function yB(n){return v(this,null,function*(){let{auth:e,user:t}=n;return G(t,e,"internal-error"),KU(t,new Bc(n),n.bypassAuthState)})}var jv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gB;case"linkViaPopup":case"linkViaRedirect":return yB;case"reauthViaPopup":case"reauthViaRedirect":return mB;default:Un(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var NY=new ro(2e3,1e4);var vB="pendingRedirect",ch=new Map,Uv=class n extends jv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ch.get(this.auth._key());if(!e){try{let r=(yield _B(this.resolver,this.auth))?yield Pr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Pr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Pr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function _B(n,e){return v(this,null,function*(){let t=wB(e),r=EB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function IB(n,e){ch.set(n._key(),e)}function EB(n){return mr(n._redirectPersistence)}function wB(n){return ah(vB,n.config.apiKey,n.name)}function DB(n,e,t=!1){return v(this,null,function*(){if(Wt(n.app))return Promise.reject(si(n));let r=oo(n),i=pB(r,e),s=yield new Uv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var CB=10*60*1e3,Bv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(no(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CB&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(e))}saveEventToCache(e){this.cachedEventUids.add(FS(e)),this.lastProcessedEventTime=Date.now()}};function FS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yA(n);default:return!1}}function TB(t){return v(this,arguments,function*(n,e={}){return yr(n,"GET","/v1/projects",e)})}var SB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AB=/^https?/;function RB(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield TB(n);for(let t of e)try{if(MB(t))return}catch{}Un(n,"unauthorized-domain")})}function MB(n){let e=Dv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!AB.test(t))return!1;if(SB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var NB=new ro(3e4,6e4);function LS(){let n=jn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PB(n){return new Promise((e,t)=>{var r,i,o;function s(){LS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LS(),t(no(n,"network-request-failed"))},timeout:NB.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jn().gapi)===null||o===void 0)&&o.load)s();else{let a=oA("iframefcb");return jn()[a]=()=>{gapi.load?s():t(no(n,"network-request-failed"))},iA(`${OU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw uh=null,e})}var uh=null;function xB(n){return uh=uh||PB(n),uh}var kB=new ro(5e3,15e3),OB="__/auth/iframe",FB="emulator/auth/iframe",LB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(n){let e=n.config;G(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qv(e,FB):`https://${n.config.authDomain}/${OB}`,r={apiKey:e.apiKey,appName:n.name,v:ei},i=VB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sc(r).slice(1)}`}function UB(n){return v(this,null,function*(){let e=yield xB(n),t=jn().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:jB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LB,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=no(n,"network-request-failed"),a=jn().setTimeout(()=>{o(s)},kB.get());function u(){jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var BB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$B=500,HB=600,zB="_blank",qB="http://localhost",Eh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GB(n,e,t,r=$B,i=HB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},BB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();t&&(a=ZS(l)?zB:t),QS(l)&&(e=e||qB,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,D])=>`${y}${m}=${D},`,"");if(RU(l)&&a!=="_self")return WB(e||"",a),new Eh(null);let p=window.open(e||"",a,h);G(p,n,"popup-blocked");try{p.focus()}catch{}return new Eh(p)}function WB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var KB="__/auth/handler",QB="emulator/auth/handler",YB=encodeURIComponent("fac");function VS(n,e,t,r,i,o){return v(this,null,function*(){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ei,eventId:i};if(e instanceof yh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Z0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ov){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${YB}=${encodeURIComponent(u)}`:"";return`${ZB(n)}?${Sc(a).slice(1)}${l}`})}function ZB({config:n}){return n.emulator?qv(n,QB):`https://${n.authDomain}/${KB}`}var wv="webStorageSupport",$v=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=DB,this._overrideRedirectResult=IB}_openPopup(e,t,r,i){return v(this,null,function*(){var o;ai((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VS(e,t,r,Dv(),i);return GB(e,s,hA())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield VS(e,t,r,Dv(),i);return iB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ai(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield UB(e),r=new Bv(e);return t.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wv,{type:wv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[wv];s!==void 0&&t(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nA()||YS()||Qv()}},vA=$v;var jS="@firebase/auth",US="1.10.1";var Hv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XB(n){_n(new Mt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rA(n)},l=new Mv(r,i,o,u);return LU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_n(new Mt("auth-internal",e=>{let t=oo(e.getProvider("auth").getImmediate());return(r=>new Hv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(jS,US,JB(n)),Fe(jS,US,"esm2017")}var e$=5*60,t$=Yy("authIdTokenMaxAge")||e$,BS=null,n$=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>t$)return;let i=t?.token;BS!==i&&(BS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function i_(n=Xi()){let e=Es(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Yv(n,{popupRedirectResolver:vA,persistence:[mA,dA,r_]}),r=Yy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=n$(o.toString());n_(t,s,()=>s(t.currentUser)),t_(t,a=>s(a))}}let i=Ky("auth");return i&&Zv(t,`http://${i}`),t}function r$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=no("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",r$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XB("Browser");var _A="auth",so=class{constructor(e){return e}},$c=class{constructor(){return Ds(_A)}};var o_=new H("angularfire2.auth-instances");function W$(n,e){let t=Mc(_A,n,e);return t&&new so(t)}function K$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new so(r)}}var Q$={provide:$c,deps:[[new Bt,o_]]},Y$={provide:so,useFactory:W$,deps:[[new Bt,o_],pr]};function IA(n,...e){return Fe("angularfire",ti.full,"auth"),or([Y$,Q$,{provide:o_,useFactory:K$(n),multi:!0,deps:[Ce,lt,ni,to,[new Bt,Cs],...e]}])}var EA=He(i_,!0);var wA=He(Xv,!0,2);var DA=He(e_,!0,2);var CA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bA={};var vr,s_;(function(){var n;function e(C,_){function E(){}E.prototype=_.prototype,C.D=_.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(w,b,S){for(var I=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)I[Qn-2]=arguments[Qn];return _.prototype[b].apply(w,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,E){E||(E=0);var w=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)w[b]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=C.g[0],E=C.g[1],b=C.g[2];var S=C.g[3],I=_+(S^E&(b^S))+w[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(b^S&(E^b))+w[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(E^b^S)+w[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(b^(E|~S))+w[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+S&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var E=_-this.blockSize,w=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=E;)i(this,C,S),S+=this.blockSize;if(typeof C=="string"){for(;S<_;)if(w[b++]=C.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<_;)if(w[b++]=C[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var E=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=E&255,E/=256;for(this.u(C),C=Array(16),_=E=0;4>_;++_)for(var w=0;32>w;w+=8)C[E++]=this.g[_]>>>w&255;return C};function o(C,_){var E=a;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=_(C)}function s(C,_){this.h=_;for(var E=[],w=!0,b=C.length-1;0<=b;b--){var S=C[b]|0;w&&S==_||(E[b]=S,w=!1)}this.g=E}var a={};function u(C){return-128<=C&&128>C?o(C,function(_){return new s([_|0],0>_?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return R(l(-C));for(var _=[],E=1,w=0;C>=E;w++)_[w]=C/E|0,E*=4294967296;return new s(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return R(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),w=p,b=0;b<C.length;b+=8){var S=Math.min(8,C.length-b),I=parseInt(C.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var C=0,_=1,E=0;E<this.g.length;E++){var w=this.i(E);C+=(0<=w?w:4294967296+w)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(M(this))return"-"+R(this).toString(C);for(var _=l(Math.pow(C,6)),E=this,w="";;){var b=Re(E,_).g;E=j(E,b.j(_));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=b,D(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function M(C){return C.h==-1}n.l=function(C){return C=j(this,C),M(C)?-1:D(C)?0:1};function R(C){for(var _=C.g.length,E=[],w=0;w<_;w++)E[w]=~C.g[w];return new s(E,~C.h).add(y)}n.abs=function(){return M(this)?R(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],w=0,b=0;b<=_;b++){var S=w+(this.i(b)&65535)+(C.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);w=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function j(C,_){return C.add(R(_))}n.j=function(C){if(D(this)||D(C))return p;if(M(this))return M(C)?R(this).j(R(C)):R(R(this).j(C));if(M(C))return R(this.j(R(C)));if(0>this.l(m)&&0>C.l(m))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,E=[],w=0;w<2*_;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<C.g.length;b++){var S=this.i(w)>>>16,I=this.i(w)&65535,Qn=C.i(b)>>>16,ta=C.i(b)&65535;E[2*w+2*b]+=I*ta,Q(E,2*w+2*b),E[2*w+2*b+1]+=S*ta,Q(E,2*w+2*b+1),E[2*w+2*b+1]+=I*Qn,Q(E,2*w+2*b+1),E[2*w+2*b+2]+=S*Qn,Q(E,2*w+2*b+2)}for(w=0;w<_;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=_;w<2*_;w++)E[w]=0;return new s(E,0)};function Q(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function ne(C,_){this.g=C,this.h=_}function Re(C,_){if(D(_))throw Error("division by zero");if(D(C))return new ne(p,p);if(M(C))return _=Re(R(C),_),new ne(R(_.g),R(_.h));if(M(_))return _=Re(C,R(_)),new ne(R(_.g),_.h);if(30<C.g.length){if(M(C)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var E=y,w=_;0>=w.l(C);)E=Et(E),w=Et(w);var b=De(E,1),S=De(w,1);for(w=De(w,2),E=De(E,2);!D(w);){var I=S.add(w);0>=I.l(C)&&(b=b.add(E),S=I),w=De(w,1),E=De(E,1)}return _=j(C,b.j(_)),new ne(b,_)}for(b=p;0<=C.l(_);){for(E=Math.max(1,Math.floor(C.m()/_.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(_);M(I)||0<I.l(C);)E-=w,S=l(E),I=S.j(_);D(S)&&(S=y),b=b.add(S),C=j(C,I)}return new ne(b,C)}n.A=function(C){return Re(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)&C.i(w);return new s(E,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)|C.i(w);return new s(E,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)^C.i(w);return new s(E,this.h^C.h)};function Et(C){for(var _=C.g.length+1,E=[],w=0;w<_;w++)E[w]=C.i(w)<<1|C.i(w-1)>>>31;return new s(E,C.h)}function De(C,_){var E=_>>5;_%=32;for(var w=C.g.length-E,b=[],S=0;S<w;S++)b[S]=0<_?C.i(S+E)>>>_|C.i(S+E+1)<<32-_:C.i(S+E);return new s(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s_=bA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,vr=bA.Integer=s}).apply(typeof CA<"u"?CA:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_r={};var a_,Z$,bs,c_,Hc,Th,u_,l_,d_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var L=Array(arguments.length-2),be=2;be<arguments.length;be++)L[be-2]=arguments[be];return d.prototype[T].apply(g,L)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let L=0;L<A;L++)c[T+L]=g[L]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var Et=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function De(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Jf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Qn{constructor(){this.h=this.g=null}add(d,f){let g=ta.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ta=new j(()=>new jN,c=>c.reset());class jN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let na,ra=!1,Jf=new Qn,LE=()=>{let c=a.Promise.resolve(void 0);na=()=>{c.then(UN)}};var UN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ra=!1};function Ar(){this.s=this.s,this.C=this.C}Ar.prototype.s=!1,Ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var BN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ia(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Et){e:{try{Re(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$N[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ia.aa.h.call(this)}}D(ia,ht);var $N={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),HN=0;function zN(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++HN,this.da=this.fa=!1}function wu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Du(c){this.src=c,this.g={},this.h=0}Du.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=ep(c,d,g,T);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new zN(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function Xf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(wu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ep(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var tp="closure_lm_"+(1e6*Math.random()|0),np={};function VE(c,d,f,g,T){if(g&&g.once)return UE(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)VE(c,d[A],f,g,T);return null}return f=sp(f),c&&c[oa]?c.K(d,f,l(g)?!!g.capture:!!g,T):jE(c,d,f,!1,g,T)}function jE(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var L=l(T)?!!T.capture:!!T,be=ip(c);if(be||(c[tp]=be=new Du(c)),f=be.add(d,f,g,L,A),f.proxy)return f;if(g=qN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)BN||(T=L),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent($E(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qN(){function c(f){return d.call(c.src,c.listener,f)}let d=GN;return c}function UE(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)UE(c,d[A],f,g,T);return null}return f=sp(f),c&&c[oa]?c.L(d,f,l(g)?!!g.capture:!!g,T):jE(c,d,f,!0,g,T)}function BE(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)BE(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=sp(f),c&&c[oa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ep(A,f,g,T),-1<f&&(wu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ip(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ep(d,f,g,T)),(f=-1<c?d[c]:null)&&rp(f))}function rp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[oa])Xf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent($E(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ip(d))?(Xf(f,c),f.h==0&&(f.src=null,d[tp]=null)):wu(c)}}}function $E(c){return c in np?np[c]:np[c]="on"+c}function GN(c,d){if(c.da)c=!0;else{d=new ia(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&rp(c),c=f.call(g,d)}return c}function ip(c){return c=c[tp],c instanceof Du?c:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(c){return typeof c=="function"?c:(c[op]||(c[op]=function(d){return c.handleEvent(d)}),c[op])}function ft(){Ar.call(this),this.i=new Du(this),this.M=this,this.F=null}D(ft,Ar),ft.prototype[oa]=!0,ft.prototype.removeEventListener=function(c,d,f,g){BE(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var T=d;d=new ht(g,c),w(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];T=Cu(L,g,!0,d)&&T}if(L=d.g=c,T=Cu(L,g,!0,d)&&T,T=Cu(L,g,!1,d)&&T,f)for(A=0;A<f.length;A++)L=d.g=f[A],T=Cu(L,g,!1,d)&&T}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)wu(f[g]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ft.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Cu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var be=L.listener,at=L.ha||L.src;L.fa&&Xf(c.i,L),T=be.call(at,g)!==!1&&T}}return T&&!g.defaultPrevented}function HE(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zE(c){c.g=HE(()=>{c.g=null,c.i&&(c.i=!1,zE(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WN extends Ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){Ar.call(this),this.h=c,this.g={}}D(sa,Ar);var qE=[];function GE(c){De(c.g,function(d,f){this.g.hasOwnProperty(f)&&rp(d)},c),c.g={}}sa.prototype.N=function(){sa.aa.N.call(this),GE(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ap=a.JSON.stringify,KN=a.JSON.parse,QN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function cp(){}cp.prototype.h=null;function WE(c){return c.h||(c.h=c.i())}function KE(){}var aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function up(){ht.call(this,"d")}D(up,ht);function lp(){ht.call(this,"c")}D(lp,ht);var _i={},QE=null;function bu(){return QE=QE||new ft}_i.La="serverreachability";function YE(c){ht.call(this,_i.La,c)}D(YE,ht);function ca(c){let d=bu();wt(d,new YE(d))}_i.STAT_EVENT="statevent";function ZE(c,d){ht.call(this,_i.STAT_EVENT,c),this.stat=d}D(ZE,ht);function Dt(c){let d=bu();wt(d,new ZE(d,c))}_i.Ma="timingevent";function JE(c,d){ht.call(this,_i.Ma,c),this.size=d}D(JE,ht);function ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function YN(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var L="",be=A.split("&"),at=0;at<be.length;at++){var ve=be[at].split("=");if(1<ve.length){var pt=ve[0];ve=ve[1];var gt=pt.split("_");L=2<=gt.length&&gt[1]=="type"?L+(pt+"="+ve+"&"):L+(pt+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+L})}function ZN(c,d,f,g,T,A,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+L})}function Io(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XN(c,f)+(g?" "+g:"")})}function JN(c,d){c.info(function(){return"TIMEOUT: "+d})}la.prototype.info=function(){};function XN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return ap(f)}catch{return d}}var Tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dp;function Su(){}D(Su,cp),Su.prototype.g=function(){return new XMLHttpRequest},Su.prototype.i=function(){return{}},dp=new Su;function Rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ew}function ew(){this.i=null,this.g="",this.h=!1}var tw={},hp={};function fp(c,d,f){c.L=1,c.v=Nu(Yn(d)),c.m=f,c.P=!0,nw(c,null)}function nw(c,d){c.F=Date.now(),Au(c),c.A=Yn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),mw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ew,c.g=kw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WN(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(qE[0]=T.toString()),T=qE);for(var A=0;A<T.length;A++){var L=VE(f,T[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ca(),YN(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Zn(this.g);var d=this.g.Ba();let Do=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Dw(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Do?ca(3):ca(2)),pp(this);var f=this.g.Z();this.X=f;t:if(rw(this)){var g=Dw(this.g);c="";var T=g.length,A=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),da(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,ZN(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,at=this.g;if((be=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(be)){var ve=be;break t}}ve=null}if(f=ve)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gp(this,f);else{this.o=!1,this.s=3,Dt(12),Ii(this),da(this);break e}}if(this.P){f=!0;let ln;for(;!this.J&&this.C<L.length;)if(ln=eP(this,L),ln==hp){gt==4&&(this.s=4,Dt(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==tw){this.s=4,Dt(15),Io(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,ln,null),gp(this,ln);if(rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||L.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,L,"[Invalid Chunked Response]"),Ii(this),da(this);else if(0<L.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Ep(pt),pt.M=!0,Dt(11))}}else Io(this.i,this.l,L,null),gp(this,L);gt==4&&Ii(this),this.o&&!this.J&&(gt==4?Mw(this.j,this):(this.o=!1,Au(this)))}else yP(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Ii(this),da(this)}}}catch{}finally{}};function rw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?hp:(f=Number(d.substring(f,g)),isNaN(f)?tw:(g+=1,g+f>d.length?hp:(d=d.slice(g,g+f),c.C=g+f,d)))}Rr.prototype.cancel=function(){this.J=!0,Ii(this)};function Au(c){c.S=Date.now()+c.I,iw(c,c.I)}function iw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ua(y(c.ba,c),d)}function pp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(JN(this.i,this.A),this.L!=2&&(ca(),Dt(17)),Ii(this),this.s=2,da(this)):iw(this,this.S-c)};function da(c){c.j.G==0||c.J||Mw(c.j,c)}function Ii(c){pp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,GE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function gp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||mp(f.h,c))){if(!c.K&&mp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Fu(f),ku(f);else break e;Ip(f),Dt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ua(y(f.Za,f),6e3));if(1>=aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else wi(f,11)}else if((c.K||f.g==c)&&Fu(f),!Q(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let ve=T[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let pt=ve[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=ve[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let Do=ve[5];Do!=null&&typeof Do=="number"&&0<Do&&(g=1.5*Do,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let ln=c.g;if(ln){let Vu=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var A=g.h;A.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(yp(A,A.h),A.h=null))}if(g.D){let wp=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(g.ya=wp,Me(g.I,g.D,wp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=xw(g,g.J?g.ia:null,g.W),L.K){cw(g.h,L);var be=L,at=g.L;at&&(be.I=at),be.B&&(pp(be),Au(be)),g.g=L}else Aw(g);0<f.i.length&&Ou(f)}else ve[0]!="stop"&&ve[0]!="close"||wi(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?wi(f,7):_p(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}ca(4)}catch{}}var tP=class{constructor(c,d){this.g=c,this.map=d}};function ow(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aw(c){return c.h?1:c.g?c.g.size:0}function mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yp(c,d){c.g?c.g.add(d):c.h=d}function cw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function nP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function rP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function lw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rP(c),g=nP(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,Ru(this,c.j),this.o=c.o,this.g=c.g,Mu(this,c.s),this.l=c.l;var d=c.i,f=new pa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hw(this,f),this.m=c.m}else c&&(d=String(c).match(dw))?(this.h=!1,Ru(this,d[1]||"",!0),this.o=ha(d[2]||""),this.g=ha(d[3]||"",!0),Mu(this,d[4]),this.l=ha(d[5]||"",!0),hw(this,d[6]||"",!0),this.m=ha(d[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}Ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(fa(d,fw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(fa(d,fw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(fa(f,f.charAt(0)=="/"?aP:sP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",fa(f,uP)),c.join("")};function Yn(c){return new Ei(c)}function Ru(c,d,f){c.j=f?ha(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Mu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hw(c,d,f){d instanceof pa?(c.i=d,lP(c.i,c.h)):(f||(d=fa(d,cP)),c.i=new pa(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function Nu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ha(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,oP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fw=/[#\/\?@]/g,sP=/[#\?:]/g,aP=/[#\?]/g,cP=/[#\?@]/g,uP=/#/g;function pa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&iP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=pa.prototype,n.add=function(c,d){Mr(this),this.i=null,c=Eo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pw(c,d){Mr(c),d=Eo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gw(c,d){return Mr(c),d=Eo(c,d),c.g.has(d)}n.forEach=function(c,d){Mr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){Mr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},n.V=function(c){Mr(this);let d=[];if(typeof c=="string")gw(this,c)&&(d=d.concat(this.g.get(Eo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Mr(this),this.i=null,c=Eo(this,c),gw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mw(c,d,f){pw(c,d),0<f.length&&(c.i=null,c.g.set(Eo(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var T=A;L[g]!==""&&(T+="="+encodeURIComponent(String(L[g]))),c.push(T)}}return this.i=c.join("&")};function Eo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lP(c,d){d&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(pw(this,g),mw(this,T,f))},c)),c.j=d}function dP(c,d){let f=new la;if(a.Image){let g=new Image;g.onload=m(Nr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Nr,f,"TestLoadImage: error",!1,d,g),g.onabort=m(Nr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Nr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function hP(c,d){let f=new la,g=new AbortController,T=setTimeout(()=>{g.abort(),Nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?Nr(f,"TestPingServer: ok",!0,d):Nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Nr(f,"TestPingServer: error",!1,d)})}function Nr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function fP(){this.g=new QN}function pP(c,d,f){let g=f||"";try{lw(c,function(T,A){let L=T;l(T)&&(L=ap(T)),d.push(g+A+"="+encodeURIComponent(L))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ga(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ga,cp),ga.prototype.g=function(){return new Pu(this.l,this.j)},ga.prototype.i=function(c){return function(){return c}}({});function Pu(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Pu,ft),n=Pu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ya(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ma(this):ya(this),this.readyState==3&&yw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ma(this))},n.Qa=function(c){this.g&&(this.response=c,ma(this))},n.ga=function(){this.g&&ma(this)};function ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vw(c){let d="";return De(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function vp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function ke(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ke,ft);var gP=/^https?$/i,mP=["POST","PUT"];n=ke.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dp.g(),this.v=this.o?WE(this.o):WE(dp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){_w(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mP,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ww(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){_w(this,A)}};function _w(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Iw(c),xu(c)}function Iw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),xu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ew(this):this.bb())},n.bb=function(){Ew(this)};function Ew(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)HE(c.Ea,0,c);else if(wt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var T=String(c.D).match(dw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!gP.test(T?T.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<Zn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Iw(c)}}finally{xu(c)}}}}function xu(c,d){if(c.g){ww(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ww(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KN(d)}};function Dw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yP(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Q(c[g]))continue;var f=b(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}C(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Cw(c){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ow(c&&c.concurrentRequestLimit),this.Da=new fP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=xw(this,null,this.W),Ou(this)};function _p(c){if(bw(c),c.G==3){var d=c.U++,f=Yn(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),_a(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=Nu(Yn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=kw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Au(d)}Pw(c)}function ku(c){c.g&&(Ep(c),c.g.cancel(),c.g=null)}function bw(c){ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ou(c){if(!sw(c.h)&&!c.s){c.s=!0;var d=c.Ga;na||LE(),ra||(na(),ra=!0),Jf.add(d,c),c.B=0}}function vP(c,d){return aw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ua(y(c.Ga,c,d),Nw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sw(this,T,d),f=Yn(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),_a(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(vw(A)))+"&"+d:this.m&&vp(f,this.m,A)),yp(this.h,T),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),T.T=!0,fp(T,f,null)):fp(T,f,d),this.G=2}}else this.G==3&&(c?Tw(this,c):this.i.length==0||sw(this.h)||Tw(this))};function Tw(c,d){var f;d?f=d.l:f=c.U++;let g=Yn(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),_a(c,g),c.m&&c.o&&vp(g,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Sw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yp(c.h,f),fp(f,g,d)}function _a(c,d){c.H&&De(c.H,function(f,g){Me(d,g,f)}),c.l&&lw({},function(f,g){Me(d,g,f)})}function Sw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let be=!0;for(let at=0;at<f;at++){let ve=T[at].g,pt=T[at].map;if(ve-=A,0>ve)A=Math.max(0,T[at].g-100),be=!1;else try{pP(pt,L,"req"+ve+"_")}catch{g&&g(pt)}}if(be){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Aw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;na||LE(),ra||(na(),ra=!0),Jf.add(d,c),c.v=0}}function Ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ua(y(c.Fa,c),Nw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Rw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ua(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),ku(this),Rw(this))};function Ep(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Rw(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Yn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),_a(c,d),c.m&&c.o&&vp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Nu(Yn(d)),f.m=null,f.P=!0,nw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ku(this),Ip(this),Dt(19))};function Fu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Mw(c,d){var f=null;if(c.g==d){Fu(c),Ep(c),c.g=null;var g=2}else if(mp(c.h,d))f=d.D,cw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=bu(),wt(g,new JE(g,f)),Ou(c)}else Aw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&vP(c,d)||g==2&&Ip(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Nw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function wi(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let T=!g;g=new Ei(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ru(g,"https"),Nu(g),T?dP(g.toString(),f):hP(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),Pw(c),bw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Pw(c){if(c.G=0,c.ka=[],c.l){let d=uw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function xw(c,d,f){var g=f instanceof Ei?Yn(f):new Ei(f);if(g.g!="")d&&(g.g=d+"."+g.g),Mu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new Ei(null);g&&Ru(A,g),d&&(A.g=d),T&&Mu(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),_a(c,g),g}function kw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new ga({eb:f})):new ke(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}n=Ow.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lu(){}Lu.prototype.g=function(c,d){return new jt(c,d)};function jt(c,d){ft.call(this),this.g=new Cw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new wo(this)}D(jt,ft),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){_p(this.g)},jt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ap(c),c=f);d.i.push(new tP(d.Ya++,c)),d.G==3&&Ou(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,_p(this.g),delete this.g,jt.aa.N.call(this)};function Fw(c){up.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(Fw,up);function Lw(){lp.call(this),this.status=1}D(Lw,lp);function wo(c){this.g=c}D(wo,Ow),wo.prototype.ua=function(){wt(this.g,"a")},wo.prototype.ta=function(c){wt(this.g,new Fw(c))},wo.prototype.sa=function(c){wt(this.g,new Lw)},wo.prototype.ra=function(){wt(this.g,"b")},Lu.prototype.createWebChannel=Lu.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,d_=_r.createWebChannelTransport=function(){return new Lu},l_=_r.getStatEventTarget=function(){return bu()},u_=_r.Event=_i,Th=_r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,Hc=_r.ErrorCode=Tu,XE.COMPLETE="complete",c_=_r.EventType=XE,KE.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",ft.prototype.listen=ft.prototype.K,bs=_r.WebChannel=KE,Z$=_r.FetchXmlHttpFactory=ga,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,a_=_r.XhrIo=ke}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});var TA="@firebase/firestore",SA="4.7.11";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ws="11.6.1";var lo=new Ln("@firebase/firestore");function Ts(){return lo.logLevel}function U(n,...e){if(lo.logLevel<=he.DEBUG){let t=e.map(XI);lo.debug(`Firestore (${Ws}): ${n}`,...t)}}function Ir(n,...e){if(lo.logLevel<=he.ERROR){let t=e.map(XI);lo.error(`Firestore (${Ws}): ${n}`,...t)}}function xs(n,...e){if(lo.logLevel<=he.WARN){let t=e.map(XI);lo.warn(`Firestore (${Ws}): ${n}`,...t)}}function XI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_R(n,r,t)}function _R(n,e,t){let r=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ir(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_R(e,i,r)}function Z(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var xh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},m_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ot.UNAUTHENTICATED))}shutdown(){}},y_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},v_=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new En;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new En,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new En)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new xh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},__=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},I_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new __(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},kh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},E_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function J$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function IR(){return new TextEncoder}var Oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=J$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function w_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=IR(),s=X$(o.encode(AA(n,t)),o.encode(AA(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function AA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function ks(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var RA=-62135596800,MA=1e6,dt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*MA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RA)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MA}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-RA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new dt(0,0))}static max(){return new n(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var NA="__name__",Fh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):w_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}},xe=class n extends Fh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends Fh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NA}static keyField(){return new n([NA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var W=class n{constructor(e){this.path=e}static fromPath(e){return new n(xe.fromString(e))}static fromName(e){return new n(xe.fromString(e).popFirst(5))}static empty(){return new n(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new xe(e.slice()))}};var Qc=-1,D_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};D_.UNKNOWN_ID=-1;function tH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new ho(i,W.empty(),e)}function nH(n){return new ho(n.readTime,n.key,Qc)}var ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(X.min(),W.empty(),Qc)}static max(){return new n(X.max(),W.empty(),Qc)}};function rH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=W.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",C_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ks(n){return v(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==iH)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function oH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qs(n){return n.name==="IndexedDbTransactionError"}var eE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),tE=-1;function mf(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function sH(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var ER="";function aH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=PA(e)),e=cH(n.get(t),e);return PA(e)}function cH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case ER:t+="";break;default:t+=o}}return t}function PA(n){return n+ER+""}var uH="remoteDocuments",wR="owner";var DR="mutationQueues";var CR="mutations";var bR="documentMutations",lH="remoteDocumentsV14";var TR="remoteDocumentGlobal";var SR="targets";var AR="targetDocuments";var RR="targetGlobal",MR="collectionParents";var NR="clientMetadata";var PR="bundles";var xR="namedQueries";var dH="indexConfiguration";var hH="indexState";var fH="indexEntries";var kR="documentOverlays";var pH="globals";var gH=[DR,CR,bR,uH,SR,wR,RR,AR,NR,TR,MR,PR,xR],MZ=[...gH,kR],mH=[DR,CR,bR,lH,SR,wR,RR,AR,NR,TR,MR,PR,xR,kR],yH=mH,vH=[...yH,dH,hH,fH];var NZ=[...vH,pH];function xA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Le=class n{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ms(this.root,e,this.comparator,!0)}},Ms=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class n{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lh(this.data.getIterator())}getIteratorFrom(e){return new Lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var un=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new st(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Vh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var _H=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=_H.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wr(n){return typeof n=="string"?_t.fromBase64String(n):_t.fromUint8Array(n)}var FR="server_timestamp",LR="__type__",VR="__previous_value__",jR="__local_write_time__";function nE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LR])===null||t===void 0?void 0:t.stringValue)===FR}function yf(n){let e=n.mapValue.fields[VR];return nE(e)?yf(e):e}function Zc(n){let e=Er(n.mapValue.fields[jR].timestampValue);return new dt(e.seconds,e.nanos)}var b_=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},jh="(default)",Uh=class n{constructor(e,t){this.projectId=e,this.database=t||jh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rE="__type__",UR="__max__",Sh={mapValue:{fields:{__type__:{stringValue:UR}}}},iE="__vector__",Os="value";function li(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nE(n)?4:$R(n)?9007199254740991:BR(n)?10:11:K(28295,{value:n})}function qn(n,e){if(n===e)return!0;let t=li(n);if(t!==li(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zc(n).isEqual(Zc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Er(i.timestampValue),a=Er(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return wr(i.bytesValue).isEqual(wr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?Yc(s)===Yc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ks(n.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xA(s)!==xA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!qn(s[u],a[u])))return!1;return!0}(n,e);default:return K(52216,{left:n})}}function Jc(n,e){return(n.values||[]).find(t=>qn(t,e))!==void 0}function Fs(n,e){if(n===e)return 0;let t=li(n),r=li(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return kA(n.timestampValue,e.timestampValue);case 4:return kA(Zc(n),Zc(e));case 5:return w_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=wr(o),u=wr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(Ne(o.latitude),Ne(s.latitude));return a!==0?a:ae(Ne(o.longitude),Ne(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return OA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[Os])===null||a===void 0?void 0:a.arrayValue,D=(u=y[Os])===null||u===void 0?void 0:u.arrayValue,M=ae(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:OA(m,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sh.mapValue&&s===Sh.mapValue)return 0;if(o===Sh.mapValue)return 1;if(s===Sh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=w_(u[p],h[p]);if(y!==0)return y;let m=Fs(a[u[p]],l[h[p]]);if(m!==0)return m}return ae(u.length,h.length)}(n.mapValue,e.mapValue);default:throw K(23264,{Pe:t})}}function kA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=Er(n),r=Er(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function OA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Fs(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function Ls(n){return T_(n)}function T_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Er(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return W.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=T_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${T_(t.fields[s])}`;return i+"}"}(n.mapValue):K(61005,{value:n})}function Mh(n){switch(li(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yf(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return wr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Mh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fi(r.fields,(o,s)=>{i+=o.length+Mh(s)}),i}(n.mapValue);default:throw K(13486,{value:n})}}function FA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function S_(n){return!!n&&"integerValue"in n}function oE(n){return!!n&&"arrayValue"in n}function LA(n){return!!n&&"nullValue"in n}function VA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nh(n){return!!n&&"mapValue"in n}function BR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rE])===null||t===void 0?void 0:t.stringValue)===iE}function qc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $R(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}var xZ={mapValue:{fields:{[rE]:{stringValue:iE},[Os]:{arrayValue:{}}}}};var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(qc(this.value))}};function HR(n){let e=[];return fi(n.fields,(t,r)=>{let i=new Qt([t]);if(Nh(r)){let o=HR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new un(e)}var wn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,X.min(),X.min(),X.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,X.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,X.min(),X.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,X.min(),X.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,t){this.position=e,this.inclusive=t}};function jA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),t.key):r=Fs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qn(n.position[t],e.position[t]))return!1;return!0}var js=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function IH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bh=class{},Ge=class n extends Bh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new R_(e,t,r):t==="array-contains"?new P_(e,r):t==="in"?new x_(e,r):t==="not-in"?new k_(e,r):t==="array-contains-any"?new O_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new M_(e,r):new N_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fs(t,this.value)):t!==null&&li(this.value)===li(t)&&this.matchesComparison(Fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class n extends Bh{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return zR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function zR(n){return n.op==="and"}function qR(n){return EH(n)&&zR(n)}function EH(n){for(let e of n.filters)if(e instanceof Dn)return!1;return!0}function A_(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Ls(n.value);if(qR(n))return n.filters.map(e=>A_(e)).join(",");{let e=n.filters.map(t=>A_(t)).join(",");return`${n.op}(${e})`}}function GR(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(n,e):n instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&GR(s,i.filters[a]),!0):!1}(n,e):void K(19439)}function WR(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${Ls(t.value)}`}(n):n instanceof Dn?function(t){return t.op.toString()+" {"+t.getFilters().map(WR).join(" ,")+"}"}(n):"Filter"}var R_=class extends Ge{constructor(e,t,r){super(e,t,r),this.key=W.fromName(r.referenceValue)}matches(e){let t=W.comparator(e.key,this.key);return this.matchesComparison(t)}},M_=class extends Ge{constructor(e,t){super(e,"in",t),this.keys=KR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},N_=class extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=KR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function KR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>W.fromName(r.referenceValue))}var P_=class extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oE(t)&&Jc(t.arrayValue,this.value)}},x_=class extends Ge{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Jc(this.value.arrayValue,t)}},k_=class extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jc(this.value.arrayValue,t)}},O_=class extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}};var F_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function BA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new F_(n,e,t,r,i,o,s)}function sE(n){let e=Z(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>A_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ls(r)).join(",")),e.Ie=t}return e.Ie}function aE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UA(n.startAt,e.startAt)&&UA(n.endAt,e.endAt)}function L_(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var fo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function wH(n,e,t,r,i,o,s,a){return new fo(n,e,t,r,i,o,s,a)}function vf(n){return new fo(n)}function $A(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QR(n){return n.collectionGroup!==null}function Gc(n){let e=Z(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new js(o,r))}),t.has(Qt.keyField().canonicalString())||e.Ee.push(new js(Qt.keyField(),r))}return e.Ee}function $n(n){let e=Z(n);return e.de||(e.de=DH(e,Gc(n))),e.de}function DH(n,e){if(n.limitType==="F")return BA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new js(i.field,o)});let t=n.endAt?new Vs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vs(n.startAt.position,n.startAt.inclusive):null;return BA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function V_(n,e){let t=n.filters.concat([e]);return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function j_(n,e,t){return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _f(n,e){return aE($n(n),$n(e))&&n.limitType===e.limitType}function YR(n){return`${sE($n(n))}|lt:${n.limitType}`}function Ss(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WR(i)).join(", ")}]`),mf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ls(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ls(i)).join(",")),`Target(${r})`}($n(n))}; limitType=${n.limitType})`}function If(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=jA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Gc(r),i)||r.endAt&&!function(s,a,u){let l=jA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Gc(r),i))}(n,e)}function CH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZR(n){return(e,t)=>{let r=!1;for(let i of Gc(n)){let o=bH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bH(n,e,t){let r=n.field.isKeyField()?W.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Fs(u,l):K(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Dr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return OR(this.inner)}size(){return this.innerSize}};var TH=new Le(W.comparator);function Cr(){return TH}var JR=new Le(W.comparator);function zc(...n){let e=JR;for(let t of n)e=e.insert(t.key,t);return e}function XR(n){let e=JR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return Wc()}function eM(){return Wc()}function Wc(){return new Dr(n=>n.toString(),(n,e)=>n.isEqual(e))}var SH=new Le(W.comparator),AH=new st(W.comparator);function ge(...n){let e=AH;for(let t of n)e=e.add(t);return e}var RH=new st(ae);function MH(){return RH}function cE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function tM(n){return{integerValue:""+n}}function NH(n,e){return sH(e)?tM(e):cE(n,e)}var Us=class{constructor(){this._=void 0}};function PH(n,e,t){return n instanceof Bs?function(i,o){let s={fields:{[LR]:{stringValue:FR},[jR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nE(o)&&(o=yf(o)),o&&(s.fields[VR]=o),{mapValue:s}}(t,e):n instanceof po?rM(n,e):n instanceof go?iM(n,e):function(i,o){let s=nM(i,o),a=HA(s)+HA(i.Re);return S_(s)&&S_(i.Re)?tM(a):cE(i.serializer,a)}(n,e)}function xH(n,e,t){return n instanceof po?rM(n,e):n instanceof go?iM(n,e):t}function nM(n,e){return n instanceof $s?function(r){return S_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Bs=class extends Us{},po=class extends Us{constructor(e){super(),this.elements=e}};function rM(n,e){let t=oM(e);for(let r of n.elements)t.some(i=>qn(i,r))||t.push(r);return{arrayValue:{values:t}}}var go=class extends Us{constructor(e){super(),this.elements=e}};function iM(n,e){let t=oM(e);for(let r of n.elements)t=t.filter(i=>!qn(i,r));return{arrayValue:{values:t}}}var $s=class extends Us{constructor(e,t){super(),this.serializer=e,this.Re=t}};function HA(n){return Ne(n.integerValue||n.doubleValue)}function oM(n){return oE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof go&&i instanceof go?ks(r.elements,i.elements,qn):r instanceof $s&&i instanceof $s?qn(r.Re,i.Re):r instanceof Bs&&i instanceof Bs}(n.transform,e.transform)}var U_=class{constructor(e,t){this.version=e,this.transformResults=t}},Hn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Hs=class{};function sM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xc(n.key,Hn.none()):new mo(n.key,n.data,Hn.none());{let t=n.data,r=Kt.empty(),i=new st(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gn(n.key,r,new un(i.toArray()),Hn.none())}}function OH(n,e,t){n instanceof mo?function(i,o,s){let a=i.value.clone(),u=qA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Gn?function(i,o,s){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=qA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(aM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Kc(n,e,t,r){return n instanceof mo?function(o,s,a,u){if(!Ph(o.precondition,s))return a;let l=o.value.clone(),h=GA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Gn?function(o,s,a,u){if(!Ph(o.precondition,s))return a;let l=GA(o.fieldTransforms,u,s),h=s.data;return h.setAll(aM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Ph(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function FH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=nM(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function zA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(o,s)=>kH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var mo=class extends Hs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends Hs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function aM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function qA(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xH(s,a,t[i]))}return r}function GA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,PH(o,s,e))}return r}var Xc=class extends Hs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},B_=class extends Hs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&OH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=eM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=sM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(t,r)=>zA(t,r))&&ks(this.baseMutations,e.baseMutations,(t,r)=>zA(t,r))}},H_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return SH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var z_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var q_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ze,ye;function LH(n){switch(n){case x.OK:return K(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function cM(n){if(n===void 0)return Ir("GRPC error has no .code"),x.UNKNOWN;switch(n){case ze.OK:return x.OK;case ze.CANCELLED:return x.CANCELLED;case ze.UNKNOWN:return x.UNKNOWN;case ze.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ze.INTERNAL:return x.INTERNAL;case ze.UNAVAILABLE:return x.UNAVAILABLE;case ze.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ze.NOT_FOUND:return x.NOT_FOUND;case ze.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ze.ABORTED:return x.ABORTED;case ze.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ze.DATA_LOSS:return x.DATA_LOSS;default:return K(39323,{code:n})}}(ye=ze||(ze={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var WA=null;var VH=new vr([4294967295,4294967295],0);function KA(n){let e=IR().encode(n),t=new s_;return t.update(e),new Uint8Array(t.digest())}function QA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vr([t,r],0),new vr([i,o],0)]}var G_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new co(`Invalid padding: ${t}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new co(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=vr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(vr.fromNumber(r)));return i.compare(VH)===1&&(i=new vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=KA(e),[r,i]=QA(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=KA(e),[r,i]=QA(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $h=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(X.min(),i,new Le(ae),Cr(),ge())}},eu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Ns=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Hh=class{constructor(e,t){this.targetId=e,this.Ce=t}},zh=class{constructor(e,t,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},qh=class{constructor(){this.Fe=0,this.Me=YA(),this.xe=_t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ge(),t=ge(),r=ge();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new eu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=YA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,we(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},W_=class{constructor(e){this.ze=e,this.je=new Map,this.He=Cr(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new Le(ae)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(L_(o))if(r===0){let s=new W(o.path);this.tt(t,s,wn.newNoDocument(s,X.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}WA?.ht(function(h,p,y,m,D){var M,R,j,Q,ne,Re;let Et={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},De=p.unchangedNames;return De&&(Et.bloomFilter={applied:D===0,hashCount:(M=De?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Q=(j=(R=De?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&Q!==void 0?Q:0,padding:(Re=(ne=De?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&Re!==void 0?Re:0,mightContain:C=>{var _;return(_=m?.mightContain(C))!==null&&_!==void 0&&_}}),Et}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=wr(r).toUint8Array()}catch(u){if(u instanceof Vh)return xs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new G_(s,i,o)}catch(u){return xs(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&L_(a.target)){let u=new W(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,wn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ge();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new $h(e,t,this.Ze,this.He,r);return this.He=Cr(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new Le(ae),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new qh,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new st(ae),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new st(ae),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qh),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Ah(){return new Le(W.comparator)}function YA(){return new Le(W.comparator)}var jH={asc:"ASCENDING",desc:"DESCENDING"},UH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BH={and:"AND",or:"OR"},K_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Q_(n,e){return n.useProto3Json||mf(e)?e:{value:e}}function Gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $H(n,e){return Gh(n,e.toTimestamp())}function zn(n){return we(!!n,49232),X.fromTimestamp(function(t){let r=Er(t);return new dt(r.seconds,r.nanos)}(n))}function uE(n,e){return Y_(n,e).canonicalString()}function Y_(n,e){let t=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lM(n){let e=xe.fromString(n);return we(gM(e),10190,{key:e.toString()}),e}function Z_(n,e){return uE(n.databaseId,e.path)}function h_(n,e){let t=lM(e);if(t.get(1)!==n.databaseId.projectId)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new W(hM(t))}function dM(n,e){return uE(n.databaseId,e)}function HH(n){let e=lM(n);return e.length===4?xe.emptyPath():hM(e)}function J_(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hM(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ZA(n,e,t){return{name:Z_(n,e),fields:t.value.mapValue.fields}}function zH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),_t.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_t.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:cM(l.code);return new B(h,l.message||"")}(s);t=new zh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=h_(n,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):X.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=wn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ns(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=h_(n,r.document),o=r.readTime?zn(r.readTime):X.min(),s=wn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ns([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=h_(n,r.document),o=r.removedTargetIds||[];t=new Ns([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new q_(i,o),a=r.targetId;t=new Hh(a,s)}}return t}function qH(n,e){let t;if(e instanceof mo)t={update:ZA(n,e.key,e.value)};else if(e instanceof Xc)t={delete:Z_(n,e.key)};else if(e instanceof Gn)t={update:ZA(n,e.key,e.data),updateMask:ez(e.fieldMask)};else{if(!(e instanceof B_))return K(16599,{ft:e.type});t={verify:Z_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Bs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $s)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw K(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$H(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)}(n,e.precondition)),t}function GH(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(X.min())&&(s=zn(o)),new U_(s,i.transformResults||[])}(t,e))):[]}function WH(n,e){return{documents:[dM(n,e.path)]}}function KH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dM(n,i);let o=function(l){if(l.length!==0)return pM(Dn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:As(y.field),direction:ZH(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Q_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function QH(n){let e=HH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=fM(p);return y instanceof Dn&&qR(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(D){return new js(Rs(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,mf(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new Vs(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new Vs(m,y)}(t.endAt)),wH(e,i,s,o,a,"F",u,l)}function YH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Rs(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Rs(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Rs(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Rs(t.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Rs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dn.create(t.compositeFilter.filters.map(r=>fM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(t.compositeFilter.op))}(n):K(30097,{filter:n})}function ZH(n){return jH[n]}function JH(n){return UH[n]}function XH(n){return BH[n]}function As(n){return{fieldPath:n.canonicalString()}}function Rs(n){return Qt.fromServerFormat(n.fieldPath)}function pM(n){return n instanceof Ge?function(t){if(t.op==="=="){if(VA(t.value))return{unaryFilter:{field:As(t.field),op:"IS_NAN"}};if(LA(t.value))return{unaryFilter:{field:As(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VA(t.value))return{unaryFilter:{field:As(t.field),op:"IS_NOT_NAN"}};if(LA(t.value))return{unaryFilter:{field:As(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(t.field),op:JH(t.op),value:t.value}}}(n):n instanceof Dn?function(t){let r=t.getFilters().map(i=>pM(i));return r.length===1?r[0]:{compositeFilter:{op:XH(t.op),filters:r}}}(n):K(54877,{filter:n})}function ez(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var tu=class n{constructor(e,t,r,i,o=X.min(),s=X.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var X_=class{constructor(e){this.wt=e}};function tz(n){let e=QH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?j_(e,e.limit,"L"):e}var Wh=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Yc(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Er(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(wr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?$R(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):BR(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):K(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Os,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ne(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),W.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Wh.Wt=new Wh;var eI=class{constructor(){this.yn=new tI}addToCollectionParentIndex(e,t){return this.yn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(ho.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},tI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st(xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(xe.comparator)).toArray()}};var kZ=new Uint8Array(0);var JA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mM=41943040,cn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(mM,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);var nu=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var XA="LruGarbageCollector",nz=1048576;function eR([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var nI=class{constructor(e){this.cr=e,this.buffer=new st(eR),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();eR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},rI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){U(XA,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qs(t)?U(XA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ks(t)}yield this.Ir(3e5)}))}},iI=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(eE.le);let r=new nI(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(JA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JA):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ts()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function rz(n,e){return new iI(n,e)}var oI=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var aI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Kc(r.mutation,i,un.empty(),dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=zc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Cr(),s=Wc(),a=function(){return Wc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Gn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Kc(h.mutation,l,h.mutation.getFieldMask(),dt.now())):s.set(l.key,un.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new sI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Wc(),i=new Le((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||un.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=eM();h.forEach(y=>{if(!o.has(y)){let m=sM(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(ao()),a=Qc,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:XR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new W(t)).next(r=>{let i=zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=zc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,y){return new fo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,wn.newInvalidDocument(h)))});let a=zc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Kc(h.mutation,l,un.empty(),dt.now()),If(t,l)&&(a=a.insert(u,l))}),a})}};var cI=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return O.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:tz(i.bundledQuery),readTime:zn(i.readTime)}}(t)),O.resolve()}};var uI=class{constructor(){this.overlays=new Le(W.comparator),this.Or=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ao();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=ao(),o=t.length+1,s=new W(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Le((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new z_(t,r));let o=this.Or.get(t);o===void 0&&(o=ge(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}};var lI=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var ru=class{constructor(){this.Nr=new st(qe.Br),this.Lr=new st(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new qe(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new qe(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new W(new xe([])),r=new qe(t,e),i=new qe(t,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new W(new xe([])),r=new qe(t,e),i=new qe(t,e+1),o=ge();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new qe(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},qe=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return W.comparator(e.key,t.key)||ae(e.Gr,t.Gr)}static kr(e,t){return ae(e.Gr,t.Gr)||W.comparator(e.key,t.key)}};var dI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new st(qe.Br)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?tE:this.Jn-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new qe(t,0),i=new qe(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(ae);return t.forEach(i=>{let o=new qe(i,0),s=new qe(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),O.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new qe(new W(o),0),a=new st(ae);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),O.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return O.forEach(t.mutations,i=>{let o=new qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new qe(t,0),i=this.zr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hI=class{constructor(e){this.Zr=e,this.docs=function(){return new Le(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Cr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Cr(),s=t.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||rH(nH(h),r)<=0||(i.has(h.key)||If(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}Xr(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fI(this)}getSize(e){return O.resolve(this.size)}},fI=class extends oI{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var pI=class{constructor(e){this.persistence=e,this.ei=new Dr(t=>sE(t),aE),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.ti=0,this.ni=new ru,this.targetCount=0,this.ri=nu.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),O.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new nu(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.ar(t),O.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.ni.containsKey(t))}};var Kh=class{constructor(e,t){this.ii={},this.overlays={},this.si=new eE(0),this.oi=!1,this.oi=!0,this._i=new lI,this.referenceDelegate=e(this),this.ai=new pI(this),this.indexManager=new eI,this.remoteDocumentCache=function(i){return new hI(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new X_(t),this.ci=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new dI(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new gI(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return O.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},gI=class extends C_{constructor(e){super(),this.currentSequenceNumber=e}},mI=class n{constructor(e){this.persistence=e,this.Ti=new ru,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw K(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),O.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.di,r=>{let i=W.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,X.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return O.or([()=>O.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},Qh=class n{constructor(e,t){this.persistence=e,this.Ri=new Dr(r=>aH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rz(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return O.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),O.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}gr(e,t,r){return O.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var yI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var vI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _I=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Q0()?8:oH(it())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vI;return this.fs(e,t,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,t,s,a.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Ts()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ss(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),O.resolve()):(Ts()<=he.DEBUG&&U("QueryEngine","Query:",Ss(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ts()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ss(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(t))):O.resolve())}Rs(e,t){if($A(t))return O.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=j_(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(t,a);return this.ys(t,l,s,u.readTime)?this.Rs(e,j_(t,null,"F")):this.ws(e,l,t,u)}))})))}Vs(e,t,r,i){return $A(t)||i.isEqual(X.min())?O.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(t,o);return this.ys(t,s,r,i)?O.resolve(null):(Ts()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(t)),this.ws(e,s,t,tH(i,Qc)).next(a=>a))})}ps(e,t){let r=new st(ZR(e));return t.forEach((i,o)=>{If(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Ts()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ss(t)),this.As.getDocumentsMatchingQuery(e,t,ho.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var lE="LocalStore",iz=3e8,II=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Le(ae),this.Ds=new Dr(o=>sE(o),aE),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function oz(n,e,t,r){return new II(n,e,t,r)}function yM(n,e){return v(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function sz(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=O.resolve();return y.forEach(D=>{m=m.next(()=>h.getEntry(u,D)).next(M=>{let R=l.docVersions.get(D);we(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vM(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function az(n,e){let t=Z(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(_t.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(M,R,j){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=iz?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(y,m,h)&&a.push(t.ai.updateTargetData(o,m))});let u=Cr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(cz(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(X.min())){let h=t.ai.getLastRemoteSnapshotVersion(o).next(p=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ss=i,o))}function cz(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Cr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(lE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function uz(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lz(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.ai.allocateTargetId(r).next(s=>(i=new tu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function EI(n,e,t){return v(this,null,function*(){let r=Z(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qs(s))throw s;U(lE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function tR(n,e,t){let r=Z(n),i=X.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),y=p.Ds.get(h);return y!==void 0?O.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,t?i:X.min(),t?o:ge())).next(a=>(dz(r,CH(e),a),{documents:a,Ns:o})))}function dz(n,e,t){let r=n.vs.get(e)||X.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}var Yh=class{constructor(){this.activeTargetIds=MH()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wI=class{constructor(){this.So=new Yh,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Yh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var DI=class{vo(e){}shutdown(){}};var nR="ConnectivityMonitor",Zh=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){U(nR,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){U(nR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rh=null;function CI(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}var f_="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bI=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){let s=CI(),a=this.$o(e,t.toUriEncodedString());U(f_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,o),this.Ko(e,a,u,r).then(l=>(U(f_,`Received RPC '${e}' ${s}: `,l),l),l=>{throw xs(f_,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,t,r,i,o,s){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){let r=hz[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var TI=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var yt="WebChannelConnection",SI=class extends bI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){let o=CI();return new Promise((s,a)=>{let u=new a_;u.setWithCredentials(!0),u.listenOnce(c_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Hc.NO_ERROR:let h=u.getResponseJson();U(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Hc.TIMEOUT:U(yt,`RPC '${e}' ${o} timed out`),a(new B(x.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:let p=u.getStatus();if(U(yt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let D=function(R){let j=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(j)>=0?j:x.UNKNOWN}(m.status);a(new B(D,m.message))}else a(new B(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(x.UNAVAILABLE,"Connection failed."));break;default:K(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{U(yt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(yt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}a_(e,t,r){let i=CI(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=d_(),a=l_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,D=new TI({Go:R=>{m?U(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(U(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},zo:()=>p.close()}),M=(R,j,Q)=>{R.listen(j,ne=>{try{Q(ne)}catch(Re){setTimeout(()=>{throw Re},0)}})};return M(p,bs.EventType.OPEN,()=>{m||(U(yt,`RPC '${e}' stream ${i} transport opened.`),D.t_())}),M(p,bs.EventType.CLOSE,()=>{m||(m=!0,U(yt,`RPC '${e}' stream ${i} transport closed`),D.r_())}),M(p,bs.EventType.ERROR,R=>{m||(m=!0,xs(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.r_(new B(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,bs.EventType.MESSAGE,R=>{var j;if(!m){let Q=R.data[0];we(!!Q,16349);let ne=Q,Re=ne?.error||((j=ne[0])===null||j===void 0?void 0:j.error);if(Re){U(yt,`RPC '${e}' stream ${i} received error:`,Re);let Et=Re.status,De=function(E){let w=ze[E];if(w!==void 0)return cM(w)}(Et),C=Re.message;De===void 0&&(De=x.INTERNAL,C="Unknown error status: "+Et+" with message "+Re.message),m=!0,D.r_(new B(De,C)),p.close()}else U(yt,`RPC '${e}' stream ${i} received:`,Q),D.i_(Q)}}),M(a,u_.STAT_EVENT,R=>{R.stat===Th.PROXY?U(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Th.NOPROXY&&U(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}};function p_(){return typeof document<"u"?document:null}function Ef(n){return new K_(n,!0)}var Jh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var rR="PersistentStream",Xh=class{constructor(e,t,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Jh(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return v(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return v(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return v(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new B(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>v(this,null,function*(){this.state=0,this.start()}))}L_(e){return U(rR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(U(rR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},AI=class extends Xh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=zH(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?zn(s.readTime):X.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=J_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=L_(u)?{documents:WH(o,u)}:{query:KH(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uM(o,s.resumeToken);let l=Q_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Gh(o,s.snapshotVersion.toTimestamp());let l=Q_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=YH(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=J_(this.serializer),t.removeTarget=e,this.F_(t)}},RI=class extends Xh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=GH(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=J_(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>qH(this.serializer,r))};this.F_(t)}};var MI=class{},NI=class extends MI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Y_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(x.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Y_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(x.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},PI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ir(t),this.ea=!1):U("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var yo="RemoteStore",xI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){_o(this)&&(U(yo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Z(u);l.aa.add(4),yield hu(l),l.la.set("Unknown"),l.aa.delete(4),yield wf(l)})}(this))}))}),this.la=new PI(r,i)}};function wf(n){return v(this,null,function*(){if(_o(n))for(let e of n.ua)yield e(!0)})}function hu(n){return v(this,null,function*(){for(let e of n.ua)yield e(!1)})}function _M(n,e){let t=Z(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),pE(t)?fE(t):Ys(t).b_()&&hE(t,e))}function dE(n,e){let t=Z(n),r=Ys(t);t._a.delete(e),r.b_()&&IM(t,e),t._a.size===0&&(r.b_()?r.v_():_o(t)&&t.la.set("Unknown"))}function hE(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ys(n).U_(e)}function IM(n,e){n.ha.Ke(e),Ys(n).K_(e)}function fE(n){n.ha=new W_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ys(n).start(),n.la.ta()}function pE(n){return _o(n)&&!Ys(n).w_()&&n._a.size>0}function _o(n){return Z(n).aa.size===0}function EM(n){n.ha=void 0}function fz(n){return v(this,null,function*(){n.la.set("Online")})}function pz(n){return v(this,null,function*(){n._a.forEach((e,t)=>{hE(n,e)})})}function gz(n,e){return v(this,null,function*(){EM(n),pE(n)?(n.la.ia(e),fE(n)):n.la.set("Unknown")})}function mz(n,e,t){return v(this,null,function*(){if(n.la.set("Online"),e instanceof zh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){U(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ef(n,r)}else if(e instanceof Ns?n.ha.Xe(e):e instanceof Hh?n.ha.ot(e):n.ha.nt(e),!t.isEqual(X.min()))try{let r=yield vM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),IM(o,u);let p=new tu(h.target,u,l,h.sequenceNumber);hE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U(yo,"Failed to raise snapshot:",r),yield ef(n,r)}})}function ef(n,e,t){return v(this,null,function*(){if(!Qs(e))throw e;n.aa.add(1),yield hu(n),n.la.set("Offline"),t||(t=()=>vM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){U(yo,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield wf(n)}))})}function wM(n,e){return e().catch(t=>ef(n,t,e))}function Df(n){return v(this,null,function*(){let e=Z(n),t=di(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:tE;for(;yz(e);)try{let i=yield uz(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,vz(e,i)}catch(i){yield ef(e,i)}DM(e)&&CM(e)})}function yz(n){return _o(n)&&n.oa.length<10}function vz(n,e){n.oa.push(e);let t=di(n);t.b_()&&t.W_&&t.G_(e.mutations)}function DM(n){return _o(n)&&!di(n).w_()&&n.oa.length>0}function CM(n){di(n).start()}function _z(n){return v(this,null,function*(){di(n).H_()})}function Iz(n){return v(this,null,function*(){let e=di(n);for(let t of n.oa)e.G_(t.mutations)})}function Ez(n,e,t){return v(this,null,function*(){let r=n.oa.shift(),i=H_.from(r,e,t);yield wM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Df(n)})}function wz(n,e){return v(this,null,function*(){e&&di(n).W_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return LH(s)&&s!==x.ABORTED}(i.code)){let o=r.oa.shift();di(r).D_(),yield wM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Df(r)}})}(n,e)),DM(n)&&CM(n)})}function iR(n,e){return v(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),U(yo,"RemoteStore received new credentials");let r=_o(t);t.aa.add(3),yield hu(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield wf(t)})}function Dz(n,e){return v(this,null,function*(){let t=Z(n);e?(t.aa.delete(2),yield wf(t)):e||(t.aa.add(2),yield hu(t),t.la.set("Unknown"))})}function Ys(n){return n.Pa||(n.Pa=function(t,r,i){let o=Z(t);return o.Y_(),new AI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:fz.bind(null,n),Jo:pz.bind(null,n),Zo:gz.bind(null,n),Q_:mz.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Pa.D_(),pE(n)?fE(n):n.la.set("Unknown")):(yield n.Pa.stop(),EM(n))}))),n.Pa}function di(n){return n.Ta||(n.Ta=function(t,r,i){let o=Z(t);return o.Y_(),new RI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:_z.bind(null,n),Zo:wz.bind(null,n),z_:Iz.bind(null,n),j_:Ez.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Ta.D_(),yield Df(n)):(yield n.Ta.stop(),n.oa.length>0&&(U(yo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var kI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gE(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Qs(n))return new B(x.UNAVAILABLE,`${e}: ${n}`);throw n}var tf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||W.comparator(t.key,r.key):(t,r)=>W.comparator(t.key,r.key),this.keyedMap=zc(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var nf=class{constructor(){this.Ia=new Le(W.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},zs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,tf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var OI=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},FI=class{constructor(){this.queries=oR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=Z(t),o=i.queries;i.queries=oR(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new B(x.ABORTED,"Firestore shutting down"))}};function oR(){return new Dr(n=>YR(n),_f)}function mE(n,e){return v(this,null,function*(){let t=Z(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new OI,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield t.onListen(i,!0);break;case 1:o.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=gE(s,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&vE(t)})}function yE(n,e){return v(this,null,function*(){let t=Z(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Cz(n,e){let t=Z(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&vE(t)}function bz(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(t);r.queries.delete(e)}function vE(n){n.fa.forEach(e=>{e.next()})}var LI,sR;(sR=LI||(LI={})).ya="default",sR.Cache="cache";var iu=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==LI.Cache}};var rf=class{constructor(e){this.key=e}},of=class{constructor(e){this.key=e}},VI=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ge(),this.mutatedKeys=ge(),this.Ua=ZR(e),this.Ka=new tf(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new nf,i=t?t.Ka:this.Ka,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=If(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;y&&m?y.data.isEqual(m.data)?D!==M&&(r.track({type:3,doc:m}),R=!0):this.ja(y,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),R=!0):y&&!m&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,D){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:R})}};return M(m)-M(D)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new zs(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new nf,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=ge(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new of(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new rf(r))}),t}Xa(e){this.qa=e.Ns,this.$a=ge();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return zs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},_E="SyncEngine",jI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},UI=class{constructor(e){this.key=e,this.tu=!1}},BI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Dr(a=>YR(a),_f),this.iu=new Map,this.su=new Set,this.ou=new Le(W.comparator),this._u=new Map,this.au=new ru,this.uu={},this.cu=new Map,this.lu=nu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function Tz(n,e,t=!0){return v(this,null,function*(){let r=MM(n),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield bM(r,e,t,!0),i})}function Sz(n,e){return v(this,null,function*(){let t=MM(n);yield bM(t,e,!0,!1)})}function bM(n,e,t,r){return v(this,null,function*(){let i=yield lz(n.localStore,$n(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Az(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&_M(n.remoteStore,i),a})}function Az(n,e,t,r,i){return v(this,null,function*(){n.Pu=(p,y,m)=>function(M,R,j,Q){return v(this,null,function*(){let ne=R.view.Ga(j);ne.ys&&(ne=yield tR(M.localStore,R.query,!1).then(({documents:C})=>R.view.Ga(C,ne)));let Re=Q&&Q.targetChanges.get(R.targetId),Et=Q&&Q.targetMismatches.get(R.targetId)!=null,De=R.view.applyChanges(ne,M.isPrimaryClient,Re,Et);return cR(M,R.targetId,De.Ya),De.snapshot})}(n,p,y,m);let o=yield tR(n.localStore,e,!0),s=new VI(e,o.Ns),a=s.Ga(o.documents),u=eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);cR(n,t,l.Ya);let h=new jI(e,t,s);return n.ru.set(e,h),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function Rz(n,e,t){return v(this,null,function*(){let r=Z(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!_f(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield EI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dE(r.remoteStore,i.targetId),$I(r,i.targetId)}).catch(Ks))):($I(r,i.targetId),yield EI(r.localStore,i.targetId,!0))})}function Mz(n,e){return v(this,null,function*(){let t=Z(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dE(t.remoteStore,r.targetId))})}function Nz(n,e,t){return v(this,null,function*(){let r=Vz(n);try{let i=yield function(s,a){let u=Z(s),l=dt.now(),h=a.reduce((m,D)=>m.add(D.key),ge()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=Cr(),M=ge();return u.Cs.getEntries(m,h).next(R=>{D=R,D.forEach((j,Q)=>{Q.isValidDocument()||(M=M.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,D)).next(R=>{p=R;let j=[];for(let Q of a){let ne=FH(Q,p.get(Q.key).overlayedDocument);ne!=null&&j.push(new Gn(Q.key,ne,HR(ne.value.mapValue),Hn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,j,a)}).next(R=>{y=R;let j=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(m,R.batchId,j)})}).then(()=>({batchId:y.batchId,changes:XR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new Le(ae)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield fu(r,i.changes),yield Df(r.remoteStore)}catch(i){let o=gE(i,"Failed to persist write");t.reject(o)}})}function TM(n,e){return v(this,null,function*(){let t=Z(n);try{let r=yield az(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t._u.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?we(s.tu,14607):i.removedDocuments.size>0&&(we(s.tu,42227),s.tu=!1))}),yield fu(t,r,e)}catch(r){yield Ks(r)}})}function aR(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(a)&&(l=!0)}),l&&vE(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pz(n,e,t){return v(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Le(W.comparator);s=s.insert(o,wn.newNoDocument(o,X.min()));let a=ge().add(o),u=new $h(X.min(),new Map,new Le(ae),s,a);yield TM(r,u),r.ou=r.ou.remove(o),r._u.delete(e),IE(r)}else yield EI(r.localStore,e,!1).then(()=>$I(r,e,t)).catch(Ks)})}function xz(n,e){return v(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield sz(t.localStore,e);AM(t,r,null),SM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fu(t,i)}catch(i){yield Ks(i)}})}function kz(n,e,t){return v(this,null,function*(){let r=Z(n);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);AM(r,e,t),SM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fu(r,i)}catch(i){yield Ks(i)}})}function SM(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function AM(n,e,t){let r=Z(n),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function $I(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||RM(n,r)})}function RM(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(dE(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),IE(n))}function cR(n,e,t){for(let r of t)r instanceof rf?(n.au.addReference(r.key,e),Oz(n,r)):r instanceof of?(U(_E,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||RM(n,r.key)):K(19791,{Iu:r})}function Oz(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(U(_E,"New document in limbo: "+t),n.su.add(r),IE(n))}function IE(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new W(xe.fromString(e)),r=n.lu.next();n._u.set(r,new UI(t)),n.ou=n.ou.insert(t,r),_M(n.remoteStore,new tu($n(vf(t.path)),r,"TargetPurposeLimboResolution",eE.le))}}function fu(n,e,t){return v(this,null,function*(){let r=Z(n),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=yI.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return v(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,y=>O.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>O.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Qs(p))throw p;U(lE,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),D=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(D);h.Ss=h.Ss.insert(y,M)}}})}(r.localStore,o))})}function Fz(n,e){return v(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){U(_E,"User change. New user:",e.toKey());let r=yield yM(t.localStore,e);t.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new B(x.CANCELLED,s))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fu(t,r.Ms)}})}function Lz(n,e){let t=Z(n),r=t._u.get(e);if(r&&r.tu)return ge().add(r.key);{let i=ge(),o=t.iu.get(e);if(!o)return i;for(let s of o){let a=t.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function MM(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pz.bind(null,e),e.nu.Q_=Cz.bind(null,e.eventManager),e.nu.Tu=bz.bind(null,e.eventManager),e}function Vz(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kz.bind(null,e),e}var NM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return oz(this.persistence,new _I,t.initialUser,this.serializer)}Ru(t){return new Kh(mI.Ei,this.serializer)}Au(t){return new wI}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),HI=class extends NM{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){we(this.persistence.referenceDelegate instanceof Qh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Kh(r=>Qh.Ei(r,t),this.serializer)}};var jz=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fz.bind(null,this.syncEngine),yield Dz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new FI}()}createDatastore(t){let r=Ef(t.databaseInfo.databaseId),i=function(s){return new SI(s)}(t.databaseInfo);return function(s,a,u,l){return new NI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new xI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>aR(this.syncEngine,r,0),function(){return Zh.C()?new Zh:new DI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new BI(o,s,a,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=Z(o);U(yo,"RemoteStore shutting down."),s.aa.add(5),yield hu(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ou=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var hi="FirestoreClient",zI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){U(hi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function g_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(hi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield yM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function uR(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Uz(n);U(hi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>iR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>iR(e.remoteStore,i)),n._onlineComponents=e})}function Uz(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(hi,"Using user provided OfflineComponentProvider");try{yield g_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield g_(n,new NM)}}else U(hi,"Using default OfflineComponentProvider"),yield g_(n,new HI(void 0));return n._offlineComponents})}function PM(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(hi,"Using user provided OnlineComponentProvider"),yield uR(n,n._uninitializedComponentsProvider._online)):(U(hi,"Using default OnlineComponentProvider"),yield uR(n,new jz))),n._onlineComponents})}function Bz(n){return PM(n).then(e=>e.syncEngine)}function sf(n){return v(this,null,function*(){let e=yield PM(n),t=e.eventManager;return t.onListen=Tz.bind(null,e.syncEngine),t.onUnlisten=Rz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mz.bind(null,e.syncEngine),t})}function $z(n,e,t={}){let r=new En;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new ou({next:y=>{h.yu(),s.enqueueAndForget(()=>yE(o,p));let m=y.docs.has(a);!m&&y.fromCache?l.reject(new B(x.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&y.fromCache&&u&&u.source==="server"?l.reject(new B(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new iu(vf(a.path),h,{includeMetadataChanges:!0,Fa:!0});return mE(o,p)}(yield sf(n),n.asyncQueue,e,t,r)})),r.promise}function Hz(n,e,t={}){let r=new En;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new ou({next:y=>{h.yu(),s.enqueueAndForget(()=>yE(o,p)),y.fromCache&&u.source==="server"?l.reject(new B(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new iu(a,h,{includeMetadataChanges:!0,Fa:!0});return mE(o,p)}(yield sf(n),n.asyncQueue,e,t,r)})),r.promise}function xM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var lR=new Map;function kM(n,e,t){if(!t)throw new B(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zz(n,e,t,r){if(e===!0&&r===!0)throw new B(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dR(n){if(!W.isDocumentKey(n))throw new B(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hR(n){if(W.isDocumentKey(n))throw new B(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Vt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Cf(n);throw new B(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var OM="firestore.googleapis.com",fR=!0,af=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OM,this.ssl=fR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nz)throw new B(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m_;switch(r.type){case"firstParty":return new I_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=lR.get(t);r&&(U("ComponentProvider","Removing Datastore"),lR.delete(t),r.terminate())}(this),Promise.resolve()}};function FM(n,e,t,r={}){var i;let o=(n=Vt(n,qs))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==OM&&o.host!==a&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Fn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ot.MOCK_USER;else{l=H0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new B(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ot(p)}n._authCredentials=new y_(new xh(l,h))}}var vo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},vt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ui=class n extends vo{constructor(e,t,r){super(e,t,vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new W(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function LM(n,e,...t){if(n=$e(n),kM("collection","path",e),n instanceof qs){let r=xe.fromString(e,...t);return hR(r),new ui(n,null,r)}{if(!(n instanceof vt||n instanceof ui))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return hR(r),new ui(n.firestore,null,r)}}function EE(n,e,...t){if(n=$e(n),arguments.length===1&&(e=Oh.newId()),kM("doc","path",e),n instanceof qs){let r=xe.fromString(e,...t);return dR(r),new vt(n,null,new W(r))}{if(!(n instanceof vt||n instanceof ui))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return dR(r),new vt(n.firestore,n instanceof ui?n.converter:null,new W(r))}}var pR="AsyncQueue",cf=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Jh(this,"async_queue_retry"),this.ju=()=>{let r=p_();r&&U(pR,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=p_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=p_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new En;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return v(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Qs(e))throw e;U(pR,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ir("INTERNAL UNHANDLED ERROR: ",gR(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=kI.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&K(47125,{ec:gR(this.Ku)})}verifyOperationInProgress(){}tc(){return v(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function gR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function mR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Cn=class extends qs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new cf(e),this._firestoreClient=void 0,yield e}})}};function VM(n,e){let t=typeof n=="object"?n:Xi(),r=typeof n=="string"?n:e||jh,i=Es(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=$0("firestore");o&&FM(i,...o)}return i}function bf(n){if(n._terminated)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qz(n),n._firestoreClient}function qz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new b_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new zI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var su=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(_t.fromBase64String(e))}catch(t){throw new B(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var au=class{constructor(e){this._methodName=e}};var cu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var uu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Gz=/^__.*__$/,qI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,t,this.fieldTransforms):new mo(e,this.data,t,this.fieldTransforms)}},uf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function jM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{oc:n})}}var GI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return df(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(jM(this.oc)&&Gz.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},WI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ef(e)}dc(e,t,r,i=!1){return new GI({oc:e,methodName:t,Ec:r,path:Qt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Tf(n){let e=n._freezeSettings(),t=Ef(n._databaseId);return new WI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UM(n,e,t,r,i,o={}){let s=n.dc(o.merge||o.mergeFields?2:0,e,t,i);wE("Data must be an object, but it was:",s,r);let a=BM(r,s),u,l;if(o.merge)u=new un(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=KI(e,p,t);if(!s.contains(y))throw new B(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);HM(h,y)||h.push(y)}u=new un(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new qI(new Kt(a),u,l)}var lf=class n extends au{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Wz(n,e,t,r){let i=n.dc(1,e,t);wE("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();fi(r,(u,l)=>{let h=DE(e,u,t);l=$e(l);let p=i.hc(h);if(l instanceof lf)o.push(h);else{let y=pu(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new un(o);return new uf(s,a,i.fieldTransforms)}function Kz(n,e,t,r,i,o){let s=n.dc(1,e,t),a=[KI(e,r,t)],u=[i];if(o.length%2!=0)throw new B(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(KI(e,o[y])),u.push(o[y+1]);let l=[],h=Kt.empty();for(let y=a.length-1;y>=0;--y)if(!HM(l,a[y])){let m=a[y],D=u[y];D=$e(D);let M=s.hc(m);if(D instanceof lf)l.push(m);else{let R=pu(D,M);R!=null&&(l.push(m),h.set(m,R))}}let p=new un(l);return new uf(h,p,s.fieldTransforms)}function Qz(n,e,t,r=!1){return pu(t,n.dc(r?4:3,e))}function pu(n,e){if($M(n=$e(n)))return wE("Unsupported field value:",e,n),BM(n,e);if(n instanceof au)return function(r,i){if(!jM(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=pu(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=dt.fromDate(r);return{timestampValue:Gh(i.serializer,o)}}if(r instanceof dt){let o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,o)}}if(r instanceof cu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof su)return{bytesValue:uM(i.serializer,r._byteString)};if(r instanceof vt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uu)return function(s,a){return{mapValue:{fields:{[rE]:{stringValue:iE},[Os]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return cE(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Cf(r)}`)}(n,e)}function BM(n,e){let t={};return OR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(n,(r,i)=>{let o=pu(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $M(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof cu||n instanceof su||n instanceof vt||n instanceof au||n instanceof uu)}function wE(n,e,t){if(!$M(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Cf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function KI(n,e,t){if((e=$e(e))instanceof Gs)return e._internalPath;if(typeof e=="string")return DE(n,e);throw df("Field path arguments must be of type string or ",n,!1,void 0,t)}var Yz=new RegExp("[~\\*/\\[\\]]");function DE(n,e,t){if(e.search(Yz)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gs(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function df(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(x.INVALID_ARGUMENT,a+n+u)}function HM(n,e){return n.some(t=>t.isEqual(e))}var hf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(CE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},QI=class extends hf{data(){return super.data()}};function CE(n,e){return typeof e=="string"?DE(n,e):e instanceof Gs?e._internalPath:e._delegate._internalPath}function zM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lu=class{},YI=class extends lu{};function qM(n,e,...t){let r=[];e instanceof lu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof ZI).length,a=o.filter(u=>u instanceof ff).length;if(s>1||s>0&&a>0)throw new B(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ff=class n extends YI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return WM(e._query,t),new vo(e.firestore,e.converter,V_(e._query,t))}_parse(e){let t=Tf(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vR(p,h);let D=[];for(let M of p)D.push(yR(u,o,M));y={arrayValue:{values:D}}}else y=yR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vR(p,h),y=Qz(a,s,p,h==="in"||h==="not-in");return Ge.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function GM(n,e,t){let r=e,i=CE("where",n);return ff._create(i,r,t)}var ZI=class n extends lu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Dn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)WM(s,u),s=V_(s,u)}(e._query,t),new vo(e.firestore,e.converter,V_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function yR(n,e,t){if(typeof(t=$e(t))=="string"){if(t==="")throw new B(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(e)&&t.indexOf("/")!==-1)throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(xe.fromString(t));if(!W.isDocumentKey(r))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FA(n,new W(r))}if(t instanceof vt)return FA(n,t._key);throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(t)}.`)}function vR(n,e){if(!Array.isArray(n)||n.length===0)throw new B(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var JI=class{convertValue(e,t="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Os].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new uu(o)}convertGeoPoint(e){return new cu(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=yf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){let t=Er(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=xe.fromString(e);we(gM(r),9688,{name:e});let i=new Uh(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(t)||Ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function KM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pf=class extends hf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ps=class extends pf{data(e={}){return super.data(e)}},gf=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ps(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Zz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Zz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}function QM(n){n=Vt(n,vt);let e=Vt(n.firestore,Cn);return $z(bf(e),n._key).then(t=>tN(e,n,t))}var du=class extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}};function YM(n){n=Vt(n,vo);let e=Vt(n.firestore,Cn),t=bf(e),r=new du(e);return zM(n._query),Hz(t,n._query).then(i=>new gf(e,r,n,i))}function ZM(n,e,t){n=Vt(n,vt);let r=Vt(n.firestore,Cn),i=KM(n.converter,e,t);return Sf(r,[UM(Tf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Hn.none())])}function JM(n,e,t,...r){n=Vt(n,vt);let i=Vt(n.firestore,Cn),o=Tf(i),s;return s=typeof(e=$e(e))=="string"||e instanceof Gs?Kz(o,"updateDoc",n._key,e,t,r):Wz(o,"updateDoc",n._key,e),Sf(i,[s.toMutation(n._key,Hn.exists(!0))])}function XM(n){return Sf(Vt(n.firestore,Cn),[new Xc(n._key,Hn.none())])}function eN(n,e){let t=Vt(n.firestore,Cn),r=EE(n),i=KM(n.converter,e);return Sf(t,[UM(Tf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function bE(n,...e){var t,r,i;n=$e(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof vt)l=Vt(n.firestore,Cn),h=vf(n._key.path),u={next:p=>{e[s]&&e[s](tN(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Vt(n,vo);l=Vt(p.firestore,Cn),h=p._query;let y=new du(l);u={next:m=>{e[s]&&e[s](new gf(l,y,p,m))},error:e[s+1],complete:e[s+2]},zM(n._query)}return function(y,m,D,M){let R=new ou(M),j=new iu(m,R,D);return y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return mE(yield sf(y),j)})),()=>{R.yu(),y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return yE(yield sf(y),j)}))}}(bf(l),h,a,u)}function Sf(n,e){return function(r,i){let o=new En;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Nz(yield Bz(r),i,o)})),o.promise}(bf(n),e)}function tN(n,e,t){let r=t.docs.get(e._key),i=new du(n);return new pf(n,i,e._key,r,new uo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ws=i})(ei),_n(new Mt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Cn(new v_(r.getProvider("auth-internal")),new E_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fe(TA,SA,e),Fe(TA,SA,"esm2017")})();var Af=function(){return Af=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Af.apply(this,arguments)};var eq={includeMetadataChanges:!1};function nN(n,e){return e===void 0&&(e=eq),new ue(function(t){var r=bE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function rN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Af(Af({},r),(t={},t[e.idField]=n.id,t))}function iN(n){return nN(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function oN(n,e){return e===void 0&&(e={}),iN(n).pipe(le(function(t){return t.map(function(r){return rN(r,e)})}))}var bn=class{constructor(e){return e}},sN="firestore",TE=class{constructor(){return Ds(sN)}};var SE=new H("angularfire2.firestore-instances");function tq(n,e){let t=Mc(sN,n,e);return t&&new bn(t)}function nq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bn(r)}}var rq={provide:TE,deps:[[new Bt,SE]]},iq={provide:bn,useFactory:tq,deps:[[new Bt,SE],pr]};function aN(n,...e){return Fe("angularfire",ti.full,"fst"),or([iq,rq,{provide:SE,useFactory:nq(n),multi:!0,deps:[Ce,lt,ni,to,[new Bt,$c],[new Bt,Cs],...e]}])}var Rf=He(oN,!0);var cN=He(eN,!0,2);var Zs=He(LM,!0,2);var Mf=He(XM,!0,2);var br=He(EE,!0,2);var uN=He(QM,!0);var lN=He(YM,!0);var dN=He(VM,!0);var hN=He(qM,!0,2);var fN=He(ZM,!0,2);var Nf=He(JM,!0,2);var pN=He(GM,!0,2);var It=class n{constructor(){}firebaseAuth=N(so);firestore=N(bn);router=N(et);login(e,t){return v(this,null,function*(){try{let i=(yield DA(this.firebaseAuth,e,t)).user.uid,o=br(this.firestore,`/users/${i}`),s=yield uN(o);if(!s.exists())throw new Error("User's data not found in Firestore'");let u=s.data().role,l={uid:i,email:e,role:u};localStorage.setItem("role",u),localStorage.setItem("user",JSON.stringify(l)),localStorage.setItem("token","true"),this.router.navigate(["/dashboard"])}catch(r){console.error("Login failed:",r),alert("Invalid Email or password")}})}logout(){this.firebaseAuth.signOut().then(()=>{localStorage.clear(),this.router.navigate([""])}),console.log("Logging Out")}doesEmailExist(e){return v(this,null,function*(){let t=Zs(this.firestore,"users"),r=hN(t,pN("email","==",e.toLowerCase()));return!(yield lN(r)).empty})}resetPassword(e){wA(this.firebaseAuth,e).then(()=>alert("Password reset link sent to your email!")).catch(t=>alert("Error sending reset link sent to your email: "+t.message))}loggedIn(){return localStorage.getItem("token")=="true"}isManager(){return localStorage.getItem("role")=="MANAGER"}isEmployee(){return localStorage.getItem("role")=="EMPLOYEE"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var DN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(pe(rs),pe(Bi))};static \u0275dir=tt({type:n})}return n})(),sq=(()=>{class n extends DN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275dir=tt({type:n,features:[cr]})}return n})(),CN=new H("");var aq={provide:CN,useExisting:Vi(()=>Wn),multi:!0};function cq(){let n=an()?an().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var uq=new H(""),Wn=(()=>{class n extends DN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(pe(rs),pe(Bi),pe(uq,8))};static \u0275dir=tt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_e("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Za([aq]),cr]})}return n})();function lq(n){return n==null||dq(n)===0}function dq(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var NE=new H(""),bN=new H("");function hq(n){return lq(n.value)?{required:!0}:null}function gN(n){return null}function TN(n){return n!=null}function SN(n){return Gr(n)?Pe(n):n}function AN(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function RN(n,e){return e.map(t=>t(n))}function fq(n){return!n.validate}function MN(n){return n.map(e=>fq(e)?e:t=>e.validate(t))}function pq(n){if(!n)return null;let e=n.filter(TN);return e.length==0?null:function(t){return AN(RN(t,e))}}function PE(n){return n!=null?pq(MN(n)):null}function gq(n){if(!n)return null;let e=n.filter(TN);return e.length==0?null:function(t){let r=RN(t,e).map(SN);return eg(r).pipe(le(AN))}}function xE(n){return n!=null?gq(MN(n)):null}function mN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mq(n){return n._rawValidators}function yq(n){return n._rawAsyncValidators}function AE(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function yN(n,e){let t=AE(e);return AE(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function vN(n,e){return AE(e).filter(t=>!xf(n,t))}var kf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=PE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ea=class extends kf{name;get formDirective(){return null}get path(){return null}},Iu=class extends kf{_parent=null;name=null;valueAccessor=null},Of=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_X=ce(F({},vq),{"[class.ng-submitted]":"isSubmitted"}),gi=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(Iu,2))};static \u0275dir=tt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&on("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[cr]})}return n})(),mi=(()=>{class n extends Of{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(ea,10))};static \u0275dir=tt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&on("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[cr]})}return n})();var gu="VALID",Pf="INVALID",Js="PENDING",mu="DISABLED",pi=class{},Ff=class extends pi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},vu=class extends pi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},_u=class extends pi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Xs=class extends pi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},RE=class extends pi{source;constructor(e){super(),this.source=e}},ME=class extends pi{source;constructor(e){super(),this.source=e}};function NN(n){return(jf(n)?n.validators:n)||null}function _q(n){return Array.isArray(n)?PE(n):n||null}function PN(n,e){return(jf(e)?e.asyncValidators:n)||null}function Iq(n){return Array.isArray(n)?xE(n):n||null}function jf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Eq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function wq(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Lf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return sn(this.statusReactive)}set status(e){sn(()=>this.statusReactive.set(e))}_status=os(()=>this.statusReactive());statusReactive=$r(void 0);get valid(){return this.status===gu}get invalid(){return this.status===Pf}get pending(){return this.status==Js}get disabled(){return this.status===mu}get enabled(){return this.status!==mu}errors;get pristine(){return sn(this.pristineReactive)}set pristine(e){sn(()=>this.pristineReactive.set(e))}_pristine=os(()=>this.pristineReactive());pristineReactive=$r(!0);get dirty(){return!this.pristine}get touched(){return sn(this.touchedReactive)}set touched(e){sn(()=>this.touchedReactive.set(e))}_touched=os(()=>this.touchedReactive());touchedReactive=$r(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vN(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new _u(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new _u(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(F({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new vu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new vu(!0,r))}markAsPending(e={}){this.status=Js;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=mu,this.errors=null,this._forEachChild(i=>{i.disable(ce(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ff(this.value,r)),this._events.next(new Xs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gu,this._forEachChild(r=>{r.enable(ce(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===Js)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ff(this.value,t)),this._events.next(new Xs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mu:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Js,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=SN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?mu:this.errors?Pf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Js)?Js:this._anyControlsHaveStatus(Pf)?Pf:gu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new vu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new _u(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=_q(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Iq(this._rawAsyncValidators)}},Vf=class extends Lf{constructor(e,t,r){super(NN(t),PN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wq(this,!0,e),Object.keys(e).forEach(r=>{Eq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kE=new H("",{providedIn:"root",factory:()=>OE}),OE="always";function Dq(n,e){return[...e.path,n]}function xN(n,e,t=OE){kN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),bq(n,e),Sq(n,e),Tq(n,e),Cq(n,e)}function _N(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function kN(n,e){let t=mq(n);e.validator!==null?n.setValidators(mN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=yq(n);e.asyncValidator!==null?n.setAsyncValidators(mN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();_N(e._rawValidators,i),_N(e._rawAsyncValidators,i)}function bq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ON(n,e)})}function Tq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ON(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ON(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Aq(n,e){n==null,kN(n,e)}function Rq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Mq(n){return Object.getPrototypeOf(n.constructor)===sq}function Nq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Pq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Wn?t=o:Mq(o)?r=o:i=o}),i||r||t||null}var xq={provide:ea,useExisting:Vi(()=>Tr)},yu=Promise.resolve(),Tr=(()=>{class n extends ea{callSetDisabledState;get submitted(){return sn(this.submittedReactive)}_submitted=os(()=>this.submittedReactive());submittedReactive=$r(!1);_directives=new Set;form;ngSubmit=new Qe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Vf({},PE(t),xE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),xN(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yu.then(()=>{let r=this._findContainer(t.path),i=new Vf({});Aq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Nq(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new RE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new ME(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(pe(NE,10),pe(bN,10),pe(kE,8))};static \u0275dir=tt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&_e("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Za([xq]),cr]})}return n})();function IN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function EN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var kq=class extends Lf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(NN(t),PN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(EN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){EN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Oq={provide:Iu,useExisting:Vi(()=>Sr)},wN=Promise.resolve(),Sr=(()=>{class n extends Iu{_changeDetectorRef;callSetDisabledState;control=new kq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Qe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Pq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Rq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){wN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&qi(r);wN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dq(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(pe(ea,9),pe(NE,10),pe(bN,10),pe(CN,10),pe(zi,8),pe(kE,8))};static \u0275dir=tt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Za([Oq]),cr,Br]})}return n})();var yi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var Fq=(()=>{class n{_validator=gN;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gN,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,features:[Br]})}return n})();var Lq={provide:NE,useExisting:Vi(()=>Eu),multi:!0};var Eu=(()=>{class n extends Fq{required;inputName="required";normalizeInput=qi;createValidator=t=>hq;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ns(n)))(i||n)}})();static \u0275dir=tt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ya("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Za([Lq]),cr]})}return n})();var Vq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zr({type:n});static \u0275inj=Ur({})}return n})();var Kn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kE,useValue:t.callSetDisabledState??OE}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zr({type:n});static \u0275inj=Ur({imports:[Vq]})}return n})();var Bf=class n{auth=N(It);email="";password="";onSubmit(){console.log("Login"),this.auth.login(this.email,this.password)}forgotPassword(){console.log("Forgot Pass")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"loginForm"],[3,"ngSubmit"],["for","email"],["type","text","placeholder","Email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","text","placeholder","Password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["routerLink","forgotPass",1,"btn","btn-warning"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"h1"),V(2,"Welcome! Please Sign In!"),P(),k(3,"form",1),_e("ngSubmit",function(){return r.onSubmit()}),k(4,"label",2),V(5,"Email"),P(),Se(6,"br"),k(7,"input",3),Xe("ngModelChange",function(o){return nt(r.email,o)||(r.email=o),o}),P(),Se(8,"br")(9,"br"),k(10,"label",4),V(11,"Password"),P(),Se(12,"br"),k(13,"input",5),Xe("ngModelChange",function(o){return nt(r.password,o)||(r.password=o),o}),P(),Se(14,"br")(15,"br"),k(16,"button",6),V(17,"Sign In!"),P()(),Se(18,"br"),k(19,"button",7),V(20,"Forgot Password"),P()()),t&2&&(q(7),Je("ngModel",r.email),q(6),Je("ngModel",r.password))},dependencies:[Kn,yi,Wn,gi,mi,Eu,Sr,Tr,Jr],styles:[".loginForm[_ngcontent-%COMP%]{text-align:center}.loginForm[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#daa520}"]})};var $f=class n{auth=N(It);router=N(et);email="";onSubmit(){return v(this,null,function*(){console.log("Forgot Pass"),(yield this.auth.doesEmailExist(this.email))?this.auth.resetPassword(this.email):alert("Email does not match any known/valid email")})}resetPassword(){this.email!==null?(this.auth.resetPassword(this.email),alert("Password Reset sent to your email!")):alert("Passwords do not match!")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-forgot-pass"]],decls:15,vars:1,consts:[[1,"forgotPassForm"],[3,"ngSubmit"],["for","email"],["type","text","placeholder","Email","name","email","required","",1,"emailBox",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success"],["routerLink","",1,"btn","btn-warning","hover-overlay"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"h1"),V(2,"Forgot Your Password? No Problem!"),P(),k(3,"form",1),_e("ngSubmit",function(){return r.onSubmit()}),k(4,"label",2),V(5,"Email"),P(),Se(6,"br"),k(7,"input",3),Xe("ngModelChange",function(o){return nt(r.email,o)||(r.email=o),o}),P(),Se(8,"br")(9,"br"),k(10,"button",4),V(11,"Submit"),P()(),Se(12,"br"),k(13,"button",5),V(14,"Back"),P()()),t&2&&(q(7),Je("ngModel",r.email))},dependencies:[Kn,yi,Wn,gi,mi,Eu,Sr,Tr,Jr],styles:[".forgotPassForm[_ngcontent-%COMP%]{text-align:center}.forgotPassForm[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700}.emailBox[_ngcontent-%COMP%]{width:250px}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#daa520}"]})};var Hf=class n{auth=N(It);router=N(et);isManager(){return this.auth.isManager()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-dashboard"]],decls:13,vars:0,consts:[[1,"container","md-4"],[1,"row"],[1,"col-sm-5","p-5","rounded-4"],["src","building.jpg","alt","Hardware building from outside",1,"img-fluid","rounded-4"],["src","toolShelf.jpg","alt","A shelf full of tools",1,"img-fluid","rounded-4"]],template:function(t,r){t&1&&(k(0,"div")(1,"h1"),V(2,"Our Mission Statement"),P()(),Se(3,"div",0),k(4,"div",0)(5,"p"),V(6,"Our mission at Jack of All Trades is to empower entrepreneurs and small-business owners to take full control of their operations with an intuitive, \u201Cdo it yourself!\u201D platform\u2014streamlining everything from inventory control and team management, so companies can maximize productivity, minimize overhead, and grow their business with unparalleled efficiency."),P(),Se(7,"br"),P(),k(8,"div",1)(9,"div",2),Se(10,"img",3),P(),k(11,"div",2),Se(12,"img",4),P()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-weight:700}.row[_ngcontent-%COMP%]{padding-left:15%}"]})};var zf=class n{firestore=N(bn);inventoryCollection=Zs(this.firestore,"items");searchTerm=$r("");getInventory(){return Rf(this.inventoryCollection,{idField:"id"})}addItem(e){let t=br(this.inventoryCollection),r=t.id;e.id=r,fN(t,e)}constructor(){}updateItem(e){let t=br(this.firestore,`items/${e.id}`);Nf(t,F({},e))}deleteItem(e){let t=br(this.firestore,`items/${e}`);Mf(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function jq(n,e){n&1&&(k(0,"h3",4),V(1,"Edit Item"),P())}function Uq(n,e){n&1&&(k(0,"h3",4),V(1,"Add Item"),P())}function Bq(n,e){if(n&1){let t=ur();k(0,"button",30),_e("click",function(){tn(t);let i=Ht();return nn(i.updateItem())}),V(1,"Update"),P(),k(2,"button",31),_e("click",function(){tn(t);let i=Ht();return nn(i.resetForm())}),V(3,"Reset"),P()}}function $q(n,e){if(n&1){let t=ur();k(0,"div")(1,"button",30),_e("click",function(){tn(t);let i=Ht();return nn(i.addItem())}),V(2," Add Item "),P()()}}function Hq(n,e){if(n&1){let t=ur();k(0,"tr")(1,"td"),V(2),P(),k(3,"td"),V(4),P(),k(5,"td"),V(6),P(),k(7,"td"),V(8),P(),k(9,"td"),V(10),P(),k(11,"td"),V(12),P(),k(13,"td"),V(14),P(),k(15,"td")(16,"button",32),_e("click",function(){let i=tn(t).$implicit,o=Ht();return nn(o.setEditItem(i))}),V(17,"Edit"),P(),k(18,"button",33),_e("click",function(){let i=tn(t).$implicit,o=Ht();return nn(o.deleteItem(i.id))}),V(19,"Delete"),P()()()}if(n&2){let t=e.$implicit;q(2),Ft(t.upc),q(2),Ft(t.brand),q(2),Ft(t.description),q(2),Ft(t.styleNum),q(2),lr("$",t.cost,""),q(2),lr("$",t.price,""),q(2),Ft(t.qty)}}var qf=class n{title="inventory";InventoryServiceService=N(zf);item={description:"",id:"",brand:"",price:0,cost:0,upc:"",styleNum:"",qty:0};input="";editItemId=null;items=[];filteredItems=[];sortColumn=null;sortDirection="asc";ngOnInit(){this.InventoryServiceService.getInventory().subscribe(e=>{this.items=e,this.filteredItems=[...this.items]})}addItem(){this.InventoryServiceService.addItem(this.item),this.filterItems()}setEditItem(e){this.item=F({},e),this.editItemId=e.id}deleteItem(e){this.InventoryServiceService.deleteItem(e),this.filterItems()}updateItem(){this.InventoryServiceService.updateItem(this.item),this.resetForm(),this.filterItems()}resetForm(){this.item={description:"",id:"",brand:"",price:0,cost:0,upc:"",styleNum:"",qty:0},this.editItemId=null,this.filterItems()}sendInput(){this.filterItems()}receiveInput(e){e==""&&this.ngOnInit(),this.filteredItems=[...this.items]}filterItems(){let e=this.input.toLowerCase();if(console.log("Search Term in filterItems:",e),!e){this.filteredItems=[...this.items];return}this.filteredItems=this.items.filter(t=>t.description.toLowerCase().includes(e)||t.upc.toLowerCase().includes(e)||t.styleNum.toLowerCase().includes(e)||t.brand.toLowerCase().includes(e))}sort(e){this.sortColumn===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc"),this.filteredItems.sort((t,r)=>{let i=t[e],o=r[e];return typeof i=="string"&&typeof o=="string"?this.sortDirection==="asc"?i.localeCompare(o):o.localeCompare(i):typeof i=="number"&&typeof o=="number"?this.sortDirection==="asc"?i-o:o-i:0})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-inventory"]],decls:73,vars:40,consts:[[1,"container"],[1,"container","mt-4"],[1,"card","shadow-sm"],[1,"card-header","text-white","invheader"],[1,"mb-0"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-6"],["for","description",1,"form-label"],["type","text","id","description","name","description","placeholder","Enter item description",1,"form-control",3,"ngModelChange","ngModel"],["for","upc",1,"form-label"],["type","text","id","upc","name","upc","placeholder","Enter UPC",1,"form-control",3,"ngModelChange","ngModel"],["for","styleNum",1,"form-label"],["type","text","id","styleNum","name","styleNum","placeholder","Enter Style Number",1,"form-control",3,"ngModelChange","ngModel"],["for","brand",1,"form-label"],["type","text","id","brand","name","brand","placeholder","Enter Brand",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["for","cost",1,"form-label"],["type","text","id","cost","name","cost","placeholder","Enter Cost",1,"form-control",3,"ngModelChange","ngModel"],["for","price",1,"form-label"],["type","text","id","price","name","price","placeholder","Enter Price",1,"form-control",3,"ngModelChange","ngModel"],["for","qty",1,"form-label"],["type","text","id","qty","name","qty","placeholder","Enter Quantity",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["for","search",1,"form-label"],["type","text",3,"ngModelChange","keyup","ngModel"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[3,"click"],[4,"ngFor","ngForOf","ngForTrack"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div")(2,"h1"),V(3,"Item Management"),P(),k(4,"div",1)(5,"div",2)(6,"div",3),rn(7,jq,2,0,"h3",4)(8,Uq,2,0,"h3",4),P(),k(9,"div",5)(10,"form")(11,"div",6)(12,"div",7)(13,"label",8),V(14,"Description"),P(),k(15,"input",9),Xe("ngModelChange",function(o){return nt(r.item.description,o)||(r.item.description=o),o}),P()(),k(16,"div",7)(17,"label",10),V(18,"UPC"),P(),k(19,"input",11),Xe("ngModelChange",function(o){return nt(r.item.upc,o)||(r.item.upc=o),o}),P()()(),k(20,"div",6)(21,"div",7)(22,"label",12),V(23,"Style Number"),P(),k(24,"input",13),Xe("ngModelChange",function(o){return nt(r.item.styleNum,o)||(r.item.styleNum=o),o}),P()(),k(25,"div",7)(26,"label",14),V(27,"Brand"),P(),k(28,"input",15),Xe("ngModelChange",function(o){return nt(r.item.brand,o)||(r.item.brand=o),o}),P()()(),k(29,"div",6)(30,"div",16)(31,"label",17),V(32,"Cost"),P(),k(33,"input",18),Xe("ngModelChange",function(o){return nt(r.item.cost,o)||(r.item.cost=o),o}),P()(),k(34,"div",16)(35,"label",19),V(36,"Price"),P(),k(37,"input",20),Xe("ngModelChange",function(o){return nt(r.item.price,o)||(r.item.price=o),o}),P()(),k(38,"div",16)(39,"label",21),V(40,"Quantity"),P(),k(41,"input",22),Xe("ngModelChange",function(o){return nt(r.item.qty,o)||(r.item.qty=o),o}),P()()(),rn(42,Bq,4,0)(43,$q,3,0,"div"),P()()()(),k(44,"div",1)(45,"h2",23),V(46,"Inventory"),P(),k(47,"div")(48,"label",24),V(49,"Search: "),P(),k(50,"input",25),Xe("ngModelChange",function(o){return nt(r.input,o)||(r.input=o),o}),_e("keyup",function(){return r.sendInput()}),P()(),Se(51,"br"),k(52,"table",26)(53,"thead",27)(54,"tr")(55,"th",28),_e("click",function(){return r.sort("upc")}),V(56,"UPC"),P(),k(57,"th",28),_e("click",function(){return r.sort("brand")}),V(58,"Brand"),P(),k(59,"th",28),_e("click",function(){return r.sort("description")}),V(60,"Description"),P(),k(61,"th",28),_e("click",function(){return r.sort("styleNum")}),V(62,"Style Number"),P(),k(63,"th",28),_e("click",function(){return r.sort("cost")}),V(64,"Cost"),P(),k(65,"th",28),_e("click",function(){return r.sort("price")}),V(66,"Price"),P(),k(67,"th",28),_e("click",function(){return r.sort("qty")}),V(68,"Quantity"),P(),k(69,"th"),V(70,"Actions"),P()()(),k(71,"tbody"),rn(72,Hq,20,7,"tr",29),P()()()()()),t&2&&(q(7),Hi(r.editItemId?7:8),q(8),Je("ngModel",r.item.description),q(4),Je("ngModel",r.item.upc),q(5),Je("ngModel",r.item.styleNum),q(4),Je("ngModel",r.item.brand),q(5),Je("ngModel",r.item.cost),q(4),Je("ngModel",r.item.price),q(4),Je("ngModel",r.item.qty),q(),Hi(r.editItemId?42:43),q(8),Je("ngModel",r.input),q(5),on("sort-asc",r.sortColumn==="upc"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="upc"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="brand"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="brand"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="description"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="description"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="styleNum"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="styleNum"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="cost"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="cost"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="price"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="price"&&r.sortDirection==="desc"),q(2),on("sort-asc",r.sortColumn==="qty"&&r.sortDirection==="asc")("sort-desc",r.sortColumn==="qty"&&r.sortDirection==="desc"),q(5),mn("ngForOf",r.filteredItems)("ngForTrack",r.item.id))},dependencies:[Kn,yi,Wn,gi,mi,Sr,Tr,Kr,cs],styles:['th[_ngcontent-%COMP%]{cursor:pointer}th.sort-asc[_ngcontent-%COMP%]:after{content:" \\25b2"}th.sort-desc[_ngcontent-%COMP%]:after{content:" \\25bc"}.invheader[_ngcontent-%COMP%]{background-color:#1d97cf}']})};function zq(n,e){if(n&1){let t=ur();k(0,"button",15),_e("click",function(){tn(t);let i=Ht();return nn(i.cancelEdit())}),V(1," Cancel "),P()}}function qq(n,e){if(n&1){let t=ur();k(0,"tr")(1,"td"),V(2),P(),k(3,"td"),V(4),P(),k(5,"td"),V(6),P(),k(7,"td")(8,"button",16),_e("click",function(){let i=tn(t).$implicit,o=Ht();return nn(o.editEmployee(i))}),V(9," Edit "),P(),k(10,"button",17),_e("click",function(){let i=tn(t).$implicit,o=Ht();return nn(o.deleteEmployee(i.id))}),V(11," Delete "),P()()()}if(n&2){let t=e.$implicit;q(2),Ft(t.name),q(2),Ft(t.email),q(2),Ft(t.phone)}}var Gf=class n{constructor(e){this.firestore=e;this.employeesCollection=Zs(this.firestore,"employees")}name="";email="";phone="";editId=null;employees$;employeesCollection;ngOnInit(){this.employees$=Rf(this.employeesCollection,{idField:"id"})}addEmployee(){return v(this,null,function*(){!this.name||!this.email||!this.phone||(yield cN(this.employeesCollection,{name:this.name,email:this.email,phone:this.phone}),this.name="",this.email="",this.phone="")})}editEmployee(e){this.editId=e.id,this.name=e.name,this.email=e.email,this.phone=e.phone}updateEmployee(){return v(this,null,function*(){if(!this.editId)return;let e=br(this.firestore,"employees",this.editId);yield Nf(e,{name:this.name,email:this.email,phone:this.phone}),this.cancelEdit()})}deleteEmployee(e){return v(this,null,function*(){let t=br(this.firestore,"employees",e);yield Mf(t)})}cancelEdit(){this.editId=null,this.name="",this.email="",this.phone=""}trackByEmployeeId(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(pe(bn))};static \u0275cmp=Ue({type:n,selectors:[["app-contacts"]],decls:36,vars:10,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-4"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","placeholder","Enter name",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter email",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","text","id","phone","name","phone","placeholder","Enter phone",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["class","btn btn-secondary ms-2","type","button",3,"click",4,"ngIf"],[1,"col-md-8"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"btn","btn-sm","btn-info","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),V(4),P(),k(5,"form")(6,"div",3)(7,"label",4),V(8,"Name"),P(),k(9,"input",5),Xe("ngModelChange",function(o){return nt(r.name,o)||(r.name=o),o}),P()(),k(10,"div",3)(11,"label",6),V(12,"Email"),P(),k(13,"input",7),Xe("ngModelChange",function(o){return nt(r.email,o)||(r.email=o),o}),P()(),k(14,"div",3)(15,"label",8),V(16,"Phone"),P(),k(17,"input",9),Xe("ngModelChange",function(o){return nt(r.phone,o)||(r.phone=o),o}),P()(),k(18,"button",10),_e("click",function(){return r.editId?r.updateEmployee():r.addEmployee()}),V(19),P(),rn(20,zq,2,0,"button",11),P()(),k(21,"div",12)(22,"table",13)(23,"thead")(24,"tr")(25,"th"),V(26,"Name"),P(),k(27,"th"),V(28,"Email"),P(),k(29,"th"),V(30,"Phone"),P(),k(31,"th"),V(32,"Actions"),P()()(),k(33,"tbody"),rn(34,qq,12,3,"tr",14),ET(35,"async"),P()()()()()),t&2&&(q(4),Ft(r.editId?"Edit Employee":"Add Employee"),q(5),Je("ngModel",r.name),q(4),Je("ngModel",r.email),q(4),Je("ngModel",r.phone),q(2),lr(" ",r.editId?"Update Employee":"Add Employee"," "),q(),mn("ngIf",r.editId),q(14),mn("ngForOf",wT(35,8,r.employees$))("ngForTrackBy",r.trackByEmployeeId))},dependencies:[Kn,yi,Wn,gi,mi,Sr,Tr,Kr,cs,oy,sy],encapsulation:2})};var Wf=(n,e)=>{let t=N(et);return N(It).loggedIn()?!0:(t.navigate([""]),!1)};var FE=(n,e)=>{let t=N(et);return N(It).loggedIn()?(t.navigate(["/dashboard"]),!1):!0};var FN=(n,e)=>{let t=N(et);return!!N(It).isManager()};function Gq(n,e){if(n&1&&(k(0,"th"),V(1),P()),n&2){let t=e.$implicit;q(),Ft(t)}}function Wq(n,e){n&1&&(k(0,"th"),V(1,"Schedule undergoing maintenance"),P())}function Kq(n,e){if(n&1&&(k(0,"td"),V(1),P()),n&2){let t=e.$implicit;q(),lr(" ",t,"")}}function Qq(n,e){n&1&&(k(0,"td"),V(1,"There's no schedule in place yet. "),P())}var Kf=class n{days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];timeSlots=["06:00-15:00","08:00-17:00","OFF","12:00-22:00","10:00-19:00","OFF","OFF"];getEvent(e,t){return this.events[`${e}_${t}`]}events={"Monday_08:00":"Hardware Shift","Wednesday_10:00":"Hardware Shift","Friday_14:00":"Hardware Shift"};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-scheduling"]],decls:23,vars:2,consts:[["className","min-h-screen flex flex-col"],["className","flex-1 bg-gray-100"],["className","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"],["className","flex justify-between items-center mb-6"],["className","bg-gray-800 text-white px-4 py-2 rounded-md hover:bg-gray-700"],["className","flex items-center space-x-2"],["className","text-gray-700"],["type","text","className","border border-gray-300 rounded-md px-3 py-2","placeholder","Search employee..."],[1,"calendar"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"button",4),V(5," Edit Schedule "),P(),k(6,"div",5)(7,"span",6),V(8,"Employee"),P(),Se(9,"input",7),k(10,"button",4),V(11," Search "),P()()(),k(12,"table",8)(13,"thead")(14,"tr"),Ym(15,Gq,2,1,"th",null,Qm,!1,Wq,2,0,"th"),P()(),k(18,"tbody")(19,"tr"),Ym(20,Kq,2,1,"td",null,Qm,!1,Qq,2,0,"td"),P()()()()()()),t&2&&(q(15),Zm(r.days),q(5),Zm(r.timeSlots))},dependencies:[Kn,Kr],styles:[".calendar[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:center}.calendar[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;height:60px}.calendar[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}"]})};var LN=[{path:"",component:Bf,title:"Login",canActivate:[FE]},{path:"forgotPass",component:$f,title:"Forgot Password",canActivate:[FE]},{path:"dashboard",component:Hf,title:"Dashboard",canActivate:[Wf]},{path:"inventory",component:qf,title:"Inventory",canActivate:[Wf]},{path:"contacts",component:Gf,title:"Contacts",canActivate:[FN]},{path:"scheduling",component:Kf,title:"Scheduling",canActivate:[Wf]}];var Yq={apiKey:"AIzaSyDwnSna2KL2b6VUDtrls4weRM6nn6rp1UQ",authDomain:"csci-313-final---inventory.firebaseapp.com",projectId:"csci-313-final---inventory",storageBucket:"csci-313-final---inventory.firebasestorage.app",messagingSenderId:"95794925273",appId:"1:95794925273:web:4e51d8d580e00c9183f8c8",measurementId:"G-SMEJSMTK76"},VN={providers:[TT({eventCoalescing:!0}),$y(LN,Hy()),gS(()=>mS(Yq)),aN(()=>dN()),IA(()=>EA())]};function Zq(n,e){n&1&&(k(0,"button",2),Se(1,"img",3),P())}function Jq(n,e){n&1&&Se(0,"img",3)}function Xq(n,e){n&1&&(k(0,"a",5),V(1,"Contacts"),P()),n&2&&mn("routerLink","contacts")}function e4(n,e){if(n&1){let t=ur();k(0,"nav",4)(1,"a",5),V(2,"Dashboard"),P(),k(3,"a",5),V(4,"Inventory"),P(),k(5,"a",5),V(6,"Scheduling"),P(),rn(7,Xq,2,1,"a",5),P(),k(8,"div",6)(9,"button",7),_e("click",function(){tn(t);let i=Ht();return nn(i.logout())}),V(10,"Logout"),P()()}if(n&2){let t=Ht();q(),mn("routerLink","dashboard"),q(2),mn("routerLink","inventory"),q(2),mn("routerLink","scheduling"),q(2),Hi(t.isManager()?7:-1)}}var Qf=class n{auth=N(It);router=N(et);logout(){this.auth.logout()}isLoginRoute(){let e=this.router.url;return e==="/"||e==="/forgotPass"}loggedIn(){return this.auth.loggedIn()}isManager(){return this.auth.isManager()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"header"],[1,"logo"],["routerLink","dashboard",1,"headerbtn"],["src","toolset.jpg","alt","Logo",1,"logo-img"],[1,"nav-links"],[1,"nav-link",3,"routerLink"],[1,"logout"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){t&1&&(k(0,"header",0)(1,"div",1),rn(2,Zq,2,0,"button",2)(3,Jq,1,0,"img",3),P(),rn(4,e4,11,4),P()),t&2&&(q(2),Hi(r.loggedIn()?2:3),q(2),Hi(r.isLoginRoute()?-1:4))},dependencies:[Jr],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#1d97cf;box-shadow:0 2px 5px #0000001a}.logo-img[_ngcontent-%COMP%]{width:50px;height:auto;background-color:transparent}.companyName[_ngcontent-%COMP%]{display:flex;overflow:hidden;font-weight:700}.nav-links[_ngcontent-%COMP%]{display:flex;gap:20px;float:right}.nav-link[_ngcontent-%COMP%]{color:#333;font-weight:700}.nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.logout[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-danger[_ngcontent-%COMP%]{background-color:#f30c0c88;color:#fff;border:none;padding:8px 15px}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#581209c2}"]})};var Yf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"footer","fixed-bottom"]],template:function(t,r){t&1&&(k(0,"footer",0)(1,"div")(2,"p"),V(3,"Jack of All Trades"),P(),k(4,"p"),V(5,"All rights reserved \xA9 2025."),P(),k(6,"p"),V(7,"This project is entirely fictional, serving as a simulation."),P()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#1d97cf;color:#000;text-align:center}"]})};var Zf=class n{title="finalproject";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&Se(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ic,Qf,Yf],encapsulation:2})};yy(Zf,VN).catch(n=>console.error(n));
